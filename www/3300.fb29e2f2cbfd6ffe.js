"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3300],{3300:(ne,f,l)=>{l.r(f),l.d(f,{WhatsappVisitsModule:()=>te});var d=l(177),g=l(3477),p=l(5933),h=l(9417),w=l(5788),v=l(4127),P=l(9437),b=l(7673),M=l(7468),y=l(8032),m=l.n(y),e=l(4438),V=l(9451),j=l(3317),u=l(8676),S=l(2408),k=l(2152),x=l(8833);const F=["filterModal"],T=["visitAssign"],I=["mainscrollContainer"],C=s=>({backgroundLightColor:s});function O(s,r){1&s&&(e.j41(0,"div",13),e.nrm(1,"ion-img",14),e.k0s())}function D(s,r){1&s&&e.nrm(0,"app-header")}function G(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-row",15)(1,"div",16)(2,"ion-col",17),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onpendingFreshleads("1"))}),e.j41(3,"div",18),e.EFF(4),e.k0s()(),e.j41(5,"ion-col",17),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onpendingFreshleads(2))}),e.j41(6,"div",18),e.EFF(7),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(3),e.Y8G("ngClass","1"==n.filteredParams.leads?"leftBorder":""),e.R7$(),e.SpI("Fresh Leads ","( "+n.freshvisits_count+" )"," "),e.R7$(2),e.Y8G("ngClass","2"==n.filteredParams.leads?"rightBorder":""),e.R7$(),e.SpI(" Pending Leads ","( "+n.pendingleads_count+" )"," ")}}function E(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-button",23),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return t.filteredParams.fromdate="",t.filteredParams.todate="",e.Njj(t.addQueryParams())}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"ion-icon",24),e.k0s()}if(2&s){const n=e.XpG(2);e.R7$(2),e.Lme("",n.filteredParams.fromdate,""," to "+n.filteredParams.todate,"")}}function R(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return t.filteredParams.propname="",e.Njj(t.addQueryParams())}),e.EFF(1),e.nrm(2,"ion-icon",24),e.k0s()}if(2&s){const n=e.XpG(2);e.R7$(),e.SpI(" ","GR - Microsite"==n.filteredParams.propname?"GR - campaign":n.filteredParams.propname," ")}}function B(s,r){if(1&s&&(e.j41(0,"ion-row",19)(1,"div",20),e.DNE(2,E,4,2,"ion-button",21)(3,R,3,1,"ion-button",22),e.k0s()()),2&s){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",n.filteredParams.fromdate&&n.filteredParams.todate),e.R7$(),e.Y8G("ngIf",n.filteredParams.propname)}}function W(s,r){if(1&s){const n=e.RV6();e.j41(0,"div",41),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onVisitAssign(t))}),e.j41(1,"a",42),e.nrm(2,"ion-img",43),e.k0s()()}}function N(s,r){if(1&s&&(e.j41(0,"div",44)(1,"a",45),e.nrm(2,"ion-img",46),e.k0s(),e.j41(3,"a",47),e.nrm(4,"ion-img",48),e.k0s()()),2&s){const n=e.XpG().$implicit;e.R7$(),e.Mz_("href","tel:",n.number,"",e.B4B),e.R7$(2),e.Mz_("href","https://wa.me/+91",n.number,"",e.B4B)}}function L(s,r){1&s&&(e.j41(0,"div",44)(1,"a",42),e.nrm(2,"ion-img",46),e.k0s(),e.j41(3,"a"),e.nrm(4,"ion-img",48),e.k0s()())}function X(s,r){1&s&&(e.j41(0,"span")(1,"span")(2,"ion-item-options",49),e.nrm(3,"ion-img",50),e.k0s(),e.j41(4,"ion-item-options",51),e.nrm(5,"ion-img",52),e.k0s()()())}function Y(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-item-sliding",30,3),e.bIt("ionSwipe",function(t){const o=e.eBV(n).$implicit,a=e.XpG(2);return e.Njj(a.onSwipe(t,o))}),e.j41(2,"ion-item",31)(3,"div",32)(4,"ion-row",33)(5,"ion-col",34)(6,"div")(7,"span"),e.EFF(8,"Lead Name"),e.k0s()(),e.j41(9,"div")(10,"span",35),e.EFF(11),e.k0s()()(),e.j41(12,"ion-col",34)(13,"div")(14,"span"),e.EFF(15," Number"),e.k0s()(),e.j41(16,"div")(17,"span",35),e.EFF(18),e.k0s()()(),e.j41(19,"ion-col",34)(20,"div")(21,"span"),e.EFF(22," Lead Received"),e.k0s()(),e.j41(23,"div")(24,"span",35),e.EFF(25),e.nI1(26,"date"),e.k0s()()(),e.j41(27,"ion-col",34)(28,"div")(29,"span"),e.EFF(30," Property"),e.k0s()(),e.j41(31,"div")(32,"span",35),e.EFF(33),e.k0s()()(),e.j41(34,"ion-col",34)(35,"div")(36,"span"),e.EFF(37,"Visit Fixed On"),e.k0s()(),e.j41(38,"div")(39,"span",35),e.EFF(40),e.k0s()()()(),e.j41(41,"ion-row",36)(42,"ion-col",37),e.DNE(43,W,3,0,"div",38),e.k0s(),e.j41(44,"ion-col",39),e.DNE(45,N,5,4,"div",40)(46,L,5,0,"div",40),e.k0s()()()(),e.DNE(47,X,6,0,"span",7),e.k0s()}if(2&s){const n=r.$implicit,i=e.XpG(2);e.R7$(11),e.SpI(" ",n.name," "),e.R7$(7),e.SpI(" ",n.number," "),e.R7$(7),e.SpI(" ",e.i5U(26,9,n.datetime,"dd-MMM-yyyy, hh:mm a")," "),e.R7$(8),e.SpI(" ",n.propertyname," "),e.R7$(7),e.SpI(" ",n.selectedday+" , "+n.selectedtime," "),e.R7$(3),e.Y8G("ngIf","demo"!==i.localStorage.getItem("Name")),e.R7$(2),e.Y8G("ngIf","demo"!==i.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"==i.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"!==i.localStorage.getItem("Name"))}}function $(s,r){1&s&&(e.j41(0,"ion-row",53)(1,"ion-col",54)(2,"span"),e.EFF(3,"No Data Found ...!"),e.k0s()()())}function A(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-content",26,2),e.bIt("ionScroll",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onScroll(t))}),e.j41(2,"div",27),e.DNE(3,Y,48,12,"ion-item-sliding",28),e.k0s(),e.DNE(4,$,4,0,"ion-row",29),e.k0s()}if(2&s){const n=e.XpG();e.R7$(3),e.Y8G("ngForOf",n.leads_detail),e.R7$(),e.Y8G("ngIf",0===(null==n.leads_detail?null:n.leads_detail.length))}}function z(s,r){if(1&s){const n=e.RV6();e.j41(0,"div",55)(1,"ion-img",56),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.navigateToFilter())}),e.k0s()()}}function H(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-row",75),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG(3);return e.Njj(o.onFilterSelection("property",t.propertyname))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&s){const n=r.$implicit,i=e.XpG(3);e.Y8G("id",n.propertyname)("ngClass",e.eq3(3,C,(null==i.tempFilteredValues?null:i.tempFilteredValues.propname)===n.propertyname)),e.R7$(2),e.JRh(n.propertyname)}}function U(s,r){if(1&s){const n=e.RV6();e.j41(0,"span")(1,"ion-searchbar",71),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(2);return e.DH7(o.propertySearchTerm,t)||(o.propertySearchTerm=t),e.Njj(t)}),e.bIt("ionInput",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.setFilteredProperty())}),e.k0s(),e.j41(2,"ion-content",72,4)(4,"ion-row",73),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.onFilterSelection("property","all"))}),e.j41(5,"span"),e.EFF(6,"All"),e.k0s()(),e.DNE(7,H,3,5,"ion-row",74),e.k0s()()}if(2&s){const n=e.XpG(2);e.R7$(),e.R50("ngModel",n.propertySearchTerm),e.R7$(3),e.Y8G("ngClass",e.eq3(3,C,""===(null==n.tempFilteredValues?null:n.tempFilteredValues.propname))),e.R7$(3),e.Y8G("ngForOf",n.propertyList1)}}function Q(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-datetime",82,5),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(3);return e.DH7(o.startdate,t)||(o.startdate=t),e.Njj(t)}),e.bIt("ionChange",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.onFilterSelection("fromdate",t))}),e.k0s()}if(2&s){const n=e.XpG(3);e.Y8G("showDefaultButtons",!0),e.R50("ngModel",n.startdate),e.Y8G("min",n.minDate)("max",n.maxDate)}}function K(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-datetime",83),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(3);return e.DH7(o.enddate,t)||(o.enddate=t),e.Njj(t)}),e.bIt("ionChange",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.onFilterSelection("todate",t))}),e.k0s()}if(2&s){const n=e.XpG(3);e.Y8G("showDefaultButtons",!0),e.R50("ngModel",n.enddate),e.Y8G("min",n.endDateMinDate)("max",n.maxDate)}}function J(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-row")(1,"ion-item",76)(2,"ion-input",77),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(2);return e.DH7(o.tempFilteredValues.fromdate,t)||(o.tempFilteredValues.fromdate=t),e.Njj(t)}),e.k0s(),e.j41(3,"ion-popover",78),e.DNE(4,Q,2,4,"ng-template"),e.k0s()(),e.j41(5,"ion-item",79)(6,"ion-input",80),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(2);return e.DH7(o.tempFilteredValues.todate,t)||(o.tempFilteredValues.todate=t),e.Njj(t)}),e.k0s(),e.j41(7,"ion-popover",81),e.DNE(8,K,1,4,"ng-template"),e.k0s()()()}if(2&s){const n=e.XpG(2);e.R7$(2),e.R50("ngModel",n.tempFilteredValues.fromdate),e.R7$(4),e.R50("ngModel",n.tempFilteredValues.todate)}}function Z(s,r){if(1&s){const n=e.RV6();e.j41(0,"ion-header",57)(1,"ion-row")(2,"ion-col",58),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(8);return e.Njj(t.dismiss())}),e.nrm(3,"ion-icon",59),e.k0s(),e.j41(4,"ion-col",60),e.EFF(5,"Filters"),e.k0s(),e.j41(6,"ion-col",58),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return t.tempFilteredValues={},e.Njj(t.reset_filter())}),e.nrm(7,"ion-icon",61),e.k0s()()(),e.j41(8,"div",62)(9,"ion-row",63)(10,"div",64)(11,"ion-row",65),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onFilterValues("property"))}),e.j41(12,"ion-col")(13,"span",66),e.EFF(14,"Property"),e.k0s()()(),e.j41(15,"ion-row",65),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onFilterValues("date"))}),e.j41(16,"ion-col")(17,"span",66),e.EFF(18,"Lead Received Date"),e.k0s()()()(),e.nrm(19,"div",67),e.j41(20,"div",68),e.DNE(21,U,8,5,"span",7)(22,J,9,2,"ion-row",7),e.k0s()()(),e.j41(23,"ion-footer",57)(24,"ion-row")(25,"ion-col",69),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.sdS(8).dismiss(),e.Njj(t.confirmSelection())}),e.j41(26,"ion-button",70),e.EFF(27,"Show Results"),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(11),e.Y8G("ngClass","property"==n.isLeftFilterActive?"bg_textColor":""),e.R7$(4),e.Y8G("ngClass","date"==n.isLeftFilterActive?"bg_textColor":""),e.R7$(6),e.Y8G("ngIf","property"==n.isLeftFilterActive),e.R7$(),e.Y8G("ngIf","date"==n.isLeftFilterActive),e.R7$(4),e.Y8G("disabled",!n.isenabled)}}function q(s,r){if(1&s){const n=e.RV6();e.j41(0,"div",84)(1,"span")(2,"ion-row")(3,"ion-col",85)(4,"span",86),e.EFF(5," Select Property "),e.k0s()()(),e.j41(6,"ion-row")(7,"ion-col",87)(8,"p-dropdown",88),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.selectedProperty,t)||(o.selectedProperty=t),e.Njj(t)}),e.bIt("onChange",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onPropertySelect(t))}),e.k0s()()()(),e.j41(9,"span")(10,"ion-row")(11,"ion-col",85)(12,"span",86),e.EFF(13,"Assign Executive Team"),e.k0s()()(),e.j41(14,"ion-row")(15,"ion-col",87)(16,"p-dropdown",89),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.selectedExecTeam,t)||(o.selectedExecTeam=t),e.Njj(t)}),e.bIt("onChange",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onExecTeamSelect(t))}),e.k0s()()()(),e.j41(17,"ion-row")(18,"ion-col",85)(19,"span",86),e.EFF(20," Select Executives "),e.k0s()()(),e.j41(21,"ion-row",90)(22,"p-multiSelect",91),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.selectedExecutiveName,t)||(o.selectedExecutiveName=t),e.Njj(t)}),e.bIt("onChange",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onexecutive(t))}),e.k0s()(),e.j41(23,"ion-row")(24,"ion-col")(25,"ion-button",92),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.visitAssignLead())}),e.EFF(26," Vissit Assign "),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(8),e.Y8G("options",n.assigningPropertyList),e.R50("ngModel",n.selectedProperty),e.R7$(8),e.R50("ngModel",n.selectedExecTeam),e.Y8G("options",n.execTeam),e.R7$(6),e.Y8G("options",n.executives),e.R50("ngModel",n.selectedExecutiveName)}}let ee=(()=>{var s;class r{constructor(i,t,o,a,c,_){this._location=i,this.menuCtrl=t,this.activeRoute=o,this.router=a,this.shareService=c,this.mandateService=_,this.showInfiniteScroll=!0,this.showSpinner=!1,this.leads_detail=[],this.localStorage=localStorage,this.freshvisits_count="",this.pendingleads_count="",this.filteredParams={leads:"",count:"1",fromdate:"",todate:"",propname:"",htype:"",limit:0,limitrows:5},this.isOnCallDetailsPage=!1,this.count=0,this.isLeftFilterActive="",this.propertySearchTerm="",this.isenabled=!0,this.execTeam=[{name:"Relationship Executives",code:"50002"},{name:"Customersupport Executives",code:"50014"}],this.initializeStartEndDate()}ngOnInit(){this.activeRoute.queryParams.subscribe(i=>{this.leadId=i.leadId,this.execid=i.execid,this.getQueryParams(),this.getPropertyList(),this.getAssigningPropertyList(),this.getLeadsCount(),this.isOnCallDetailsPage="true"==i.isOnCallDetailsPage})}getPropertyList(){this.shareService.propertylistForEnquiry(this.filteredParams.leads,"").subscribe(i=>{this.propertyList=i.Leads,this.propertyList1=i.Leads})}onBackButton(){this._location.back()}openEndMenu(){this.shareService.isMenuOpen=!0,this.menuCtrl.open("end")}getQueryParams(){const i=window.location.search,t={};new URLSearchParams(i).forEach((o,a)=>{t[a]=o}),Object.keys(this.filteredParams).forEach(o=>{t.hasOwnProperty(o)?this.filteredParams[o]=t[o]:"loginid"!==o&&"limit"!==o&&"limitrows"!==o&&"count"!==o&&(this.filteredParams[o]="")})}addQueryParams(){const i={};let t=!1;for(const o in this.filteredParams)if(this.filteredParams.hasOwnProperty(o)){const a=""!==this.filteredParams[o]?this.filteredParams[o]:null;this.activeRoute.snapshot.queryParams[o]!==a&&(t=!0),i[o]=a}this.router.navigate([],{queryParams:i,queryParamsHandling:"merge",replaceUrl:!0})}onSwipe(i,t){"start"==i.detail.side?window.open(`https://wa.me/+91 ${t.number}`,"_system"):(window.open(`tel:${t.number}`,"_system"),t&&t.number?window.open(`tel:${t.number}`,"_system"):console.error("Phone number not available for the selected lead."))}getLeadsCount(){this.showSpinner=!0;const i=[];["1",""].forEach(o=>{const a={...this.filteredParams,count:"1"==o?"1":"",leads:""==o?this.filteredParams.leads:"",limit:"1"==o?"":0,limitrows:"1"==o?"":5};i.push(this.shareService.getWhatsappVisitsLead(a).pipe((0,P.W)(c=>(0,b.of)(null))))}),(0,M.p)(i).subscribe(o=>{o.forEach((a,c)=>{switch(c){case 0:this.freshvisits_count=a.Leads[0].freshvisits_count,this.pendingleads_count=a.Leads[0].pendingleads_count;break;case 1:this.leads_detail=a.Leads?a.Leads:[]}}),this.showSpinner=!1})}onpendingFreshleads(i){this.filteredParams.leads=i,this.addQueryParams()}loadData(i){this.count=this.count+=5}reset_filter(){this.isLeftFilterActive="property",this.isenabled=!0,this.tempFilteredValues={leads:"",count:"1",fromdate:"",todate:"",propname:"",limit:0,limitrows:5},this.initializeStartEndDate()}navigateToFilter(){this.isLeftFilterActive="property",this.tempFilteredValues={...this.filteredParams},this.filterModal.present()}confirmSelection(){this.filteredParams={...this.tempFilteredValues},this.filterModal.dismiss(),this.addQueryParams()}onFilterValues(i){this.isLeftFilterActive=i}setFilteredProperty(){this.propertyList1=this.propertyList.filter(i=>{var t,o;return null==i||null===(t=i.propertyname)||void 0===t?void 0:t.toLowerCase().includes(null===(o=this.propertySearchTerm)||void 0===o?void 0:o.toLowerCase())})}onFilterSelection(i,t){switch(i){case"fromdate":const o=new Date(t.detail.value);this.tempFilteredValues.fromdate=o.toLocaleDateString("en-CA"),this.endDateMinDate=this.tempFilteredValues.fromdate,0===this.tempFilteredValues.todate.length&&(this.isenabled=!1);break;case"todate":const a=new Date(t.detail.value),c=new Date(a.getTime()-6e4*a.getTimezoneOffset());this.enddate=t.detail.value,this.tempFilteredValues.todate=c.toLocaleDateString("en-CA"),this.endDateMinDate=this.tempFilteredValues.fromdate,0!==this.tempFilteredValues.todate.length&&(this.isenabled=!0);break;case"property":this.tempFilteredValues.propname="all"==t?"":t}}initializeStartEndDate(){this.startdate=(new Date).toISOString(),this.enddate=(new Date).toISOString(),this.minDate="2000-01-01",this.maxDate=(new Date).toISOString(),this.endDateMinDate=this.startdate}leadDetailsModalClose(i){this.showSpinner=!0,this.router.navigate([],{queryParams:{isOnCallDetailsPage:null,leadId:null,execid:null},queryParamsHandling:"merge"})}navigateToWhatsApp(i){this.router.navigate(["./clients-chats"],{queryParams:{chatListSearch:i,selectedChat:"all",htype:this.filteredParams.htype}})}onScroll(i){this.content.getScrollElement().then(o=>{const a=o.scrollTop,c=o.scrollHeight,_=o.offsetHeight;this.canScroll=c>_+10,this.shareService.isBottom=!!this.canScroll&&a+_>=c-100})}onPropertySelect(i){var t;let o;this.showSpinner=!0,this.selectedExecutiveName=[],(null!=this.selectedExecTeam||""!=this.selectedExecTeam)&&(o=this.selectedExecTeam),this.mandateService.fetchmandateexecutives(i.value.property_idfk,"",null===(t=o)||void 0===t?void 0:t.code).subscribe(a=>{this.executives=a.mandateexecutives,this.showSpinner=!1})}onExecTeamSelect(i){var t;this.showSpinner=!0,this.selectedExecutiveName=[],this.mandateService.fetchmandateexecutives(null===(t=this.selectedProperty)||void 0===t?void 0:t.property_idfk,"",i.value.code).subscribe(o=>{this.executives=o.mandateexecutives,this.showSpinner=!1})}onexecutive(i){console.log(this.selectedExecutiveName),console.log(this.selectedExecutiveName.map(t=>t.id).join(","))}onVisitAssign(i){this.assigningLead=i,this.visitAssign.present()}getAssigningPropertyList(){this.mandateService.getmandateprojects().subscribe(i=>{if("1"===this.localStorage.getItem("RoleType")){const o=this.localStorage.getItem("PropertyId").split(",");i.Properties.forEach(a=>{o.includes(a.property_idfk)&&this.assigningPropertyList.push(a)})}else this.assigningPropertyList=i.Properties;this.assigningPropertyList1=this.assigningPropertyList})}visitAssignLead(){var i;if(this.selectedProperty)if(0===(null===(i=this.selectedExecutiveName)||void 0===i?void 0:i.length)||void 0===this.selectedExecutiveName)m().fire({title:"Please select an executive before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"});else{const t=[];this.selectedExecutiveName.forEach(a=>{t.push(a.id)});const o={leadId:this.assigningLead.Lead_IDFK,loginid:localStorage.getItem("UserId"),propname:this.selectedProperty.property_info_name,propid:this.selectedProperty.property_idfk,toexecid:this.selectedExecutiveName.map(a=>a.id).join(","),visitdate:this.assigningLead.visitdatetime,visittime:this.assigningLead.selectedtime};"demo"==localStorage.getItem("Name")?m().fire({title:"Lead assignment is not allowed for demo account.",icon:"error",allowOutsideClick:!1,heightAuto:!1,confirmButtonText:"OK"}).then(a=>{this.showSpinner=!1}):this.mandateService.assignWhatsAppVisits(o).subscribe(a=>{"True"==a.status&&m().fire({title:"Assigned Successfully",icon:"success",heightAuto:!1,allowOutsideClick:!0,confirmButtonText:"Show Details"}).then(c=>{this.showSpinner=!0,location.reload()})})}else m().fire({title:"Please select an property before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"})}onVisitAssignModalClose(i){this.selectedProperty=null,this.selectedExecTeam=null,this.selectedExecutiveName=null}}return(s=r).\u0275fac=function(i){return new(i||s)(e.rXU(d.aZ),e.rXU(p._t),e.rXU(g.nX),e.rXU(g.Ix),e.rXU(V.d),e.rXU(j.a))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-whatsapp-visits"]],viewQuery:function(i,t){if(1&i&&(e.GBs(F,5),e.GBs(T,5),e.GBs(I,5)),2&i){let o;e.mGM(o=e.lsd())&&(t.filterModal=o.first),e.mGM(o=e.lsd())&&(t.visitAssign=o.first),e.mGM(o=e.lsd())&&(t.content=o.first)}},decls:13,vars:6,consts:[["filterModal",""],["visitAssign",""],["mainscrollContainer",""],["sliding",""],["propertyList",""],["datetime",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["class","selectOption content_center marginTop10","style","overflow-x: auto; white-space: nowrap;box-shadow: 0 -10px 33px rgb(0 0 0 / 0.1);border-radius: 78px;margin: 10px;",4,"ngIf"],["class","filteredChips",4,"ngIf"],["scrollEvents","true",3,"ionScroll",4,"ngIf"],["class","ion-filter-icon",4,"ngIf"],["id","assignLeads-modal",3,"ionModalDidDismiss"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"selectOption","content_center","marginTop10",2,"overflow-x","auto","white-space","nowrap","box-shadow","0 -10px 33px rgb(0 0 0 / 0.1)","border-radius","78px","margin","10px"],[2,"display","inline-flex","width","100%"],[1,"custom-col","center-text","font-weight500",2,"padding","3px","display","flex",3,"click"],[1,"font-size12-familyPoppins","content_center",2,"padding","4px","border-radius","78px","width","100%",3,"ngClass"],[1,"filteredChips"],[2,"display","flex","overflow-x","scroll","padding","0 5px"],["fill","clear","class","filterButtons marginBottom15px","style","padding: 0;",3,"click",4,"ngIf"],["fill","clear","class","filterButtons marginBottom15px",3,"click",4,"ngIf"],["fill","clear",1,"filterButtons","marginBottom15px",2,"padding","0",3,"click"],["slot","end","name","close"],["fill","clear",1,"filterButtons","marginBottom15px",3,"click"],["scrollEvents","true",3,"ionScroll"],[2,"margin","10px"],["class","mb-1",3,"ionSwipe",4,"ngFor","ngForOf"],["style","border-bottom:none;height:100%","class","content_center",4,"ngIf"],[1,"mb-1",3,"ionSwipe"],[2,"--border-style","none"],[1,"lead-info"],[1,"info-row-heading"],["size","6"],[1,"info-row-value"],[1,"custom-row-style"],["size","9"],["style","display: flex;",3,"click",4,"ngIf"],["size","3",1,"content_center"],["style","display: flex;",4,"ngIf"],[2,"display","flex",3,"click"],[1,"ion-text-start",2,"padding-right","8px"],["src","../../assets/CRMimages/whatsAppVisitAssign.svg",1,"call-icon",2,"width","16px"],[2,"display","flex"],[1,"ion-text-start",2,"padding-right","8px",3,"href"],["src","../../assets/CRMimages/call-icon.svg",1,"call-icon"],[3,"href"],["src","../../assets/CRMimages/what'sapp-icon.svg",1,"whatsapp-icon"],["side","end"],["src","../../assets/CRMimages/phone-call.svg",1,"call-icon",2,"width","45px","padding","10px"],["side","start"],["src","../../assets/CRMimages/whatsapp_icon.svg",1,"call-icon",2,"width","52px","padding","10px"],[1,"content_center",2,"border-bottom","none","height","100%"],[1,"ion-text-center"],[1,"ion-filter-icon"],["src","../../assets/CRMimages/filter.svg",3,"click"],[1,"header_footerHeight"],["size","2",1,"content_center",3,"click"],["name","close"],["size","8",1,"content_center"],["name","refresh"],[2,"height","100%"],[1,"split-layout"],[1,"left-column"],[1,"content_center","borderBottom_background",3,"click","ngClass"],[1,"font-size12-familyPoppins"],[1,"divider"],[1,"right-column"],[1,"content_center","font-size14-familyPoppins",3,"click"],["fill","clear",1,"showresultButton",3,"disabled"],[3,"ngModelChange","ionInput","ngModel"],[2,"height","70vh"],[1,"filterButtons",3,"click","ngClass"],["class","filterButtons",3,"id","ngClass","click",4,"ngFor","ngForOf"],[1,"filterButtons",3,"click","id","ngClass"],["lines","none",1,"input-with-image"],["id","fromdate","placeholder","From",3,"ngModelChange","ngModel"],["trigger","fromdate"],["lines","none",1,"input-with-image","marginTop10"],["id","todate","placeholder","To",3,"ngModelChange","ngModel"],["trigger","todate"],["presentation","date","display-format","YYYY/MM/DD",3,"ngModelChange","ionChange","showDefaultButtons","ngModel","min","max"],["presentation","date","display-format","DD/MM/YYYY",3,"ngModelChange","ionChange","showDefaultButtons","ngModel","min","max"],[1,"m-2"],[1,"paddingBottomLeft"],[1,"font-size14-familyPoppins"],["id","teamSelectDropdown"],["optionLabel","property_info_name","name","selectedProperty","placeholder","Select a Team","appendTo","body",1,"teamSelectDropdown",3,"ngModelChange","onChange","options","ngModel"],["optionLabel","name","appendTo","body","placeholder","Select a Team","name","selectedExecTeam",1,"teamSelectDropdown",3,"ngModelChange","onChange","ngModel","options"],["id","executiveDropdown"],["optionLabel","name","name","selectedExecutiveNames","placeholder","Select Executives","display","chip","appendTo","body",1,"exeSelection","teamSelectDropdown",3,"ngModelChange","onChange","options","ngModel"],["fill","clear",1,"font-size14-familyPoppins","bg_textColor",2,"width","100%",3,"click"]],template:function(i,t){if(1&i){const o=e.RV6();e.DNE(0,O,2,0,"div",6)(1,D,1,0,"app-header",7)(2,G,8,4,"ion-row",8)(3,B,4,2,"ion-row",9)(4,A,5,2,"ion-content",10)(5,z,2,0,"div",11),e.nrm(6,"app-common-footer"),e.j41(7,"ion-modal",null,0),e.DNE(9,Z,28,5,"ng-template"),e.k0s(),e.j41(10,"ion-modal",12,1),e.bIt("ionModalDidDismiss",function(c){return e.eBV(o),e.Njj(t.onVisitAssignModalClose(c))}),e.DNE(12,q,27,6,"ng-template"),e.k0s()}2&i&&(e.Y8G("ngIf",t.showSpinner),e.R7$(),e.Y8G("ngIf",!t.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!t.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!t.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!t.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!t.isOnCallDetailsPage))},dependencies:[d.YU,d.Sq,d.bT,u.KF,p.Jm,p.hU,p.W9,p.A9,p.M0,p.eU,p.iq,p.KW,p.$w,p.uz,p.CE,p.A7,p.ln,p.S1,p.Sb,p.CF,p.Je,p.Gw,S.a,k.l,x.ms,h.BC,h.vS,d.vh],styles:['.rightBorder[_ngcontent-%COMP%]{border-right:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.leftBorder[_ngcontent-%COMP%]{border-left:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.ion-filter-icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{float:right;height:40px}.showresultButton[_ngcontent-%COMP%]{background:#0b7ab2;color:#fff;width:70%;border-radius:10px;text-transform:none;font-size:16px;font-family:Poppins}.split-layout[_ngcontent-%COMP%]{display:flex;align-items:stretch;height:100%}.left-column[_ngcontent-%COMP%]{flex:2.5;max-width:41%}.right-column[_ngcontent-%COMP%]{flex:3}.divider[_ngcontent-%COMP%]{width:1px;background-color:#ccc}.filterButtons[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:12px;color:#000;text-transform:none;height:35px;padding-left:10px;display:flex;align-items:center}.input-with-image[_ngcontent-%COMP%]{position:relative;width:100%;border-radius:8px;margin:5px}.input-with-image[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{padding-right:30px;background:#fff}.input-with-image[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{opacity:.5;--placeholder-color: #black;color:#000;font-size:12px;font-family:Poppins;font-weight:500;word-wrap:break-word;--padding-start: 10px;border:1px solid #ececec;border-radius:10px}.input-with-image[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:10px;transform:translateY(-50%);width:20px;height:20px;background-size:contain}ion-datetime[_ngcontent-%COMP%]{--ion-color-base: #0b7ab2 !important}.filteredChips[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#0b7ab2;font-size:12px;font-family:Poppins;font-weight:400;word-wrap:break-word;border:.5px #0b7ab2 solid;border-radius:4px;text-transform:capitalize;height:26px;min-height:26px;margin:2px 10px}.lead-info[_ngcontent-%COMP%]{box-shadow:1px 2px 10px #63636333;border:1px solid #e9e9e9;border-radius:4px;width:100%}.lead-info[_ngcontent-%COMP%]   .ion-justify-content-center[_ngcontent-%COMP%]{background-color:#ffd7c7;font-size:14px;font-family:Poppins;font-weight:500;color:#e84c0a;padding:10px}.info-row-heading[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:10px;color:#0009}.info-row-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0}.info-row-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500;font-size:10px;color:#000c}.info-row-value[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0}ion-modal.callConfirmationModal[_ngcontent-%COMP%]{padding:10px;--height: 38%;--border-radius: 5px;--backdrop-opacity: .8;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{font-family:Poppins;box-shadow:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:4px}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff!important}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.callConfirmationModal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;border-radius:4px;font-family:Poppins;font-size:18px;text-transform:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{box-shadow:none}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-start: 0;--inner-padding-end: 0;--padding-end: 0}  p-multiselect .p-inputwrapper .p-multiselect-label-container .p-multiselect-label{padding:5px}  p-dropdown.teamSelectDropdown .p-inputwrapper{width:100%!important}  p-multiselect .p-inputwrapper{width:100%!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-multiselect .p-inputwrapper .p-multiselect-trigger{width:30px!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px}  p-multiselect .p-inputwrapper .p-multiselect-trigger chevrondownicon{width:12px}  .p-element .p-dropdown-item{padding:5px!important;font-size:12px}  .p-element .p-multiselect-item{padding:5px!important}  .p-multiselect-items-wrapper .p-multiselect-empty-message{padding:4px;font-size:12px;font-family:Poppins}  .p-multiselect-header{padding:5px}  .p-overlay{box-shadow:0 3px 6px 2px #d8d8d8}#teamSelectDropdown[_ngcontent-%COMP%], #executiveDropdown[_ngcontent-%COMP%]{border:1px solid #d8d8d8;border-radius:4px;padding:0}#assignLeads-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute!important;right:10px!important}ion-modal#assignLeads-modal[_ngcontent-%COMP%]{padding:10px;--height: auto;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}  ion-modal#assignLeads-modal .ion-page{display:block!important}ion-modal#assignLeads-modal[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-modal#assignLeads-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.exeSelection[_ngcontent-%COMP%]{width:100%}  p-dropdown .p-inputwrapper span{padding:5px;font-size:12px;font-family:Poppins}  p-multiselect .p-inputwrapper .p-multiselect-label-container{padding:0;font-size:12px;font-family:Poppins}  p-multiselect .p-multiselect-token{padding:2px}']}),r})(),te=(()=>{var s;class r{}return(s=r).\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[d.MD,w.Ph,u.iV,g.iI.forChild([{path:"",component:ee}]),p.bv,v.G,x.kr,h.YN]}),r})()}}]);