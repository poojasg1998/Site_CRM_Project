"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9052],{9052:(oe,h,c)=>{c.r(h),c.d(h,{HourlyReportListingModule:()=>ne});var m=c(177),_=c(3477),l=c(5933),g=c(9417),x=c(478),R=c(8833),y=c(8676),P=c(4127),b=c(467),e=c(4438),v=c(9451),C=c(1667),F=c(2408);const j=["datePopover"],k=["filterModal"],S=["sourceScrollContent"],p=i=>({backgroundLightColor:i});function w(i,a){1&i&&(e.j41(0,"div",31),e.nrm(1,"ion-img",32),e.k0s())}function M(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-row",33)(1,"label",34)(2,"div",35)(3,"div",36),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"div",37)(6,"label",38),e.nrm(7,"ion-img",39),e.k0s(),e.j41(8,"span",40),e.EFF(9),e.k0s(),e.j41(10,"p-calendar",41),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.dateRange.fromdate,t)||(s.dateRange.fromdate=t),e.Njj(t)}),e.bIt("onSelect",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.dateFilter("customfromDate"))}),e.k0s()()()()(),e.j41(11,"ion-row",42)(12,"label",43)(13,"div",35)(14,"div",36),e.EFF(15,"To Date"),e.k0s(),e.j41(16,"div",37)(17,"label",38),e.nrm(18,"ion-img",39),e.k0s(),e.j41(19,"span",40),e.EFF(20),e.k0s(),e.j41(21,"p-calendar",44),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.dateRange.todate,t)||(s.dateRange.todate=t),e.Njj(t)}),e.bIt("onSelect",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.dateFilter("custom"))}),e.k0s()()()()()}if(2&i){const n=e.XpG();e.R7$(8),e.Y8G("ngClass",null!=n.dateRange&&n.dateRange.fromdate?"":"isBeforeselectingDate"),e.R7$(),e.SpI(" ",null!=n.dateRange&&null!=n.dateRange.fromdate&&n.dateRange.fromdate.toLocaleDateString("en-CA")?null==n.dateRange||null==n.dateRange.fromdate?null:n.dateRange.fromdate.toLocaleDateString("en-CA"):"Select From Date"," "),e.R7$(),e.R50("ngModel",n.dateRange.fromdate),e.R7$(),e.Y8G("ngClass",n.dateRange.fromdate?"":"pointerEvent"),e.R7$(8),e.Y8G("ngClass",null!=n.dateRange&&n.dateRange.todate?"":"isBeforeselectingDate"),e.R7$(),e.SpI(" ",null!=n.dateRange&&null!=n.dateRange.todate&&n.dateRange.todate.toLocaleDateString("en-CA")?null==n.dateRange||null==n.dateRange.todate?null:n.dateRange.todate.toLocaleDateString("en-CA"):"Select To Date",""),e.R7$(),e.R50("ngModel",n.dateRange.todate),e.Y8G("minDate",n.dateRange.fromdate)}}function I(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-button",45),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return t.filteredParams.source="",e.Njj(t.addQueryParams())}),e.EFF(1),e.nrm(2,"ion-icon",46),e.k0s()}if(2&i){const n=e.XpG();e.R7$(),e.SpI(" ","GR - Microsite"==n.filteredParams.source?"GR - campaign":n.filteredParams.source," ")}}function L(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-button",45),e.bIt("click",function(){e.eBV(n);const t=e.XpG(3);return t.filteredParams.execid="",e.Njj(t.addQueryParams())}),e.EFF(1),e.nrm(2,"ion-icon",46),e.k0s()}if(2&i){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.Name," ")}}function D(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,L,3,1,"ion-button",23),e.k0s()),2&i){const n=a.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.ID===o.filteredParams.execid)}}function T(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,D,2,1,"span",47),e.k0s()),2&i){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.executiveList)}}function G(i,a){if(1&i&&(e.j41(0,"ion-button",48)(1,"span"),e.EFF(2),e.k0s()()),2&i){const n=e.XpG();e.R7$(2),e.SpI(" ",n.filteredParams.status," ")}}function H(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-button",49),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.dateFilter("today"))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"ion-icon",46),e.k0s()}if(2&i){const n=e.XpG();e.R7$(2),e.SpI(" ",n.filteredParams.fromdate+" To "+n.filteredParams.todate," ")}}function V(i,a){if(1&i&&(e.j41(0,"div")(1,"span",59),e.EFF(2),e.k0s()()),2&i){const n=e.XpG().$implicit;e.R7$(2),e.SpI(" ",n.custNumber," ")}}function N(i,a){1&i&&(e.j41(0,"div")(1,"span",59),e.EFF(2," xxxxxxxxxx "),e.k0s()())}function B(i,a){if(1&i&&(e.j41(0,"ion-col",54)(1,"div"),e.EFF(2,"Source"),e.k0s(),e.j41(3,"div")(4,"span",55),e.EFF(5),e.k0s()()()),2&i){const n=e.XpG().$implicit;e.R7$(5),e.SpI(" ",n.custSource," ")}}function O(i,a){if(1&i&&(e.j41(0,"span")(1,"span",60),e.EFF(2,"Assigned to "),e.k0s(),e.j41(3,"span",61),e.EFF(4),e.k0s()()),2&i){const n=e.XpG().$implicit;e.R7$(4),e.SpI(" ",n.execName+" ","")}}function E(i,a){if(1&i&&(e.j41(0,"div",62)(1,"a",63),e.nrm(2,"ion-img",64),e.k0s(),e.j41(3,"a",65),e.nrm(4,"ion-img",66),e.k0s()()),2&i){const n=e.XpG().$implicit;e.R7$(),e.Mz_("href","tel:",n.custNumber,"",e.B4B),e.R7$(2),e.Mz_("href","https://wa.me/+91",n.custNumber,"",e.B4B)}}function $(i,a){1&i&&(e.j41(0,"div",62)(1,"a",67),e.nrm(2,"ion-img",64),e.k0s(),e.j41(3,"a"),e.nrm(4,"ion-img",66),e.k0s()())}function X(i,a){1&i&&(e.j41(0,"span")(1,"ion-item-options",68),e.nrm(2,"ion-img",69),e.k0s(),e.j41(3,"ion-item-options",70),e.nrm(4,"ion-img",71),e.k0s()())}function Y(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-item-sliding",50),e.bIt("ionSwipe",function(t){const s=e.eBV(n).$implicit,r=e.XpG();return e.Njj(r.onSwipe(t,s))}),e.j41(1,"ion-item",51)(2,"div",52)(3,"ion-row",53)(4,"ion-col",54)(5,"div"),e.EFF(6,"Lead Name"),e.k0s(),e.j41(7,"div")(8,"span",55),e.EFF(9),e.k0s()()(),e.j41(10,"ion-col",54)(11,"div"),e.EFF(12,"Mobile Number"),e.k0s(),e.DNE(13,V,3,1,"div",24)(14,N,3,0,"div",24),e.k0s(),e.DNE(15,B,6,1,"ion-col",56),e.j41(16,"ion-col",54)(17,"div"),e.EFF(18,"Stage"),e.k0s(),e.j41(19,"div")(20,"span",55),e.EFF(21),e.k0s()()(),e.j41(22,"ion-col")(23,"div"),e.EFF(24,"Latest Remarks"),e.k0s(),e.j41(25,"div")(26,"span",55),e.EFF(27),e.k0s()()()(),e.j41(28,"ion-row",57)(29,"ion-col"),e.DNE(30,O,5,1,"span",24),e.k0s(),e.j41(31,"ion-col"),e.DNE(32,E,5,4,"div",58)(33,$,5,0,"div",58),e.k0s()()()(),e.DNE(34,X,5,0,"span",24),e.k0s()}if(2&i){const n=a.$implicit,o=e.XpG();e.R7$(9),e.SpI(" ",n.custName," "),e.R7$(4),e.Y8G("ngIf","demo"!=o.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"==o.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf",o.isAdmin),e.R7$(6),e.SpI(" ",n.stage," "),e.R7$(6),e.SpI(" ",n.remarks," "),e.R7$(3),e.Y8G("ngIf",o.filteredParams.execid!=o.localStorage.getItem("UserId")),e.R7$(2),e.Y8G("ngIf","demo"!=o.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"==o.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"!=o.localStorage.getItem("Name"))}}function A(i,a){1&i&&(e.j41(0,"ion-row",72)(1,"ion-col",73)(2,"span"),e.EFF(3,"No Leads Found..."),e.k0s()()())}function z(i,a){if(1&i){const n=e.RV6();e.j41(0,"span")(1,"ion-row",82),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.onFilterValues("source"))}),e.j41(2,"ion-col")(3,"span"),e.EFF(4,"Source"),e.k0s()()()()}if(2&i){const n=e.XpG(2);e.R7$(),e.Y8G("ngClass","source"==n.isLeftFilterActive?"bg_textColor":"")}}function U(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-row",82),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.onFilterValues("executive"))}),e.j41(1,"ion-col")(2,"span"),e.EFF(3,"Executive"),e.k0s()()()}if(2&i){const n=e.XpG(2);e.Y8G("ngClass","executive"==n.isLeftFilterActive?"bg_textColor":"")}}function Q(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-row",94),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.onFilterSelection("source",t.source))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&i){const n=a.$implicit,o=e.XpG(3);e.Y8G("id",n.source)("ngClass",e.eq3(3,p,o.tempFilteredValues.source===n.source)),e.R7$(2),e.JRh(n.source)}}function J(i,a){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"ion-searchbar",90),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG(2);return e.DH7(s.sourceSearchTerm,t)||(s.sourceSearchTerm=t),e.Njj(t)}),e.bIt("ionInput",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.setFilteredSource())}),e.k0s(),e.j41(2,"ion-content",91,1)(4,"ion-row",92),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.onFilterSelection("source","all"))}),e.j41(5,"span"),e.EFF(6,"All"),e.k0s()(),e.DNE(7,Q,3,5,"ion-row",93),e.k0s()()}if(2&i){const n=e.XpG(2);e.R7$(),e.R50("ngModel",n.sourceSearchTerm),e.R7$(3),e.Y8G("ngClass",e.eq3(3,p,""===n.tempFilteredValues.source)),e.R7$(3),e.Y8G("ngForOf",n.sourceList1)}}function Z(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-row",12),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.onFilterSelection("executive",t.ID))}),e.j41(1,"span",97),e.EFF(2),e.k0s()()}if(2&i){const n=a.$implicit,o=e.XpG(3);e.Y8G("ngClass",e.eq3(2,p,o.tempFilteredValues.execid===n.ID)),e.R7$(2),e.JRh(n.Name)}}function W(i,a){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"ion-content",95)(2,"ion-searchbar",90),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG(2);return e.DH7(s.executiveSearchedName,t)||(s.executiveSearchedName=t),e.Njj(t)}),e.bIt("ionInput",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.setFilteredExecutive())}),e.k0s(),e.j41(3,"ion-row",92),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.onFilterSelection("executive","all"))}),e.j41(4,"ion-col")(5,"span"),e.EFF(6,"All"),e.k0s()()(),e.DNE(7,Z,3,4,"ion-row",96),e.k0s()()}if(2&i){const n=e.XpG(2);e.R7$(2),e.R50("ngModel",n.executiveSearchedName),e.R7$(),e.Y8G("ngClass",e.eq3(3,p,""===n.tempFilteredValues.execid)),e.R7$(4),e.Y8G("ngForOf",n.executiveList1)}}function q(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-row",12),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.onFilterSelection("stage",t.id))}),e.j41(1,"span",97),e.EFF(2),e.k0s()()}if(2&i){const n=a.$implicit,o=e.XpG(3);e.Y8G("ngClass",e.eq3(2,p,o.tempFilteredValues.status===n.id)),e.R7$(2),e.JRh(n.name)}}function K(i,a){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"ion-searchbar",90),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG(2);return e.DH7(s.stageSearched,t)||(s.stageSearched=t),e.Njj(t)}),e.bIt("ionInput",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.setFilteredStage())}),e.k0s(),e.j41(2,"ion-content",91),e.DNE(3,q,3,4,"ion-row",96),e.k0s()()}if(2&i){const n=e.XpG(2);e.R7$(),e.R50("ngModel",n.stageSearched),e.R7$(2),e.Y8G("ngForOf",n.statuses1)}}function ee(i,a){if(1&i){const n=e.RV6();e.j41(0,"ion-header",74)(1,"ion-row",75)(2,"ion-col",76),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.sdS(42).dismiss(),e.Njj(t.addQueryParams())}),e.nrm(3,"ion-icon",77),e.k0s(),e.j41(4,"ion-col",78),e.EFF(5,"Filters"),e.k0s(),e.j41(6,"ion-col",4),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.reSet())}),e.nrm(7,"ion-icon",17),e.k0s()()(),e.j41(8,"div",79)(9,"ion-row",80)(10,"div",81)(11,"ion-row",82),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onFilterValues("stage"))}),e.j41(12,"ion-col")(13,"span",83),e.EFF(14,"Stage"),e.k0s()()(),e.DNE(15,z,5,1,"span",24)(16,U,4,1,"ion-row",84),e.k0s(),e.nrm(17,"div",85),e.j41(18,"div",86),e.DNE(19,J,8,5,"div",24)(20,W,8,5,"div",24)(21,K,4,2,"div",24),e.k0s()()(),e.j41(22,"ion-footer",87)(23,"ion-row")(24,"ion-col",88),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.confirmSelection())}),e.j41(25,"ion-button",89),e.EFF(26,"Show Results"),e.k0s()()()()}if(2&i){const n=e.XpG();e.R7$(11),e.Y8G("ngClass","stage"==n.isLeftFilterActive?"bg_textColor":""),e.R7$(4),e.Y8G("ngIf","1"===n.localStorage.getItem("Role")),e.R7$(),e.Y8G("ngIf",n.isAdmin),e.R7$(3),e.Y8G("ngIf","source"==n.isLeftFilterActive),e.R7$(),e.Y8G("ngIf","executive"==n.isLeftFilterActive),e.R7$(),e.Y8G("ngIf","stage"==n.isLeftFilterActive)}}let te=(()=>{var i;class a{constructor(o,t,s,r,d,u,f){this.ngZone=o,this.sharedService=t,this.router=s,this.menuCtrl=r,this.location=d,this.activeRoute=u,this.popoverController=f,this.isAdmin=!1,this.showSpinner=!1,this.isCustomDate=!1,this.showInfiniteScroll=!0,this.dateRange={fromdate:null,todate:null},this.localStorage=localStorage,this.filteredParams={fromdate:"",todate:"",fromtime:"",totime:"",execid:"1"===localStorage.getItem("Role")?"":localStorage.getItem("UserId"),loginid:localStorage.getItem("UserId"),isZeroActiveLeads:"false",status:"",source:"",isStage:"",htype:"",isDateFilter:"today",pageid:1},this.time=[{name:"Overall",code:""},{name:"Before 9:30AM",code:"00:00-09:30"},{name:"9:30AM - 10:30AM",code:"09:30-10:30"},{name:"10:30AM - 11:30AM",code:"10:30-11:30"},{name:"11:30AM - 12:30PM",code:"11:30-12:30"},{name:"12:30PM - 1:30PM",code:"12:30-1:30"},{name:"1:30PM - 2:30PM",code:"13:30-14:30"},{name:"2:30PM - 3:30PM",code:"14:30-15:30"},{name:"3:30PM - 4:30PM",code:"15:30-16:30"},{name:"4:30PM - 5:30PM",code:"16:30-17:30"},{name:"5:30PM - 6:30PM",code:"17:30-18:30"},{name:"6:30PM - 7:30PM",code:"18:30-19:30"},{name:"After 7:30PM",code:"19:30-23:59"}],this.statuses=[{id:"GF",name:"General Followups"},{id:"NC",name:"Normal Calls"},{id:"USV-Fix",name:"USV Fix"},{id:"USV-Done",name:"USV Done"},{id:"SV-Fix",name:"SV Fix"},{id:"SV-Done",name:"SV Done"},{id:"RSV-Fix",name:"RSV Fix"},{id:"RSV-Done",name:"RSV Done"},{id:"FN-Fix",name:"FN Fix"},{id:"FN-Done",name:"FN Done"},{id:"Inactive",name:"Inactive"},{id:"JunkLeads",name:"Junk Leads"},{id:"JunkVisits",name:"Junk Visits"},{id:"BR",name:"Booking Request"},{id:"Booked",name:"Booked"},{id:"Others",name:"Others"}],this.selectedTime=this.time[0],this.optionsRange={pickMode:"range",from:new Date(2025,2,25),to:new Date},this.leads_detail=[]}ngOnInit(){this.activeRoute.queryParamMap.subscribe(()=>{this.leads_detail=[],this.statuses1=this.statuses,this.isAdmin="1"===this.localStorage.getItem("Role"),this.getQueryParams(),this.getSource(),this.getExecutiveList(),this.getHourlyReport(!1),this.updateTime(),this.selectedTime=this.time.find(o=>o.code===`${this.filteredParams.fromtime}-${this.filteredParams.totime}`)||this.time[0]})}updateTime(){if(this.filteredParams.fromtime){let o=this.filteredParams.fromtime.split(":");"31"===o[1]&&(this.filteredParams.fromtime=`${o[0]}:30`)}}onBackButton(){this.location.back()}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}getTodayDate(){return(new Date).toISOString().split("T")[0]}onDateFilter(o){this.sourceSearchTerm="","today"==o?(this.isCustomDate=!1,this.filteredParams.fromdate=this.getTodayDate(),this.filteredParams.todate=this.getTodayDate()):"last7Days"==o?(this.isCustomDate=!1,this.filteredParams.fromtime="",this.filteredParams.totime="",this.filteredParams.fromdate=this.getlastSeventhDate(),this.filteredParams.todate=this.getTodayDate()):"custom"===o&&(this.filteredParams.fromtime="",this.filteredParams.totime="",this.isCustomDate=!0),this.addQueryParams()}getlastSeventhDate(){const o=new Date,t=new Date;return t.setDate(o.getDate()-6),t.toISOString().split("T")[0]}addQueryParams(){const o={};let t=!1;for(const s in this.filteredParams)if(this.filteredParams.hasOwnProperty(s)){const r=""!==this.filteredParams[s]?this.filteredParams[s]:null;this.activeRoute.snapshot.queryParams[s]!==r&&(t=!0),o[s]=r}"true"===this.filteredParams.isStage?this.router.navigate(["hourly-report-listing"],{queryParams:o,queryParamsHandling:"merge"}).then(()=>{}):this.router.navigate([],{queryParams:o,queryParamsHandling:"merge"}).then(()=>{})}reSet(){this.resetInfiniteScroll(),this.isLeftFilterActive="stage",this.isCustomDate=!1,this.selectedTime=this.time[0],this.filteredParams={fromdate:this.getTodayDate(),todate:this.getTodayDate(),fromtime:"",totime:"",execid:"1"===localStorage.getItem("Role")?"":localStorage.getItem("UserId"),loginid:localStorage.getItem("UserId"),isZeroActiveLeads:"false",isStage:"",source:"",status:this.filteredParams.status,pageid:1,isDateFilter:"today",htype:this.filteredParams.htype},this.dateRange={fromdate:null,todate:null},this.addQueryParams()}resetInfiniteScroll(){this.showInfiniteScroll=!1,setTimeout(()=>{this.showInfiniteScroll=!0},10)}onCustomDate(){}onTimeFilter(o){let[t,s]=o.value.code.split(" ",2),[r,d]=t.split("-");this.filteredParams.fromtime=r,this.filteredParams.totime=d,this.addQueryParams()}getHourlyReport(o){return this.showSpinner=!0,this.count=o?this.count+1:1,this.filteredParams.pageid=this.count,new Promise((t,s)=>{this.sharedService.getHourlyReportListing(this.filteredParams).subscribe(r=>{this.showSpinner=!1,this.ngZone.run(()=>{"True"===r.status?(this.leads_detail=r.Exec_list,t(!0)):t(!1)})})})}getQueryParams(){const o=window.location.search,t={};new URLSearchParams(o).forEach((s,r)=>{t[r]=s}),Object.keys(this.filteredParams).forEach(s=>{t.hasOwnProperty(s)?this.filteredParams[s]=t[s]:"loginid"!==s&&"pageid"!==s&&("1"!==localStorage.getItem("Role")&&"execid"===s||(this.filteredParams[s]=""))})}onSwipe(o,t){"start"==o.detail.side?window.open(`https://wa.me/+91 ${t.number}`,"_system"):(window.open(`tel:${t.number}`,"_system"),t&&t.number?window.open(`tel:${t.number}`,"_system"):console.error("Phone number not available for the selected lead."))}navigateToFilter(){this.tempFilteredValues={...this.filteredParams},this.isLeftFilterActive="stage",this.filterModal.present()}getSource(){this.sharedService.sourcelist().subscribe(o=>{this.sourceList=o.Sources,this.sourceList1=this.sourceList})}getExecutiveList(){this.sharedService.getexecutiveslist().subscribe(o=>{this.executiveList=o.Executiveslist,this.executiveList1=this.executiveList})}setFilteredSource(){this.sourceList1=this.sourceList.filter(o=>o.source.toLowerCase().includes(this.sourceSearchTerm.toLowerCase()))}scrollToSelectedSource(){var o=this;return(0,b.A)(function*(){const t=o.tempFilteredValues.source;if(!t)return;const s=`${t}`;setTimeout(()=>{const r=document.getElementById(s);r?o.sourceScrollContent.scrollToPoint(0,r.offsetTop,500):console.log("Element not found2:",s)},1e3)})()}setFilteredExecutive(){this.executiveList1=this.executiveList.filter(o=>o.Name.toLowerCase().includes(this.executiveSearchedName.toLowerCase()))}setFilteredStage(){this.statuses1=this.statuses.filter(o=>o.name.toLowerCase().includes(this.stageSearched.toLowerCase()))}confirmSelection(){this.filteredParams={...this.tempFilteredValues},this.filterModal.dismiss(),this.addQueryParams()}onFilterValues(o){"source"==o&&this.scrollToSelectedSource(),this.isLeftFilterActive=o}onFilterSelection(o,t){switch(o){case"source":this.tempFilteredValues.source="all"==t?"":t;break;case"stage":this.tempFilteredValues.status=t;break;case"executive":this.tempFilteredValues.execid=t}}initializeFilterParam(){}navigateToWhatsApp(o){this.router.navigate(["./clients-chats"],{queryParams:{chatListSearch:o,selectedChat:"all",htype:this.filteredParams.htype}})}dateFilter(o){const t=new Date,s=r=>r.toISOString().split("T")[0];if("custom"!=o&&"customfromDate"!=o&&(this.dateRange={fromdate:null,todate:null},this.filteredParams.isDateFilter=o),"today"===o)this.filteredParams.fromdate=s(t),this.filteredParams.todate=s(t);else if("yesterday"===o){const r=new Date(t);r.setDate(t.getDate()-1),this.filteredParams.fromdate=s(r),this.filteredParams.todate=s(r)}else if("lastsevenDay"==o){const r=new Date;r.setDate(r.getDate()-6),this.filteredParams.fromdate=r.toISOString().split("T")[0],this.filteredParams.todate=(new Date).toISOString().split("T")[0]}else if("custom"===o){const r=this.dateRange.fromdate,d=this.dateRange.todate;if(r&&d){const u=r.toLocaleDateString("en-CA"),f=d.toLocaleDateString("en-CA");this.filteredParams.fromdate=u,this.filteredParams.todate=f,this.filteredParams.isDateFilter="custom",this.addQueryParams()}this.dateRange.fromdate&&this.dateRange.todate&&this.popoverController.dismiss()}else if("lastsevenDay"==o){const r=new Date;r.setDate(r.getDate()-6),this.filteredParams.fromdate=r.toISOString().split("T")[0],this.filteredParams.todate=(new Date).toISOString().split("T")[0]}else if("customfromDate"==o)return this.dateRange.fromdate>this.dateRange.todate?(this.filteredParams.todate="",this.dateRange.todate=null):this.dateRange.fromdate&&this.dateRange.todate&&(this.filteredParams.fromdate=this.dateRange.fromdate.toLocaleDateString("en-CA"),this.filteredParams.todate=this.dateRange.todate.toLocaleDateString("en-CA")),void(this.dateRange.fromdate&&this.dateRange.todate&&(this.addQueryParams(),this.popoverController.dismiss()));"custom"!=o&&"customfromDate"!=o&&this.addQueryParams()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.rXU(e.SKi),e.rXU(v.d),e.rXU(_.Ix),e.rXU(l._t),e.rXU(m.aZ),e.rXU(_.nX),e.rXU(l.IE))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-hourly-report-listing"]],viewQuery:function(o,t){if(1&o&&(e.GBs(j,5),e.GBs(k,5),e.GBs(S,5)),2&o){let s;e.mGM(s=e.lsd())&&(t.datePopover=s.first),e.mGM(s=e.lsd())&&(t.filterModal=s.first),e.mGM(s=e.lsd())&&(t.sourceScrollContent=s.first)}},decls:44,vars:14,consts:[["filterModal",""],["sourceScrollContent",""],["class","content_center loader",4,"ngIf"],[1,"retailMandate"],["size","2",1,"content_center",3,"click"],["name","arrow-back",2,"font-size","24px"],[1,"content_center"],[1,"font-size16-familyPoppins"],["name","menu",1,"menu_icon"],[2,"background","#f9f9f9","padding","10px 10px 0 10px"],[1,"dateRange_btn_Css"],["size","3.5",1,"content_center"],[3,"click","ngClass"],["size","4",1,"content_center",3,"click"],[3,"ngClass"],["id","open-date-input1","size","3",1,"content_center"],["size","1.5",1,"content_center",3,"click"],["name","refresh"],["trigger","open-date-input1","side","bottom","alignment","center",1,"newAndselect_popover",3,"backdropDismiss"],["size","6",1,"dateTime_css"],["optionLabel","name","placeholder","Select a Executive",1,"exec_css",3,"ngModelChange","onChange","options","ngClass","ngModel"],[1,"filteredChips"],[2,"display","flex","overflow-x","scroll","padding","0 5px"],["fill","clear",3,"click",4,"ngIf"],[4,"ngIf"],["fill","clear","class","filterButtons marginBottom15px","style","padding: 0;",4,"ngIf"],["fill","clear","class","filterButtons marginBottom15px","style","padding: 0;",3,"click",4,"ngIf"],[2,"--background","#f9f9f9","--padding-top","5px","--padding-start","10px","--padding-end","10px"],[3,"ionSwipe",4,"ngFor","ngForOf"],["class","ion-justify-content-center ion-align-items-center",4,"ngIf"],["src","../../assets/CRMimages/filter.svg",1,"ion-filter-icon",3,"click"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"m-2","mb-0"],["for","hourlyreport-fromDate",1,"from-date-calendar","d-flex","align-items-center","p-0","w-100"],[1,"w-100"],[1,"font-size14-familyPoppins"],[1,"d-flex","align-items-center","calendar-div"],[1,"d-flex"],["src","../assets/CRMimages/date-filter-icon.png"],[1,"ps-2",3,"ngClass"],["inputId","hourlyreport-fromDate","appendTo","body","dateFormat","yy-mm-dd",1,"m-3",3,"ngModelChange","onSelect","ngModel"],[1,"m-2",3,"ngClass"],["for","hourlyreport-toDate",1,"to-date-calendar","d-flex","align-items-center","p-0","w-100"],["inputId","hourlyreport-toDate","appendTo","body","dateFormat","yy-mm-dd",1,"m-3",3,"ngModelChange","onSelect","ngModel","minDate"],["fill","clear",3,"click"],["slot","end","name","close"],[4,"ngFor","ngForOf"],["fill","clear",1,"filterButtons","marginBottom15px",2,"padding","0"],["fill","clear",1,"filterButtons","marginBottom15px",2,"padding","0",3,"click"],[3,"ionSwipe"],["lines","none"],[1,"lead-info",2,"width","100%"],[1,"info-row-heading"],["size","6"],[1,"info-row-value"],["size","6",4,"ngIf"],[1,"custom-row-style"],["style","display: flex;justify-content: flex-end;",4,"ngIf"],[1,"info-row-value","font-colorBlue"],[1,"custom-text",2,"margin","0"],[1,"highlight-text",2,"padding","0 0 0 2px"],[2,"display","flex","justify-content","flex-end"],[1,"ion-text-start",2,"padding-right","8px",3,"href"],["src","../../assets/CRMimages/call-icon.svg",1,"call-icon"],[3,"href"],["src","../../assets/CRMimages/what'sapp-icon.svg",1,"whatsapp-icon"],[1,"ion-text-start",2,"padding-right","8px"],["side","end"],["src","../../assets/CRMimages/phone-call.svg",1,"call-icon",2,"width","45px","padding","10px"],["side","start"],["src","../../assets/CRMimages/whatsapp_icon.svg",1,"call-icon",2,"width","52px","padding","10px"],[1,"ion-justify-content-center","ion-align-items-center"],[1,"ion-text-center"],[1,"header_footerHeight","bottom_border","content_center"],[2,"width","100%"],["size","2",1,"center-vertically",3,"click"],["name","close"],["size","8",1,"content_center","font-size16-familyPoppins"],[2,"height","100%"],[1,"split-layout"],[1,"left-column"],[1,"content_center","borderBottom_background",3,"click","ngClass"],[1,"font-size12-familyPoppins"],["class","content_center borderBottom_background",3,"ngClass","click",4,"ngIf"],[1,"divider"],[1,"right-column"],[1,"header_footerHeight"],[1,"content_center","font-size14-familyPoppins",3,"click"],["fill","clear",1,"showresultButton"],[3,"ngModelChange","ionInput","ngModel"],[2,"height","70vh"],[1,"filterButtons",3,"click","ngClass"],["class","filterButtons",3,"id","ngClass","click",4,"ngFor","ngForOf"],[1,"filterButtons",3,"click","id","ngClass"],[2,"height","80vh"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"filterButtons"]],template:function(o,t){if(1&o){const s=e.RV6();e.DNE(0,w,2,0,"div",2),e.j41(1,"ion-header")(2,"ion-row",3)(3,"ion-col",4),e.bIt("click",function(){return e.eBV(s),e.Njj(t.onBackButton())}),e.j41(4,"ion-icon",5),e.EFF(5,"back"),e.k0s()(),e.j41(6,"ion-col",6)(7,"span",7),e.EFF(8,"Hourly Reports"),e.k0s()(),e.j41(9,"ion-col",4),e.bIt("click",function(){return e.eBV(s),e.Njj(t.openEndMenu())}),e.nrm(10,"ion-icon",8),e.k0s()()(),e.j41(11,"div",9)(12,"ion-row",10)(13,"ion-col",11)(14,"span",12),e.bIt("click",function(){return e.eBV(s),e.Njj(t.dateFilter("today"))}),e.EFF(15,"Today"),e.k0s()(),e.j41(16,"ion-col",13),e.bIt("click",function(){return e.eBV(s),e.Njj(t.dateFilter("lastsevenDay"))}),e.j41(17,"span",14),e.EFF(18,"Last 7 Days"),e.k0s()(),e.j41(19,"ion-col",15)(20,"span",14),e.EFF(21," Custom"),e.k0s()(),e.j41(22,"ion-col",16),e.bIt("click",function(){return e.eBV(s),e.Njj(t.reSet())}),e.nrm(23,"ion-icon",17),e.k0s()(),e.j41(24,"ion-popover",18),e.DNE(25,M,22,8,"ng-template"),e.k0s(),e.j41(26,"ion-row")(27,"ion-col",19)(28,"p-dropdown",20),e.mxI("ngModelChange",function(d){return e.eBV(s),e.DH7(t.selectedTime,d)||(t.selectedTime=d),e.Njj(d)}),e.bIt("onChange",function(d){return e.eBV(s),e.Njj(t.onTimeFilter(d))}),e.k0s()(),e.nrm(29,"ion-col"),e.k0s(),e.j41(30,"ion-row",21)(31,"div",22),e.DNE(32,I,3,1,"ion-button",23)(33,T,2,1,"span",24)(34,G,3,1,"ion-button",25)(35,H,4,1,"ion-button",26),e.k0s()()(),e.j41(36,"ion-content",27),e.DNE(37,Y,35,10,"ion-item-sliding",28)(38,A,4,0,"ion-row",29),e.k0s(),e.j41(39,"ion-img",30),e.bIt("click",function(){return e.eBV(s),e.Njj(t.navigateToFilter())}),e.k0s(),e.nrm(40,"app-common-footer"),e.j41(41,"ion-modal",null,0),e.DNE(43,ee,27,6,"ng-template"),e.k0s()}2&o&&(e.Y8G("ngIf",t.showSpinner),e.R7$(14),e.Y8G("ngClass","today"==t.filteredParams.isDateFilter?"bg_textColor":""),e.R7$(3),e.Y8G("ngClass","lastsevenDay"==t.filteredParams.isDateFilter?"bg_textColor":""),e.R7$(3),e.Y8G("ngClass",t.getTodayDate()!==t.filteredParams.fromdate&&t.getlastSeventhDate()!==t.filteredParams.fromdate?"bg_textColor":""),e.R7$(4),e.Y8G("backdropDismiss",!(t.dateRange.fromdate&&!t.dateRange.todate)),e.R7$(4),e.Y8G("options",t.time)("ngClass",""!==t.filteredParams.execid||t.filteredParams.fromdate!==t.filteredParams.todate?"pointer_eventsNone":""),e.R50("ngModel",t.selectedTime),e.R7$(4),e.Y8G("ngIf",t.filteredParams.source),e.R7$(),e.Y8G("ngIf",t.filteredParams.execid&&t.filteredParams.execid!==t.localStorage.getItem("UserId")),e.R7$(),e.Y8G("ngIf",t.filteredParams.status),e.R7$(),e.Y8G("ngIf","custom"==t.filteredParams.isDateFilter),e.R7$(2),e.Y8G("ngForOf",t.leads_detail),e.R7$(),e.Y8G("ngIf",t.leads_detail&&0===t.leads_detail.length))},dependencies:[m.YU,m.Sq,m.bT,l.Jm,l.hU,l.W9,l.M0,l.eU,l.iq,l.KW,l.uz,l.CE,l.A7,l.ln,l.S1,l.Sb,l.CF,l.Gw,R.ms,C.Vv,F.a,g.BC,g.vS],styles:[".dateRange_btn_Css[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;height:100%;border:1px solid rgba(190,191,200,.5);border-radius:2px;font-size:12px;color:#bebfc8;background:#fff}.dateRange_btn_Css[_ngcontent-%COMP%]{height:42px}.dateRange_btn_Css[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:4px;border:1px solid rgba(190,191,200,.5);border-radius:2px;font-size:12px;color:#0b7ab2;background:#fff}.dateRange_btn_Css[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:6px}  .dateTime_css p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger{width:30px!important}  .dateTime_css p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:14px;color:#0b7ab2}  .dateTime_css p-dropdown .p-dropdown{width:100%;background-color:#e0f1fe;border:1px solid rgba(11,122,178,.5)}.dateTime_css[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.dateTime_css[_ngcontent-%COMP%]{display:flex;align-items:center}  .dateTime_css p-dropdown.exec_css .p-inputwrapper span{padding:6px;font-size:12px;font-family:Poppins;color:#0b7ab2;display:flex;align-items:center;justify-content:center}  .p-element .p-dropdown-item{padding:5px!important;font-size:12px}.info-row-heading[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:10px;color:#0009}.info-row-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0;padding-right:0}.lead-info[_ngcontent-%COMP%]{box-shadow:1px 2px 10px #63636333;border:1px solid #e9e9e9;border-radius:4px;margin-bottom:10px}.info-row-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500;font-size:10px;color:#000c}.info-row-value[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0 !important}ion-img.ion-filter-icon[_ngcontent-%COMP%]{float:right;height:40px;position:absolute;right:0;bottom:65px}.menu_icon[_ngcontent-%COMP%]{font-size:30px;color:#0b7ab2}.filteredChips[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#0b7ab2;font-size:12px;font-family:Poppins;font-weight:400;word-wrap:break-word;border:.5px #0b7ab2 solid;border-radius:4px;height:26px;min-height:26px}.split-layout[_ngcontent-%COMP%]{display:flex;align-items:stretch;height:100%}.left-column[_ngcontent-%COMP%]{flex:2.5;max-width:41%}.right-column[_ngcontent-%COMP%]{flex:3}.divider[_ngcontent-%COMP%]{width:1px;background-color:#ccc}.showresultButton[_ngcontent-%COMP%]{background:#0b7ab2;color:#fff;width:70%;border-radius:10px;text-transform:none;font-size:16px;font-family:Poppins}.borderBottom_background[_ngcontent-%COMP%]{border-bottom:.5px solid #ececec}.borderBottom_background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins}.startAssign[_ngcontent-%COMP%]   .bg_textColor[_ngcontent-%COMP%]{border-radius:44px}.sideHeadings[_ngcontent-%COMP%]   .bg_textColor[_ngcontent-%COMP%]{border-radius:0}.sideHeadings[_ngcontent-%COMP%]   .bg_textColor[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.filterButtons[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:12px;color:#000;text-transform:none;height:35px;padding-left:10px;display:flex;align-items:center}  p-calendar input{top:15px;left:10px;position:absolute!important;opacity:0!important;pointer-events:none!important;height:0!important;width:0!important;display:none!important}  .p-datepicker{position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}  .p-datepicker table td>span.p-highlight{color:#e6eaed!important;background:#0b7ab2!important}p-calendar[_ngcontent-%COMP%]{display:none!important}.to-date-calendar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%], .from-date-calendar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:20px}.to-date-calendar[_ngcontent-%COMP%]   .calendar-div[_ngcontent-%COMP%], .from-date-calendar[_ngcontent-%COMP%]   .calendar-div[_ngcontent-%COMP%]{border:1px solid rgba(73,73,77,.3);border-radius:4px;padding:6px;font-size:12px;font-family:Poppins}.isBeforeselectingDate[_ngcontent-%COMP%]{color:#b8b9ba;font-weight:100}.pointer_eventsNone[_ngcontent-%COMP%]{pointer-events:none;cursor:none;opacity:.6}"]}),a})(),ne=(()=>{var i;class a{}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[m.MD,_.iI.forChild([{path:"",component:te}]),l.bv,R.kr,C.rO,y.iV,x.aI,P.G,g.YN]}),a})()}}]);