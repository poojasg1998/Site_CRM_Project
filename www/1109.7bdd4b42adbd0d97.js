"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1109],{1109:(Yi,k,p)=>{p.r(k),p.d(k,{VisitUpdatesModule:()=>Oi});var u=p(177),v=p(3477),c=p(5933),g=p(9417),x=p(467),S=p(8032),r=p.n(S),i=p(4438),L=p(9451),V=p(3317),R=p(5788),G=p(2408),w=p(2152);const B=["modal"],M=["existingExecutive"],F=["mainscrollContainer"],I=()=>({"background-image":"url(../../assets/CRMimages/sithara-bg.png)"}),j=()=>({"background-image":"url(../../assets/CRMimages/samskruthi-bg.png)"}),P=()=>({"background-image":"url(../../assets/CRMimages/enchanting-bg.png)"}),E=()=>({"background-image":"url(../../assets/CRMimages/ranavgroup-bg.svg)"}),y=()=>({"background-image":"url(../../assets/CRMimages/reviva-bg.png)"}),N=()=>({}),T=()=>({length:4,allowNumbersOnly:!0});function U(n,a){1&n&&(i.j41(0,"div",8),i.nrm(1,"ion-img",9),i.k0s())}function H(n,a){1&n&&i.nrm(0,"app-header")}function X(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col",12)(1,"ion-img",13),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return t.onPropertylist("sitara"),t.isFeatchData=!0,i.Njj(t.isPropertyList=!1)}),i.k0s()()}}function O(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col",12)(1,"ion-img",14),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return t.onPropertylist("swara"),t.isFeatchData=!0,i.Njj(t.isPropertyList=!1)}),i.k0s()()}}function W(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col",15)(1,"ion-img",16),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return t.onPropertylist("ranav"),t.isFeatchData=!0,i.Njj(t.isPropertyList=!1)}),i.k0s()()}}function Y(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col",12)(1,"ion-img",17),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return t.onPropertylist("samskruthi"),t.isFeatchData=!0,i.Njj(t.isPropertyList=!1)}),i.k0s()()}}function D(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col",12)(1,"ion-img",18),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return t.onPropertylist("reviva"),t.isFeatchData=!0,i.Njj(t.isPropertyList=!1)}),i.k0s()()}}function $(n,a){if(1&n&&(i.j41(0,"ion-row"),i.DNE(1,X,2,0,"ion-col",10)(2,O,2,0,"ion-col",10)(3,W,2,0,"ion-col",11)(4,Y,2,0,"ion-col",10)(5,D,2,0,"ion-col",10),i.k0s()),2&n){const e=i.XpG(2);i.R7$(),i.Y8G("ngIf",e.isGRSithara),i.R7$(),i.Y8G("ngIf",e.isGRSwara),i.R7$(),i.Y8G("ngIf",e.isRanavGroup),i.R7$(),i.Y8G("ngIf",e.isGRSamskruthi),i.R7$(),i.Y8G("ngIf",e.isReviva)}}function A(n,a){if(1&n&&(i.j41(0,"div"),i.DNE(1,$,6,5,"ion-row",4),i.k0s()),2&n){const e=i.XpG();i.R7$(),i.Y8G("ngIf",!e.isOnCallDetailsPage)}}function K(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",28),i.k0s())}function z(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",29),i.k0s())}function J(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",30),i.k0s())}function Q(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",31),i.k0s())}function Z(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",32),i.k0s())}function q(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",33),i.k0s())}function ii(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",34),i.k0s())}function ei(n,a){if(1&n){const e=i.RV6();i.j41(0,"div",19)(1,"ion-row"),i.DNE(2,K,2,0,"ion-col",20)(3,z,2,0,"ion-col",20)(4,J,2,0,"ion-col",20)(5,Q,2,0,"ion-col",20)(6,Z,2,0,"ion-col",20)(7,q,2,0,"ion-col",20)(8,ii,2,0,"ion-col",20),i.k0s(),i.j41(9,"div",21)(10,"span")(11,"ion-row")(12,"ion-label"),i.EFF(13,"Name:"),i.k0s(),i.j41(14,"ion-input",22),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG();return i.DH7(o.mailsend.clientname,t)||(o.mailsend.clientname=t),i.Njj(t)}),i.k0s()(),i.j41(15,"ion-row",23)(16,"ion-label"),i.EFF(17,"Number:"),i.k0s()(),i.j41(18,"ion-row")(19,"ion-input",24),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG();return i.DH7(o.mailsend.contact,t)||(o.mailsend.contact=t),i.Njj(t)}),i.bIt("input",function(t){i.eBV(e);const o=i.XpG();return i.Njj(o.validateContact(t))}),i.k0s()()()(),i.j41(20,"div",25),i.nrm(21,"ion-img",26),i.k0s()()}if(2&n){const e=i.XpG();i.Y8G("ngStyle",e.isSitaraLogo?i.lJ4(10,I):e.isSamskruthiLogo?i.lJ4(11,j):e.isEnchantingLogo?i.lJ4(12,P):e.isRanavGrouplogo?i.lJ4(13,E):e.isSwaraGroupLogo?i.lJ4(14,j):e.isRevivaLogo?i.lJ4(15,y):i.lJ4(16,N)),i.R7$(2),i.Y8G("ngIf",e.isSitaraLogo),i.R7$(),i.Y8G("ngIf",e.isSamskruthiLogo),i.R7$(),i.Y8G("ngIf",e.isSwaraGroupLogo),i.R7$(),i.Y8G("ngIf",e.isEnchantingLogo),i.R7$(),i.Y8G("ngIf",e.isMSRlogo),i.R7$(),i.Y8G("ngIf",e.isRanavGrouplogo),i.R7$(),i.Y8G("ngIf",e.isRevivaLogo),i.R7$(6),i.R50("ngModel",e.mailsend.clientname),i.R7$(5),i.R50("ngModel",e.mailsend.contact)}}function ti(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",42),i.k0s())}function si(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",43),i.k0s())}function ni(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",44),i.k0s())}function oi(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",45),i.k0s())}function ai(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",46),i.k0s())}function li(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",47)(2,"ion-img",48),i.k0s())}function ri(n,a){1&n&&(i.j41(0,"ion-col",27),i.nrm(1,"ion-img",49),i.k0s())}function ci(n,a){if(1&n&&(i.j41(0,"ion-row")(1,"ion-col"),i.EFF(2),i.k0s()()),2&n){const e=i.XpG(3);i.R7$(2),i.SpI(" RSV - ",e.rsvcount," Times Visited ")}}function _i(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col")(1,"ion-button",61),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.sizeselection("1BHK"))}),i.EFF(2,"1 BHK"),i.k0s()()}if(2&n){const e=i.XpG(4);i.R7$(),i.Y8G("ngClass",e.isSelect1BHK?"backgroundColor":"backgroundColorNone")}}function di(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col")(1,"ion-button",61),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.sizeselection("2BHK"))}),i.EFF(2,"2 BHK"),i.k0s()()}if(2&n){const e=i.XpG(4);i.R7$(),i.Y8G("ngClass",e.isSelect2BHK?"backgroundColor":"backgroundColorNone")}}function hi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col")(1,"ion-button",61),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.sizeselection("3BHK"))}),i.EFF(2,"3 BHK"),i.k0s()()}if(2&n){const e=i.XpG(4);i.R7$(),i.Y8G("ngClass",e.isSelect3BHK?"backgroundColor":"backgroundColorNone")}}function pi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-col")(1,"ion-button",61),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.sizeselection("4BHK"))}),i.EFF(2,"4 BHK"),i.k0s()()}if(2&n){const e=i.XpG(4);i.R7$(),i.Y8G("ngClass",e.isSelect4BHK?"backgroundColor":"backgroundColorNone")}}function mi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("1Cr - 1.2Cr"))}),i.EFF(3,"1Cr - 1.2Cr"),i.k0s()(),i.j41(4,"ion-col")(5,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("Sitara1.2Cr - Above"))}),i.EFF(6,"1.2Cr - Above"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is1CrBudget?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.isAbove1_2CrBudget?"backgroundColor":"backgroundColorNone")}}function gi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("80L-1Cr"))}),i.EFF(3,"80L-1Cr"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is80L_1Cr?"backgroundColor":"backgroundColorNone")}}function ui(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("4CR - Above"))}),i.EFF(3,"4Cr - Above"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is4Cr?"backgroundColor":"backgroundColorNone")}}function fi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("50L-60L"))}),i.EFF(3,"50L-60L"),i.k0s()(),i.j41(4,"ion-col")(5,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("70L-80L"))}),i.EFF(6,"70L-80L"),i.k0s()(),i.j41(7,"ion-col")(8,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("80L-Above"))}),i.EFF(9,"80L-Above"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is50L_60L?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is70L_80L?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is80L_Above?"backgroundColor":"backgroundColorNone")}}function vi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("80L-90L"))}),i.EFF(3,"80L-90L"),i.k0s()(),i.j41(4,"ion-col")(5,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("90L-1.2Cr"))}),i.EFF(6,"90L-1.2Cr"),i.k0s()(),i.j41(7,"ion-col")(8,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("1.2Cr - Above"))}),i.EFF(9,"1.2Cr & Above"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is80L_90L?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is90L_1_2Cr?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is1_2Cr_Above?"backgroundColor":"backgroundColorNone")}}function Ci(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("BELOW - 2.5Cr"))}),i.EFF(3,"Below - 2.5 Cr"),i.k0s()(),i.j41(4,"ion-col")(5,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("2.5Cr - 3Cr"))}),i.EFF(6,"2.5Cr - 3Cr"),i.k0s()(),i.j41(7,"ion-col")(8,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("3Cr - 3.5Cr"))}),i.EFF(9,"3Cr - 3.5Cr"),i.k0s()(),i.j41(10,"ion-col")(11,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("3.5Cr - 4Cr"))}),i.EFF(12,"3.5Cr - 4Cr"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.islessthan2_5CrBudget?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is2_5CrBudget?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is3CrBudget?"backgroundColor":"backgroundColorNone"),i.R7$(3),i.Y8G("ngClass",e.is3_5To4CrBudget?"backgroundColor":"backgroundColorNone")}}function bi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-button",62),i.bIt("click",function(){i.eBV(e);const t=i.XpG(4);return i.Njj(t.budgetselection("75L_1Cr"))}),i.EFF(3,"75L-1Cr"),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("ngClass",e.is75L_1Cr?"backgroundColor":"backgroundColorNone")}}function ki(n,a){if(1&n&&(i.j41(0,"ion-select-option",65),i.EFF(1),i.k0s()),2&n){const e=a.$implicit;i.FCK("value","",e.id,",",e.name,""),i.R7$(),i.JRh(e.name)}}function xi(n,a){if(1&n){const e=i.RV6();i.j41(0,"div")(1,"ion-row")(2,"ion-col"),i.EFF(3,"Assisting Manager"),i.k0s()(),i.j41(4,"ion-row")(5,"ion-col")(6,"ion-select",63),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(4);return i.DH7(o.mailsend.propertymodel,t)||(o.mailsend.propertymodel=t),i.Njj(t)}),i.bIt("ionChange",function(t){i.eBV(e);const o=i.XpG(4);return i.Njj(o.selectexecutive(t))}),i.DNE(7,ki,2,4,"ion-select-option",64),i.k0s()()()()}if(2&n){const e=i.XpG(4);i.R7$(6),i.R50("ngModel",e.mailsend.propertymodel),i.R7$(),i.Y8G("ngForOf",e.mandateexecutives)}}function Ri(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-list",71),i.bIt("click",function(){const t=i.eBV(e).$implicit,o=i.XpG(6);return i.Njj(o.slectCP(t))}),i.j41(1,"ion-label",72),i.EFF(2),i.k0s()()}if(2&n){const e=a.$implicit;i.R7$(2),i.SpI(" ",e.CP_NAME,"")}}function ji(n,a){if(1&n&&(i.j41(0,"div",69),i.DNE(1,Ri,3,1,"ion-list",70),i.k0s()),2&n){const e=i.XpG(5);i.R7$(),i.Y8G("ngForOf",e.cplists1)}}function Si(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row",66)(1,"ion-searchbar",67),i.bIt("ionInput",function(t){i.eBV(e);const o=i.XpG(4);return i.Njj(o.handleInput(t))}),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(4);return i.DH7(o.mailsend.cpname,t)||(o.mailsend.cpname=t),i.Njj(t)}),i.k0s(),i.DNE(2,ji,2,1,"div",68),i.k0s()}if(2&n){const e=i.XpG(4);i.R7$(),i.R50("ngModel",e.mailsend.cpname),i.R7$(),i.Y8G("ngIf",e.mailsend.cpname&&""!==e.mailsend.cpname.trim())}}function Li(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row")(1,"ion-col")(2,"ion-input",73),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(4);return i.DH7(o.mailsend.cpname,t)||(o.mailsend.cpname=t),i.Njj(t)}),i.k0s()()()}if(2&n){const e=i.XpG(4);i.R7$(2),i.Y8G("placeholder",e.placeholderValue),i.R50("ngModel",e.mailsend.cpname)}}function Vi(n,a){1&n&&i.nrm(0,"ion-img",74)}function Gi(n,a){if(1&n){const e=i.RV6();i.j41(0,"div")(1,"form",50),i.bIt("ngSubmit",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.adminsubmit())}),i.j41(2,"ion-row")(3,"ion-col"),i.EFF(4,"Email:"),i.k0s()(),i.j41(5,"ion-row")(6,"ion-col")(7,"ion-input",51),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.mailsend.clientmail,t)||(o.mailsend.clientmail=t),i.Njj(t)}),i.k0s()()(),i.j41(8,"ion-row")(9,"ion-col"),i.EFF(10,"Select Size:"),i.k0s()(),i.j41(11,"ion-row"),i.DNE(12,_i,3,1,"ion-col",4)(13,di,3,1,"ion-col",4)(14,hi,3,1,"ion-col",4)(15,pi,3,1,"ion-col",4),i.k0s(),i.j41(16,"ion-row")(17,"ion-col"),i.EFF(18,"Budget:"),i.k0s()(),i.j41(19,"ion-row")(20,"ion-col",52),i.DNE(21,mi,7,2,"ion-row",4)(22,gi,4,1,"ion-row",4)(23,ui,4,1,"ion-row",4)(24,fi,10,3,"ion-row",4)(25,vi,10,3,"ion-row",4)(26,Ci,13,4,"ion-row",4)(27,bi,4,1,"ion-row",4),i.k0s()(),i.DNE(28,xi,8,2,"div",4),i.j41(29,"ion-row")(30,"ion-col"),i.EFF(31,"Source:"),i.k0s()(),i.j41(32,"ion-row")(33,"ion-col")(34,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsource("Homes247-Walkin"))}),i.EFF(35,"Homes247"),i.k0s(),i.j41(36,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsource("Magicbricks-Walkin"))}),i.EFF(37,"Magicbricks"),i.k0s(),i.j41(38,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsource("Housing-Walkin"))}),i.EFF(39,"Housing"),i.k0s(),i.j41(40,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsource("99acres-Walkin"))}),i.EFF(41,"99acres"),i.k0s(),i.j41(42,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsource("Walkin"))}),i.EFF(43,"Walkin"),i.k0s(),i.j41(44,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsourcecpclik("channelPartner"))}),i.EFF(45,"Channel Partner"),i.k0s(),i.j41(46,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsourcecpclik("reference"))}),i.EFF(47,"Reference"),i.k0s(),i.j41(48,"ion-button",53),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.selectsourcecpclik("hoardings"))}),i.EFF(49,"Hoardings"),i.k0s()()(),i.DNE(50,Si,3,2,"ion-row",54)(51,Li,3,2,"ion-row",4),i.j41(52,"div")(53,"ion-row")(54,"ion-col",55),i.EFF(55,"Priority"),i.k0s()(),i.j41(56,"ion-row",56)(57,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("1"))}),i.j41(58,"span"),i.EFF(59,"HOT"),i.k0s()(),i.j41(60,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("2"))}),i.j41(61,"span"),i.EFF(62,"WORM"),i.k0s()(),i.j41(63,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("3"))}),i.j41(64,"span"),i.EFF(65,"COLD"),i.k0s()(),i.j41(66,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("4"))}),i.j41(67,"span"),i.EFF(68,"JUNK"),i.k0s()()()(),i.j41(69,"ion-row")(70,"ion-col"),i.EFF(71,"Visit Remark(Optional):"),i.k0s()(),i.j41(72,"ion-row")(73,"ion-col")(74,"ion-textarea",58),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.mailsend.visitremarks,t)||(o.mailsend.visitremarks=t),i.Njj(t)}),i.k0s()()(),i.j41(75,"ion-row")(76,"ion-col")(77,"ion-button",59),i.EFF(78,"Submit"),i.k0s()()()(),i.DNE(79,Vi,1,0,"ion-img",60),i.k0s()}if(2&n){const e=i.XpG(3);i.R7$(7),i.R50("ngModel",e.mailsend.clientmail),i.R7$(5),i.Y8G("ngIf",e.isSamskruthiLogo),i.R7$(),i.Y8G("ngIf",e.isSamskruthiLogo||e.isMSRlogo),i.R7$(),i.Y8G("ngIf",!e.isRanavGrouplogo&&!e.isSwaraGroupLogo),i.R7$(),i.Y8G("ngIf",e.isRanavGrouplogo||e.isSwaraGroupLogo),i.R7$(6),i.Y8G("ngIf",e.isSitaraLogo),i.R7$(),i.Y8G("ngIf",e.isMSRlogo),i.R7$(),i.Y8G("ngIf",e.isSwaraGroupLogo),i.R7$(),i.Y8G("ngIf",e.isSamskruthiLogo),i.R7$(),i.Y8G("ngIf",e.isEnchantingLogo),i.R7$(),i.Y8G("ngIf",e.isRanavGrouplogo),i.R7$(),i.Y8G("ngIf",e.isRevivaLogo),i.R7$(),i.Y8G("ngIf","1"===e.localStorage.getItem("Role")),i.R7$(6),i.Y8G("ngClass",e.isHomes247_Walkin?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isMagicbricks_Walkin?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isHousing_Walkin?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.is99acres_Walkin?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isWalkin?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isChannelPartner?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isReference?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngClass",e.isHoardings?"backgroundColor":"backgroundColorNone"),i.R7$(2),i.Y8G("ngIf",e.ischannelPatner),i.R7$(),i.Y8G("ngIf",e.ischannelPatnerName),i.R7$(6),i.Y8G("ngClass","1"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","2"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","3"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","4"==e.mailsend.priority?"activeSaveButton":""),i.R7$(8),i.R50("ngModel",e.mailsend.visitremarks),i.R7$(3),i.Y8G("disabled","demo"==e.localStorage.getItem("Name")),i.R7$(2),i.Y8G("ngIf",e.isRanavGrouplogo)}}function wi(n,a){if(1&n&&(i.j41(0,"ion-select-option",65),i.EFF(1),i.k0s()),2&n){const e=a.$implicit;i.FCK("value","",e.id,",",e.name,""),i.R7$(),i.JRh(e.name)}}function Bi(n,a){if(1&n){const e=i.RV6();i.j41(0,"div")(1,"ion-row")(2,"ion-col"),i.EFF(3,"Assisting Manager:"),i.k0s()(),i.j41(4,"ion-row")(5,"ion-col")(6,"ion-select",63),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(4);return i.DH7(o.mailsend.propertymodel,t)||(o.mailsend.propertymodel=t),i.Njj(t)}),i.bIt("ionChange",function(t){i.eBV(e);const o=i.XpG(4);return i.Njj(o.selectexecutive(t))}),i.DNE(7,wi,2,4,"ion-select-option",64),i.k0s()()()()}if(2&n){const e=i.XpG(4);i.R7$(6),i.R50("ngModel",e.mailsend.propertymodel),i.R7$(),i.Y8G("ngForOf",e.mandateexecutives)}}function Mi(n,a){1&n&&i.nrm(0,"ion-img",74)}function Fi(n,a){if(1&n){const e=i.RV6();i.j41(0,"div")(1,"form",50),i.bIt("ngSubmit",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.adminsubmitrsv())}),i.j41(2,"ion-row")(3,"ion-col"),i.EFF(4,"First Visited On:"),i.k0s()(),i.j41(5,"ion-row")(6,"ion-col")(7,"ion-input",75),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.visiteddate,t)||(o.visiteddate=t),i.Njj(t)}),i.k0s()()(),i.j41(8,"ion-row")(9,"ion-col"),i.EFF(10,"Last Visited On:"),i.k0s()(),i.j41(11,"ion-row")(12,"ion-input",76),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.lastvisiteddate,t)||(o.lastvisiteddate=t),i.Njj(t)}),i.k0s()(),i.j41(13,"ion-row")(14,"ion-col"),i.EFF(15,"Assisted Manager:"),i.k0s()(),i.j41(16,"ion-row")(17,"ion-input",77),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.mailsend.execselectmodel,t)||(o.mailsend.execselectmodel=t),i.Njj(t)}),i.k0s()(),i.j41(18,"ion-row")(19,"ion-col"),i.EFF(20,"Source:"),i.k0s()(),i.j41(21,"ion-row")(22,"ion-input",78),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.mailsend.sourceselectmodel,t)||(o.mailsend.sourceselectmodel=t),i.Njj(t)}),i.k0s()(),i.j41(23,"ion-row")(24,"ion-col"),i.EFF(25,"Last Remarks:"),i.k0s()(),i.j41(26,"ion-row")(27,"ion-textarea",79),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.lastremark,t)||(o.lastremark=t),i.Njj(t)}),i.k0s()(),i.DNE(28,Bi,8,2,"div",4),i.j41(29,"div")(30,"ion-row")(31,"ion-col",55),i.EFF(32,"Priority"),i.k0s()(),i.j41(33,"ion-row",56)(34,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("1"))}),i.j41(35,"span"),i.EFF(36,"HOT"),i.k0s()(),i.j41(37,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("2"))}),i.j41(38,"span"),i.EFF(39,"WORM"),i.k0s()(),i.j41(40,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("3"))}),i.j41(41,"span"),i.EFF(42,"COLD"),i.k0s()(),i.j41(43,"ion-col",57),i.bIt("click",function(){i.eBV(e);const t=i.XpG(3);return i.Njj(t.onPriority("4"))}),i.j41(44,"span"),i.EFF(45,"JUNK"),i.k0s()()()(),i.j41(46,"ion-row")(47,"ion-col"),i.EFF(48,"Visit Remark(Optional):"),i.k0s()(),i.j41(49,"ion-row")(50,"ion-col")(51,"ion-textarea",58),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(3);return i.DH7(o.mailsend.visitremarksrsv,t)||(o.mailsend.visitremarksrsv=t),i.Njj(t)}),i.k0s()()(),i.j41(52,"ion-row")(53,"ion-col")(54,"ion-button",59),i.EFF(55,"Submit"),i.k0s()()()(),i.DNE(56,Mi,1,0,"ion-img",60),i.k0s()}if(2&n){const e=i.XpG(3);i.R7$(7),i.R50("ngModel",e.visiteddate),i.R7$(5),i.R50("ngModel",e.lastvisiteddate),i.R7$(5),i.R50("ngModel",e.mailsend.execselectmodel),i.R7$(5),i.R50("ngModel",e.mailsend.sourceselectmodel),i.R7$(5),i.R50("ngModel",e.lastremark),i.R7$(),i.Y8G("ngIf","1"===e.localStorage.getItem("Role")),i.R7$(6),i.Y8G("ngClass","1"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","2"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","3"==e.mailsend.priority?"activeSaveButton":""),i.R7$(3),i.Y8G("ngClass","4"==e.mailsend.priority?"activeSaveButton":""),i.R7$(8),i.R50("ngModel",e.mailsend.visitremarksrsv),i.R7$(3),i.Y8G("disabled","demo"==e.localStorage.getItem("Name")),i.R7$(2),i.Y8G("ngIf",e.isRanavGrouplogo)}}function Ii(n,a){if(1&n){const e=i.RV6();i.j41(0,"div",38)(1,"ion-row"),i.DNE(2,ti,2,0,"ion-col",20)(3,si,2,0,"ion-col",20)(4,ni,2,0,"ion-col",20)(5,oi,2,0,"ion-col",20)(6,ai,2,0,"ion-col",20)(7,li,3,0,"ion-col",20)(8,ri,2,0,"ion-col",20),i.k0s(),i.j41(9,"ion-row")(10,"ion-col"),i.EFF(11,"Name:"),i.k0s()(),i.j41(12,"ion-row")(13,"ion-col")(14,"ion-input",39),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(2);return i.DH7(o.mailsend.clientname,t)||(o.mailsend.clientname=t),i.Njj(t)}),i.k0s()()(),i.j41(15,"ion-row")(16,"ion-col",40),i.EFF(17,"No:"),i.k0s()(),i.j41(18,"ion-row")(19,"ion-col")(20,"ion-input",41),i.mxI("ngModelChange",function(t){i.eBV(e);const o=i.XpG(2);return i.DH7(o.mailsend.contact,t)||(o.mailsend.contact=t),i.Njj(t)}),i.bIt("input",function(t){i.eBV(e);const o=i.XpG(2);return i.Njj(o.validateContact(t))}),i.k0s()()(),i.DNE(21,ci,3,1,"ion-row",4)(22,Gi,80,30,"div",4)(23,Fi,57,13,"div",4),i.k0s()}if(2&n){const e=i.XpG(2);i.R7$(2),i.Y8G("ngIf",e.isSitaraLogo),i.R7$(),i.Y8G("ngIf",e.isSamskruthiLogo),i.R7$(),i.Y8G("ngIf",e.isSwaraGroupLogo),i.R7$(),i.Y8G("ngIf",e.isEnchantingLogo),i.R7$(),i.Y8G("ngIf",e.isMSRlogo),i.R7$(),i.Y8G("ngIf",e.isRanavGrouplogo),i.R7$(),i.Y8G("ngIf",e.isRevivaLogo),i.R7$(6),i.R50("ngModel",e.mailsend.clientname),i.R7$(6),i.R50("ngModel",e.mailsend.contact),i.R7$(),i.Y8G("ngIf",e.isRevisitvisiblesection),i.R7$(),i.Y8G("ngIf",e.isFreshvisitvisiblesection),i.R7$(),i.Y8G("ngIf",e.isRevisitvisiblesection)}}function Pi(n,a){if(1&n&&(i.j41(0,"ion-row")(1,"ion-col",89),i.EFF(2,"Resend the otp in "),i.j41(3,"span",90),i.EFF(4),i.k0s(),i.EFF(5," Seconds"),i.k0s()()),2&n){const e=i.XpG(3);i.R7$(4),i.SpI(" ",e.display," ")}}function Ei(n,a){if(1&n&&(i.j41(0,"ion-row")(1,"ion-col",89),i.EFF(2,"This Visit will auto submit without otp in "),i.j41(3,"span",91),i.EFF(4),i.k0s(),i.EFF(5,"Seconds "),i.k0s()()),2&n){const e=i.XpG(3);i.R7$(4),i.SpI(" ",e.display," ")}}function yi(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-grid",80)(1,"ion-row",81),i.bIt("click",function(){i.eBV(e);const t=i.XpG(2);return i.Njj(t.onEditNumber())}),i.nrm(2,"ion-img",82),i.k0s(),i.j41(3,"ion-row")(4,"ion-col",83),i.EFF(5,"OTP Verification"),i.k0s()(),i.j41(6,"ion-row")(7,"ion-col",84),i.EFF(8,"Enter the OTP Sent to"),i.k0s()(),i.j41(9,"ion-row")(10,"ion-col",85),i.EFF(11),i.j41(12,"u",86),i.bIt("click",function(){i.eBV(e);const t=i.XpG(2);return i.Njj(t.onEditNumber())}),i.EFF(13,"Edit"),i.k0s()()(),i.j41(14,"ion-row")(15,"ion-col")(16,"ng-otp-input",87),i.bIt("onInputChange",function(t){i.eBV(e);const o=i.XpG(2);return i.Njj(o.otpValidation(t))}),i.k0s()()(),i.j41(17,"div",88),i.DNE(18,Pi,6,1,"ion-row",4)(19,Ei,6,1,"ion-row",4),i.k0s()()}if(2&n){const e=i.XpG(2);i.R7$(11),i.SpI("+91",e.mailsend.contact,""),i.R7$(5),i.Y8G("config",i.lJ4(4,T)),i.R7$(2),i.Y8G("ngIf",!e.otpResend),i.R7$(),i.Y8G("ngIf",e.otpResend)}}function Ni(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-content",35,1),i.bIt("ionScroll",function(t){i.eBV(e);const o=i.XpG();return i.Njj(o.onScroll(t))}),i.DNE(2,Ii,24,12,"div",36),i.j41(3,"ion-modal",37,2),i.DNE(5,yi,20,5,"ng-template"),i.k0s()()}if(2&n){const e=i.XpG();i.R7$(2),i.Y8G("ngIf",e.isFreshvisitvisiblesection||e.isRevisitvisiblesection),i.R7$(),i.Y8G("backdropDismiss",!1)}}function Ti(n,a){if(1&n&&(i.j41(0,"ion-row")(1,"ion-col",97),i.EFF(2),i.k0s(),i.j41(3,"ion-col",98),i.EFF(4),i.k0s(),i.j41(5,"ion-col",99),i.EFF(6),i.k0s(),i.j41(7,"ion-col",100),i.nrm(8,"ion-radio",65),i.k0s()()),2&n){const e=a.$implicit;i.R7$(2),i.JRh(e.execname),i.R7$(2),i.JRh(e.Lead_stage),i.R7$(2),i.JRh(e.lastupdated),i.R7$(2),i.Y8G("value",e)}}function Ui(n,a){if(1&n){const e=i.RV6();i.j41(0,"ion-row",92)(1,"ion-col",93)(2,"span"),i.EFF(3,"Confirm Lead Handling"),i.k0s()(),i.j41(4,"ion-col",94),i.bIt("click",function(){i.eBV(e);const t=i.XpG();return i.sdS(6).dismiss(),i.Njj(t.showSpinner=!1)}),i.nrm(5,"ion-icon",95),i.k0s()(),i.j41(6,"ion-row",96)(7,"ion-col",97),i.EFF(8," Executive Name"),i.k0s(),i.j41(9,"ion-col",98),i.EFF(10,"Status"),i.k0s(),i.j41(11,"ion-col",99),i.EFF(12,"Last Updated On"),i.k0s(),i.j41(13,"ion-col",100),i.EFF(14,"Lead Access"),i.k0s()(),i.j41(15,"ion-radio-group",101),i.bIt("ionChange",function(t){i.eBV(e);const o=i.XpG();return i.Njj(o.existingExecutiveSelect(t))}),i.DNE(16,Ti,9,4,"ion-row",102),i.k0s(),i.j41(17,"ion-row")(18,"ion-col",103)(19,"ion-button",104),i.bIt("click",function(){i.eBV(e);const t=i.XpG();return i.sdS(6).dismiss(),i.Njj(t.isFreshvisitvisiblesection?t.formsubmition():t.formsubmitionrsv())}),i.EFF(20,"Confirm and continue"),i.k0s()()()}if(2&n){const e=i.XpG();i.R7$(15),i.Y8G("value",e.selectedExec),i.R7$(),i.Y8G("ngForOf",e.existingExecutivesList)}}let Hi=(()=>{var n;class a{constructor(s,t,o,l,d,h,_,m){this._location=s,this.menuCtrl=t,this.sharedService=o,this.router=l,this.mandateService=d,this.loadingController=h,this.activeroute=_,this.activeRoute=m,this.existingExecutivesList=[],this.isRanavGroup=!1,this.data=!1,this.isFreshvisitvisiblesection=!1,this.isRevisitvisiblesection=!1,this.isFeatchData=!1,this.isPropertyList=!0,this.ischannelPatner=!1,this.ischannelPatnerName=!1,this.isMSRlogo=!1,this.isMSR=!1,this.isNumberExist=!1,this.otpResend=!1,this.localStorage=localStorage,this.isSelect2BHK=!1,this.isSelect3BHK=!1,this.isSelect1BHK=!1,this.isSelect4BHK=!1,this.is1CrBudget=!1,this.isAbove1_2CrBudget=!1,this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.is50L_60L=!1,this.is70L_80L=!1,this.is80L_Above=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is80L_1Cr=!1,this.is4Cr=!1,this.isGRSithara=!1,this.isGRSamskruthi=!1,this.isEnchanting=!1,this.isGRSwara=!1,this.isReviva=!1,this.mailsend={contact:"",clientname:"",clientmail:"",leadid:"",bhksize:"",cpname:"",cpidpk:"",cpmail:"",propertymodel:"",execselectmodel:"",execselectmodelid:"",sourceselectmodel:"",visitremarks:"",visitremarksrsv:"",priority:"",execselectmodelidrsv:"",execselectmodelrsv:"",otpmodel:"",budget:"",cpid:{CP_NAME:"",CP_IDPK:"",CP_MAIL:""},otpbased:"2"},this.isEditNumber=!1,this.isOnCallDetailsPage=!1,this.roleid="",this.roleType="",this.islessthan2_5CrBudget=!1,this.is2_5CrBudget=!1,this.is3CrBudget=!1,this.is3_5To4CrBudget=!1,this.is75L_1Cr=!1,this.showSpinner=!1,this.count=0,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isRanavGrouplogo=!1,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1}ngOnInit(){this.data=!0,this.activeroute.queryParams.subscribe(s=>{var t;this.roleid=this.localStorage.getItem("Role"),this.roleType=this.localStorage.getItem("RoleType"),this.isOnCallDetailsPage="true"==s.isOnCallDetailsPage,this.isPropertyList=!0,this.isFeatchData=!1,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isSwaraGroupLogo=!1,this.isEnchantingLogo=!1,this.isFreshvisitvisiblesection=!1,this.isRevisitvisiblesection=!1,this.mailsend.contact="",this.mailsend.clientname="";const o=null===(t=localStorage.getItem("PropertyId"))||void 0===t?void 0:t.split(",").map(l=>l.trim());"1"!=localStorage.getItem("Role")||localStorage.getItem("ranavPropId")?"ranavPropId"in localStorage?this.isRanavGroup=!0:(this.isGRSithara=(null==o?void 0:o.includes("16793"))||!1,this.isEnchanting=(null==o?void 0:o.includes("34779"))||!1,this.isGRSamskruthi=(null==o?void 0:o.includes("1830"))||!1,this.isRanavGroup=(null==o?void 0:o.includes("28773"))||!1,this.isGRSwara=(null==o?void 0:o.includes("82668"))||!1,this.isReviva=(null==o?void 0:o.includes("80459"))||!1):(this.isGRSithara=!0,this.isGRSamskruthi=!0,this.isEnchanting=!0,this.isMSR=!0,this.isRanavGroup=!0,this.isGRSwara=!0,this.isReviva=!0)})}numbercheck(){r().fire({title:"Checking Lead in Database",html:"Please Wait...........",timerProgressBar:!0,heightAuto:!1,didOpen:()=>{r().showLoading(),r().getHtmlContainer().querySelector("b")}});var s={number:this.mailsend.contact,propertyId:this.propertyId,executiveId:this.localStorage.getItem("UserId")};this.mandateService.leadexistcheckertest(s).subscribe(t=>{var o=t.status,l=t.success;if(this.leadResponse=t.success,this.existingExecutivesList=t.teammates,"0"==o)r().fire({title:"Checking Lead in Database",html:"Please Wait...........",timer:2e3,heightAuto:!1,timerProgressBar:!0,didOpen:()=>{r().showLoading(),r().getHtmlContainer().querySelector("b")}}).then(()=>{r().fire({title:"Found as Fresh Visit",text:"Please Fill the Relevant Details.",icon:"success",timer:2e3,heightAuto:!1,showConfirmButton:!1,timerProgressBar:!0}).then(()=>{this.mailsend.clientname="",this.isFreshvisitvisiblesection=!0,this.isRevisitvisiblesection=!1,this.isFeatchData=!1})});else if("2"==o)r().fire({title:"Checking Lead in Database",html:"Please Wait...........",timer:2e3,heightAuto:!1,timerProgressBar:!0,didOpen:()=>{r().showLoading(),r().getHtmlContainer().querySelector("b")}}).then(()=>{r().fire({title:"Found as Existing Lead in our Database",text:"Please Fill the Relevant Details.",icon:"success",timer:2e3,heightAuto:!1,showConfirmButton:!1,timerProgressBar:!0}).then(()=>{var _,m,f,C;this.mailsend.clientname=null!=l&&null!==(_=l[0])&&void 0!==_&&_.customer_name?null==l||null===(m=l[0])||void 0===m?void 0:m.customer_name:l.customer_name,this.mailsend.clientmail=null!=l&&null!==(f=l[0])&&void 0!==f&&f.customer_mail?null==l||null===(C=l[0])||void 0===C?void 0:C.customer_mail:l.customer_mail,this.isFreshvisitvisiblesection=!0,this.isRevisitvisiblesection=!1,this.isFeatchData=!1,this.isNumberExist=!0})});else if("1"==o){var d,h;this.rsvlead=!0,this.rsvcount=null==l||null===(d=l[0])||void 0===d?void 0:d.visited_count,this.mailsend.leadid=null==l||null===(h=l[0])||void 0===h?void 0:h.enquiry_idfk,r().fire({title:"Fetching the Details",text:"Please Wait...........",timer:3e3,heightAuto:!1,timerProgressBar:!0,didOpen:()=>{r().showLoading(),r().getHtmlContainer().querySelector("b")}}).then(()=>{this.isFreshvisitvisiblesection=!1,this.isRevisitvisiblesection=!0,this.isFeatchData=!1;let m=l[0].added_datetime.replace(/[-]/g,"/");m=Date.parse(m);let f=new Date(m);this.visiteddate=f,this.mailsend.clientname=l[0].enquiry_name,this.mailsend.execselectmodel=l[0].accompanied_rm,this.mailsend.sourceselectmodel=l[0].enquiry_source+"-"+l[0].cp_name,this.lastremark=l[0].remarks;let b=l[0].rsvlastvisitdate.replace(/[-]/g,"/");b=Date.parse(b);let Wi=new Date(b);this.lastvisiteddate=Wi})}else r().fire({title:"Something Error Occured!",heightAuto:!1,icon:"error"}).then(()=>{})})}selectsourcecpclik(s){"channelPartner"==s?(this.mailsend.cpname="",this.ischannelPatner=!this.ischannelPatner,this.ischannelPatnerName=!1,this.mandateService.getCPlist().subscribe(t=>{this.cplists=t.CPlists}),this.ischannelPatner?(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!0,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel="Channel Partners-Walkin"):(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel="")):"reference"==s?(this.mailsend.cpname="",this.ischannelPatner=!1,this.ischannelPatnerName="Please Enter Reference Name"!=this.placeholderValue,this.placeholderValue=this.ischannelPatnerName?"Please Enter Reference Name":"",this.ischannelPatnerName?(this.isReference=!0,this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel="Reference"):(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel="")):"hoardings"==s&&(this.mailsend.cpname="",this.ischannelPatner=!1,this.ischannelPatnerName="Please Enter Hoarding Reference Name"!=this.placeholderValue,this.placeholderValue=this.ischannelPatnerName?"Please Enter Hoarding Reference Name":"",this.ischannelPatnerName?(this.isHoardings=!0,this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.mailsend.sourceselectmodel="Hoarding"):(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=""))}slectCP(s){this.mailsend.cpid=s,this.mailsend.cpname=this.mailsend.cpid.CP_NAME,this.mailsend.cpidpk=this.mailsend.cpid.CP_IDPK,this.mailsend.cpmail=this.mailsend.cpid.CP_MAIL,this.cplists1=[]}selectexecutive(s){const t=s.target.value,[o,l]=t.split(",");this.mailsend.execselectmodel=l,this.mailsend.execselectmodelid=o,this.mailsend.execselectmodelidrsv=this.mailsend.execselectmodelid,this.mailsend.execselectmodelrsv=this.mailsend.execselectmodel}selectexecutivesrsv(s){const t=s.target.value,[o,l]=t.split(",");this.mailsend.execselectmodelrsv=l,this.mailsend.execselectmodelidrsv=o}sizeselection(s){if("3BHK"==s?(this.isSelect3BHK=!this.isSelect3BHK,this.isSelect2BHK=!1,this.isSelect1BHK=!1,this.isSelect4BHK=!1):"2BHK"===s?(this.isSelect2BHK=!this.isSelect2BHK,this.isSelect3BHK=!1,this.isSelect1BHK=!1,this.isSelect4BHK=!1):"4BHK"===s?(this.isSelect4BHK=!this.isSelect4BHK,this.isSelect2BHK=!1,this.isSelect3BHK=!1,this.isSelect1BHK=!1):(this.isSelect2BHK=!1,this.isSelect3BHK=!1,this.isSelect1BHK=!this.isSelect1BHK,this.isSelect4BHK=!1),this.isSelect3BHK||this.isSelect2BHK||this.isSelect1BHK||this.isSelect4BHK){let t=s.match(/[\d\.]+/g);t=t.filter(o=>"."!=o),this.mailsend.bhksize=t}else this.mailsend.bhksize=""}budgetselection(s){"1Cr - 1.2Cr"==s?(this.is80L_1Cr=!1,this.is1CrBudget=!this.is1CrBudget,this.isAbove1_2CrBudget=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"Sitara1.2Cr - Above"==s?(this.is80L_1Cr=!1,this.is1CrBudget=!1,this.isAbove1_2CrBudget=!this.isAbove1_2CrBudget,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"50L-60L"==s?(this.is80L_1Cr=!1,this.is50L_60L=!this.is50L_60L,this.is70L_80L=!1,this.is80L_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"70L-80L"==s?(this.is80L_1Cr=!1,this.is50L_60L=!1,this.is70L_80L=!this.is70L_80L,this.is80L_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"80L-Above"==s?(this.is80L_1Cr=!1,this.is50L_60L=!1,this.is70L_80L=!1,this.is80L_Above=!this.is80L_Above,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"80L-90L"==s?(this.is80L_1Cr=!1,this.is80L_90L=!this.is80L_90L,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"90L-1.2Cr"==s?(this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!this.is90L_1_2Cr,this.is1_2Cr_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"1.2Cr - Above"==s?(this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!this.is1_2Cr_Above,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"80L-1Cr"==s?(this.is80L_1Cr=!this.is80L_1Cr,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.is2_5CrBudget=!1,this.islessthan2_5CrBudget=!1):"2.5Cr - 3Cr"==s?(this.is2_5CrBudget=!this.is2_5CrBudget,this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is3_5To4CrBudget=!1,this.is3CrBudget=!1,this.islessthan2_5CrBudget=!1):"3Cr - 3.5Cr"==s?(this.is3CrBudget=!this.is3CrBudget,this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is2_5CrBudget=!1,this.is3_5To4CrBudget=!1,this.islessthan2_5CrBudget=!1):"3.5Cr - 4Cr"==s?(this.is3_5To4CrBudget=!this.is3_5To4CrBudget,this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is2_5CrBudget=!1,this.is3CrBudget=!1,this.islessthan2_5CrBudget=!1):"BELOW - 2.5Cr"==s?(this.islessthan2_5CrBudget=!this.islessthan2_5CrBudget,this.is3_5To4CrBudget=!1,this.is80L_1Cr=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1,this.is2_5CrBudget=!1,this.is3CrBudget=!1):"4CR - Above"==s?this.is4Cr=!0:"75L_1Cr"==s&&(this.is75L_1Cr=!this.is75L_1Cr),this.mailsend.budget=this.is1CrBudget||this.isAbove1_2CrBudget||this.is80L_Above||this.is70L_80L||this.is50L_60L||this.is80L_90L||this.is90L_1_2Cr||this.is1_2Cr_Above||this.is80L_1Cr||this.is2_5CrBudget||this.is3CrBudget||this.is3_5To4CrBudget||this.islessthan2_5CrBudget||this.is4Cr||this.is75L_1Cr?s:""}selectsource(s){this.ischannelPatner=!1,this.ischannelPatnerName=!1,"Homes247-Walkin"==s?(this.isHomes247_Walkin=!this.isHomes247_Walkin,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=this.isHomes247_Walkin?s:""):"Magicbricks-Walkin"==s?(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!this.isMagicbricks_Walkin,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=this.isMagicbricks_Walkin?s:""):"Housing-Walkin"==s?(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!this.isHousing_Walkin,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=this.isHousing_Walkin?s:""):"99acres-Walkin"==s?(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!this.is99acres_Walkin,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=this.is99acres_Walkin?s:""):"Walkin"==s&&(this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!this.isWalkin,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.mailsend.sourceselectmodel=this.isWalkin?s:"")}adminsubmit(){this.showSpinner=!0;let s="";if(""===this.mailsend.clientname)s="Please Enter the Name.";else if(""==this.mailsend.contact)s="Please Enter Phone Number";else if(/^\d+$/.test(this.mailsend.contact)&&10===this.mailsend.contact.length)if(""==this.mailsend.bhksize)s="Please select the Size";else if(""==this.mailsend.budget)s="Please select the Budget";else if(""==this.mailsend.budget)s="Please select the Budget";else if(this.mailsend.execselectmodelid||"1"!=this.localStorage.getItem("Role")){if(""==this.mailsend.sourceselectmodel)s="Please Select the Source";else if(this.ischannelPatner||""==this.mailsend.sourceselectmodel||this.ischannelPatnerName)if(this.ischannelPatner){const d=Object.keys(this.mailsend.cpid),h=Object.values(this.mailsend.cpid);(0===d.length||h.some(_=>""===_))&&(s="Please select CP")}else this.ischannelPatnerName&&""==this.mailsend.cpname?s="Please Enter Name":""==this.mailsend.sourceselectmodel&&(s="Please select the Source")}else s="Please Select the Executive";else s="Please enter valid 10 digit contact number";if(""!==s)this.showSpinner=!1,r().fire({title:"Error",text:s,icon:"error",heightAuto:!1,confirmButtonText:"OK!"});else if(this.isNumberExist)this.verifyWithoutOTP();else{this.modal.present();var o={number:this.mailsend.contact};this.timer(30),this.sharedService.otpsend(o).subscribe(d=>{})}}verifyWithoutOTP(){this.showSpinner=!0,this.display="",this.count=0,this.mailsend.otpbased="2",clearInterval(this.timerInterval),this.modal.dismiss(),this.isRevisitvisiblesection?("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmitionrsv():this.isFreshvisitvisiblesection&&(("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmition())}adminsubmitrsv(){this.showSpinner=!0;let s="";""===this.mailsend.clientname?s="Please Enter the Name.":""==this.mailsend.contact?s="Please Enter Phone Number":/^\d+$/.test(this.mailsend.contact)&&10===this.mailsend.contact.length?""==this.mailsend.execselectmodelid&&"1"==this.localStorage.getItem("Role")&&(s="Please Select the Executive"):s="Please enter valid 10 digit contact number",""!==s?(this.showSpinner=!1,r().fire({title:"Error",text:s,icon:"error",heightAuto:!1,confirmButtonText:"OK!"})):this.verifyWithoutOTP()}timer(s){this.count++;let t=s,o="0",l=s;const d=s<10?"0":"";this.timerInterval=setInterval(()=>{t--,0!=l?l--:l=59,o=l<10?"0"+l:l,this.display=`${d}${Math.floor(t/60)}:${o}`,0==t&&(this.display="",clearInterval(this.timerInterval),this.count<2?(this.otpResend=!0,this.isEditNumber=!1,this.otpresendrsv()):(this.showSpinner=!0,this.modal.dismiss(),this.isFreshvisitvisiblesection?("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmition():this.isRevisitvisiblesection&&(("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmitionrsv())))},1e3)}otpresendrsv(){this.timer(15),this.otpResend=!0,this.sharedService.otpsend({number:this.mailsend.contact}).subscribe(o=>{})}formsubmition(){let s,t;var o,l;this.showSpinner=!0,this.mandateService.setHoverState("28773"==this.propertyId?"ranav_group":""),"1"!==this.localStorage.getItem("Role")?(this.mailsend.execselectmodel=localStorage.getItem("Name")||"",s=this.mailsend.execselectmodel,this.mailsend.execselectmodelid=localStorage.getItem("UserId")||"",t=this.mailsend.execselectmodelid):(t=[null===(o=this.selectedExec)||void 0===o?void 0:o.Exec_IDFK,this.mailsend.execselectmodelid].filter(Boolean).join(","),s=[null===(l=this.selectedExec)||void 0===l?void 0:l.execname,this.mailsend.execselectmodel].filter(Boolean).join(",")),!this.mailsend.cpidpk&&!this.mailsend.cpmail&&(this.mailsend.cpidpk="XXXXX",this.mailsend.cpmail="XXXXX");var d={client:this.mailsend.clientname,clientnum:this.mailsend.contact,clientmail:this.mailsend.clientmail,leadid:"",bhksize:this.mailsend.bhksize,budgetrange:this.mailsend.budget,execname:s,execid:t,priority:this.mailsend.priority,source:this.mailsend.sourceselectmodel,cpname:this.mailsend.cpname,cpid:this.mailsend.cpidpk,cpmail:this.mailsend.cpmail,propertyId:this.propertyId,remarks:this.mailsend.visitremarks,otpbased:this.mailsend.otpbased};"demo"==localStorage.getItem("Name")?r().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this.mandateService.adminmailsend(d,"/mailsendbuilderbased").subscribe({next:h=>{var _=h.status;"0"==_?(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Form Submitted Successfully!",text:"Congratulations!! Its a Non Existing Client. Thank You for Visit",icon:"success",showConfirmButton:!1,heightAuto:!1,timer:3e3}).then(()=>{this.showSpinner=!0,location.reload()})):"1"==_?(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Form Submitted Successfully!",text:"Oh Oh!! Its an Existing Client with Us. Thank You for Visit",icon:"warning",showConfirmButton:!1,heightAuto:!1,timer:3e3}).then(()=>{this.showSpinner=!0,location.reload()})):"2"==_?(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Already visit Updated for the Day",icon:"info",showConfirmButton:!1,heightAuto:!1,timer:3e3}).then(()=>{this.showSpinner=!0,location.reload()})):(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Oops Something Error!",icon:"error",heightAuto:!1}).then(()=>{this.showSpinner=!0,location.reload()})),this.dismissLoading()},error:h=>{r().fire({title:"Oops Something Error!",icon:"error",heightAuto:!1,confirmButtonText:"OK"}).then(_=>{this.showSpinner=!0,location.reload()})}})}formsubmitionrsv(){let s,t;var o,l;let d;this.mandateService.setHoverState("28773"==this.propertyId?"ranav_group":""),this.showSpinner=!0,"1"!==this.localStorage.getItem("Role")?(this.mailsend.execselectmodelrsv=localStorage.getItem("Name"),this.mailsend.execselectmodelidrsv=localStorage.getItem("UserId"),s=this.mailsend.execselectmodelrsv,t=this.mailsend.execselectmodelidrsv):(t=[null===(o=this.selectedExec)||void 0===o?void 0:o.Exec_IDFK,this.mailsend.execselectmodelid].filter(Boolean).join(","),s=[null===(l=this.selectedExec)||void 0===l?void 0:l.execname,this.mailsend.execselectmodel].filter(Boolean).join(",")),d=1==this.leadResponse[0].leadmerged&&this.leadResponse[0].mergedlead?{client:this.mailsend.clientname,clientnum:this.mailsend.contact,leadid:this.mailsend.leadid,clientmail:this.mailsend.clientmail,bhksize:this.mailsend.bhksize,budgetrange:this.mailsend.budget,execname:s,execid:t,priority:this.mailsend.priority,source:this.mailsend.sourceselectmodel,cpname:this.mailsend.cpname,cpid:this.mailsend.cpidpk,cpmail:this.mailsend.cpmail,propertyId:this.propertyId,remarks:this.mailsend.visitremarksrsv,otpbased:this.mailsend.otpbased,mergedMail:this.leadResponse[0].mergedlead[0].mergedMail,mergedName:this.leadResponse[0].mergedlead[0].mergedName,mergedNumber:this.leadResponse[0].mergedlead[0].mergedNumber}:{client:this.mailsend.clientname,clientnum:this.mailsend.contact,leadid:this.mailsend.leadid,clientmail:this.mailsend.clientmail,bhksize:this.mailsend.bhksize,budgetrange:this.mailsend.budget,execname:s,priority:this.mailsend.priority,execid:t,source:this.mailsend.sourceselectmodel,cpname:this.mailsend.cpname,cpid:this.mailsend.cpidpk,cpmail:this.mailsend.cpmail,propertyId:this.propertyId,remarks:this.mailsend.visitremarksrsv,otpbased:this.mailsend.otpbased},"demo"==localStorage.getItem("Name")?r().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this.mandateService.adminmailsend(d,"/rsvvisittrigger").subscribe({next:h=>{var _=h.status;"0"==_?(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Form Not Submitted!",text:"No Data Found to Update",icon:"error",heightAuto:!1,showConfirmButton:!1,timer:3e3}).then(()=>{this.showSpinner=!0,location.reload()})):"1"==_?(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Form Submitted Successfully!",text:"RSV Updated Successfully",icon:"success",heightAuto:!1,showConfirmButton:!1,timer:3e3}).then(()=>{this.showSpinner=!0,location.reload()})):"2"==_?r().fire({title:"Already visit Updated for the Day",icon:"info",heightAuto:!1}).then(m=>{location.reload()}):(this.showSpinner=!1,this.dismissLoading(),r().fire({title:"Please Reconfirm the Final Submission",icon:"info",heightAuto:!1,confirmButtonText:"Submit Now"}).then(()=>{this.showSpinner=!0,("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmitionrsv()}))},error:()=>{r().fire({title:"Please Reconfirm the Final Submission",icon:"info",heightAuto:!1,confirmButtonText:"Submit Now"}).then(h=>{this.showSpinner=!0,("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmitionrsv()})}})}otpValidation(s){4==s.length&&(this.mailsend.otpmodel=s,this.sharedService.otpvalidate(this.mailsend.otpmodel,this.mailsend.contact).subscribe(o=>{"True"==o.status?(this.display="",this.count=0,clearInterval(this.timerInterval),this.modal.dismiss(),this.mailsend.otpbased="1",this.isFreshvisitvisiblesection?("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmition():this.isRevisitvisiblesection&&(("1"==this.roleType||"1"==this.roleid)&&this.existingExecutivesList.length>=1?this.existingExecutive.present():this.formsubmitionrsv())):(this.showSpinner=!1,r().fire({title:"Oops Something Error!",text:"Its Not a valid OTP / OTP Expired!",icon:"error",heightAuto:!1,showConfirmButton:!1}),this.dismissLoading(),this.modal.dismiss())}))}onPropertylist(s){this.isFeatchData=!0,this.isPropertyList=!1,"sitara"==s?(this.propertyId=16793,this.isSitaraLogo=!0,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isMSRlogo=!1,this.isRanavGrouplogo=!1,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1,this.mandateService.setHoverState("")):"samskruthi"==s?(this.propertyId=1830,this.isSitaraLogo=!1,this.isSamskruthiLogo=!0,this.isEnchantingLogo=!1,this.isMSRlogo=!1,this.isRanavGrouplogo=!1,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1,this.mandateService.setHoverState("")):"enchanting"==s?(this.propertyId=34779,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!0,this.isMSRlogo=!1,this.isRanavGrouplogo=!1,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1,this.mandateService.setHoverState("")):"msr"==s?(this.propertyId=58878,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isMSRlogo=!0,this.isRanavGrouplogo=!1,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1,this.mandateService.setHoverState("")):"ranav"==s?(this.propertyId=28773,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isMSRlogo=!1,this.isRanavGrouplogo=!0,this.isSwaraGroupLogo=!1,this.isRevivaLogo=!1,this.mandateService.setHoverState("ranav_group")):"swara"==s?(this.propertyId=82668,this.isSwaraGroupLogo=!0,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isMSRlogo=!1,this.isRanavGrouplogo=!1,this.isRevivaLogo=!1):"reviva"==s&&(this.propertyId=80459,this.isSwaraGroupLogo=!1,this.isSitaraLogo=!1,this.isSamskruthiLogo=!1,this.isEnchantingLogo=!1,this.isMSRlogo=!1,this.isRanavGrouplogo=!1,this.isRevivaLogo=!0),this.localStorage.getItem("RoleType"),this.mandateService.fetchmandateexecutives(this.propertyId,"","","").subscribe(o=>{this.mandateexecutives=o.mandateexecutives}),this.mailsend.contact="",this.mailsend.clientname="",this.isSelect2BHK=!1,this.isSelect3BHK=!1,this.is1CrBudget=!1,this.isAbove1_2CrBudget=!1,this.isHomes247_Walkin=!1,this.isMagicbricks_Walkin=!1,this.isHousing_Walkin=!1,this.is99acres_Walkin=!1,this.isWalkin=!1,this.isChannelPartner=!1,this.isReference=!1,this.isHoardings=!1,this.is50L_60L=!1,this.is70L_80L=!1,this.is80L_Above=!1,this.is80L_90L=!1,this.is90L_1_2Cr=!1,this.is1_2Cr_Above=!1}backNavigation(){!this.isPropertyList&&this.isFreshvisitvisiblesection||this.isRevisitvisiblesection?(this.isPropertyList=!1,this.isFeatchData=!0,this.isFreshvisitvisiblesection=!1,this.isRevisitvisiblesection=!1,this.router.navigate(["/visit-updates"],{queryParams:{},queryParamsHandling:"merge"})):this.isFeatchData?(this.isPropertyList=!0,this.isFeatchData=!1,this.isFreshvisitvisiblesection=!1,this.isRevisitvisiblesection=!1,this.router.navigate(["/visit-updates"],{queryParams:{},queryParamsHandling:"merge"})):this._location.back()}ngOnDestroy(){r().close()}onEditNumber(){this.showSpinner=!1,this.display="",this.count=0,clearInterval(this.timerInterval),this.modal.dismiss()}presentLoading(){var s=this;return(0,x.A)(function*(){s.loading=yield s.loadingController.create({message:""}),yield s.loading.present()})()}dismissLoading(){var s=this;return(0,x.A)(function*(){s.loading&&(yield s.loading.dismiss())})()}handleInput(s){const t=s.target.value.toLowerCase();this.cplists1=this.cplists.filter(o=>o.CP_NAME.toLowerCase().indexOf(t.toLowerCase())>-1)}validateContact(s){let t=s.target.value;t=t.replace(/[^0-9]/g,""),t.startsWith("91")&&t.length>10&&(t=t.slice(2)),t.length>10&&(t=t.slice(0,10)),this.mailsend.contact=t,""!=this.mailsend.contact&&10==t.length&&this.numbercheck()}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}onScroll(s){this.content.getScrollElement().then(o=>{const l=o.scrollTop,d=o.scrollHeight,h=o.offsetHeight;this.canScroll=d>h+10,this.sharedService.isBottom=!!this.canScroll&&l+h>=d-100})}existingExecutiveSelect(s){const t=s.detail.value;this.selectedExec=this.selectedExec===t?null:t}onPriority(s){this.mailsend.priority=s}}return(n=a).\u0275fac=function(s){return new(s||n)(i.rXU(u.aZ),i.rXU(c._t),i.rXU(L.d),i.rXU(v.Ix),i.rXU(V.a),i.rXU(c.Xi),i.rXU(v.nX),i.rXU(v.nX))},n.\u0275cmp=i.VBU({type:n,selectors:[["app-visit-updates"]],viewQuery:function(s,t){if(1&s&&(i.GBs(B,5),i.GBs(M,5),i.GBs(F,5)),2&s){let o;i.mGM(o=i.lsd())&&(t.modal=o.first),i.mGM(o=i.lsd())&&(t.existingExecutive=o.first),i.mGM(o=i.lsd())&&(t.content=o.first)}},decls:9,vars:5,consts:[["existingExecutive",""],["mainscrollContainer",""],["modal",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["style","height: 100%;\n   background-repeat: no-repeat;background-size: contain;background-position-x: center;position: relative;bottom: 75px;z-index: -1;",3,"ngStyle",4,"ngIf"],["scrollEvents","true",3,"ionScroll",4,"ngIf"],[1,"existingExecutive"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],["size","6","class","ion-text-center",4,"ngIf"],["size","6",4,"ngIf"],["size","6",1,"ion-text-center"],["src","../../assets/CRMimages/gr-sithara-img.png",3,"click"],["src","../../assets/CRMimages/grswara.visit.png",2,"padding","5px",3,"click"],["size","6"],["src","../../assets/CRMimages/ranavGroup.svg",3,"click"],["src","../../assets/CRMimages/gr-samskruthi-img.png",3,"click"],["src","../../assets/CRMimages/reviva-img.png",3,"click"],[2,"height","100%","background-repeat","no-repeat","background-size","contain","background-position-x","center","position","relative","bottom","75px","z-index","-1",3,"ngStyle"],["class","content_center",4,"ngIf"],[1,"reg-main"],["placeholder","Enter the Client Name",3,"ngModelChange","ngModel"],[2,"margin-top","30px"],["placeholder","Enter the Contact Number","inputmode","numeric","pattern","[0-9]*",3,"ngModelChange","input","ngModel"],[2,"position","absolute","bottom","0","bottom","-20px","left","35%","right","35%"],["src","../../assets/CRMimages/powered by vsnap technology_final.jpg"],[1,"content_center"],["src","../../assets/CRMimages/Asset 3.png",2,"width","280px","position","relative","top","137px"],["src","../../assets/CRMimages/Asset 2.png",2,"width","264px","top","100px","position","absolute"],["src","../../assets/CRMimages/swaralogo.svg",2,"width","264px","top","100px","position","absolute"],["src","../../assets/CRMimages/Asset 1.png",1,"propertyLogo",2,"position","relative","right","20px"],["src","../../assets/CRMimages/Assets-4.png",1,"propertyLogo",2,"position","relative","top","100px"],["src","../../assets/CRMimages/ranavgrouplogo.svg",1,"propertyLogo",2,"position","relative","top","100px","width","172px"],["src","../../assets/CRMimages/revivaLogo.png",1,"propertyLogo",2,"position","relative","top","100px","width","172px"],["scrollEvents","true",3,"ionScroll"],["style","margin: 20px;padding: 10px;",4,"ngIf"],["trigger","open-modal",2,"z-index","999",3,"backdropDismiss"],[2,"margin","20px","padding","10px"],["name","clientname",3,"ngModelChange","ngModel"],[1,"paddingLeft5px"],["placeholder","Enter the Contact Number","inputmode","numeric","pattern","[0-9]*","name","contact",3,"ngModelChange","input","ngModel"],["src","../../assets/CRMimages/gr-homes247-1.jpg",1,"propertyLogo"],["src","../../assets/CRMimages/samskruthi.jpg",1,"propertyLogo"],["src","../../assets/CRMimages/Grswara.png",1,"propertyLogo"],["src","../../assets/CRMimages/poorvi-homes247-5.jpg",1,"propertyLogo"],["src","../../assets/CRMimages/MSRLogo.jpg",1,"propertyLogo"],["src","../../assets/CRMimages/ranavgrouplogo.svg",1,"ranavpropertyLogo"],["src","../../assets/CRMimages/ranavtranquil-logo.png",1,"ranavpropertyLogo1"],["src","../../assets/CRMimages/reviva-vsnap-logo.png",1,"propertyLogo"],[3,"ngSubmit"],["name","clientmail",3,"ngModelChange","ngModel"],[1,"paddingZero"],["fill","clear",3,"click","ngClass"],["style","margin: 0 5px 15px 5px;",4,"ngIf"],[1,"pb-0"],[1,"priorityOption"],[3,"click","ngClass"],["name","visitremarks",3,"ngModelChange","ngModel"],["fill","clear","type","Submit",1,"height_Width_100",3,"disabled"],["style","width:100px; float:right","src","../../assets/CRMimages/powered by vsnap technology_final.jpg",4,"ngIf"],["fill","clear",1,"height_Width_100","paddingZero","marginZero",3,"click","ngClass"],["fill","clear",1,"height_Width_100",3,"click","ngClass"],["interface","popover","placeholder","Select RM","name","propertymodel",1,"marginZero",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin","0 5px 15px 5px"],["placeholder","Select CP","name","mailsend",1,"font-size12-familyPoppins","custom-searchbar","font-weight400",2,"padding","0",3,"ionInput","ngModelChange","ngModel"],["style","box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 27px 0 rgba(0, 0, 0, 0.12);  margin-top:3px; overflow: scroll;width:100%; max-height:200px;height: auto;",4,"ngIf"],[2,"box-shadow","0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 27px 0 rgba(0, 0, 0, 0.12)","margin-top","3px","overflow","scroll","width","100%","max-height","200px","height","auto"],["class","ion-border","style","box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);",3,"click",4,"ngFor","ngForOf"],[1,"ion-border",2,"box-shadow","0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",3,"click"],[1,"font-size12-familyPoppins","font-weight400"],["name","cpname",3,"ngModelChange","placeholder","ngModel"],["src","../../assets/CRMimages/powered by vsnap technology_final.jpg",2,"width","100px","float","right"],["name","visiteddate","disabled","",1,"custom-disabled-input",3,"ngModelChange","ngModel"],["name","lastvisiteddate","disabled","",1,"custom-disabled-input",3,"ngModelChange","ngModel"],["name","execselectmodel","disabled","",1,"custom-disabled-input",3,"ngModelChange","ngModel"],["name","sourceselectmodel","disabled","",1,"custom-disabled-input",3,"ngModelChange","ngModel"],["name","lastremark","disabled","",1,"custom-disabled-input",3,"ngModelChange","ngModel"],[2,"margin","0"],[3,"click"],["src","../../assets/CRMimages/OTP.png",2,"width","100%"],[1,"ion-text-center",2,"font-size","20px","font-weight","500px","font-family","'Poppins'","color","#0B7AB2"],[1,"ion-text-center",2,"padding","0","font-size","14px","font-weight","400px","font-family","'Poppins'"],[1,"ion-text-center","font-size12-familyPoppins","font-weight400"],[1,"font-size12-familyPoppins","font-weight400",2,"color","#2196F3",3,"click"],[2,"width","100%","display","flex","align-items","center","justify-content","center",3,"onInputChange","config"],[2,"font-size","10px","font-family","'Poppins'","font-weight","400"],[1,"ion-text-center","font-size12-familyPoppins","font_color_orange"],[1,"font_color_red",2,"color","red"],[2,"color","red"],[1,"main_header"],["size","10",1,"d-flex","fs-5","align-items-center","justify-content-center"],["size","2",1,"d-flex","fs-5","align-items-center","justify-content-center",3,"click"],["name","close"],[1,"existingExecutive-header"],["size","3.5",1,"d-flex","align-items-center","justify-content-center"],["size","1.5",1,"d-flex","align-items-center","justify-content-center"],["size","4",1,"d-flex","align-items-center","justify-content-center"],["size","3",1,"d-flex","align-items-center","justify-content-center"],[3,"ionChange","value"],[4,"ngFor","ngForOf"],[1,"d-flex","fs-5","align-items-center","justify-content-center"],["fill","clear",3,"click"]],template:function(s,t){1&s&&(i.DNE(0,U,2,0,"div",3)(1,H,1,0,"app-header",4)(2,A,2,1,"div",4)(3,ei,22,17,"div",5)(4,Ni,6,2,"ion-content",6),i.j41(5,"ion-modal",7,0),i.DNE(7,Ui,21,2,"ng-template"),i.k0s(),i.nrm(8,"app-common-footer")),2&s&&(i.Y8G("ngIf",t.showSpinner),i.R7$(),i.Y8G("ngIf",!t.isOnCallDetailsPage),i.R7$(),i.Y8G("ngIf",t.isPropertyList&&!t.isOnCallDetailsPage),i.R7$(),i.Y8G("ngIf",t.isFeatchData&&!t.isOnCallDetailsPage),i.R7$(),i.Y8G("ngIf",!t.isOnCallDetailsPage))},dependencies:[u.YU,u.Sq,u.bT,u.B3,R.gj,c.Jm,c.hU,c.W9,c.lO,c.iq,c.KW,c.$w,c.he,c.nf,c.KO,c.f0,c.ln,c.S1,c.Nm,c.Ip,c.nc,c.Sb,c.uR,c.Je,c.Gw,G.a,w.l,g.qT,g.BC,g.cb,g.R_,g.vS,g.cV],styles:["ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--placeholder-color: #black;color:#727272;font-size:12px;font-family:Poppins;font-weight:500;word-wrap:break-word;--padding-start: 10px;border:1px solid #727272;border-radius:5px}.invalid[_ngcontent-%COMP%]{border:1px solid red}ion-input.ion-invalid[_ngcontent-%COMP%]{border-color:red}.sc-ion-input-md-h[_ngcontent-%COMP%]:not(.legacy-input){min-height:46px}.propertyLogo[_ngcontent-%COMP%]{width:420px}.ranavpropertyLogo[_ngcontent-%COMP%]{width:72px;height:55px}.ranavpropertyLogo1[_ngcontent-%COMP%]{padding-left:31px;width:91px;height:71px}.backgroundColor[_ngcontent-%COMP%]{background-color:#0b7ab2;color:#fff}.backgroundColorNone[_ngcontent-%COMP%]{background-color:none}.reg-main[_ngcontent-%COMP%]{position:absolute;top:65%;left:50%;margin-left:auto;margin-right:auto;transform:translate(-50%,-50%);width:80%;box-shadow:0 10px 37px 5px #0000001a,0 4px 6px -4px #0000001a;padding:30px;background:#fff;border-radius:6px}ion-modal[_ngcontent-%COMP%]{--height: auto;--width: 95%;--border-radius: 10px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db;opacity:1}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: rgb(14 116 144);--color: white}  ng-otp-input .ng-otp-input-wrapper .otp-input{width:50px;font-size:18px;height:50px}.custom-disabled-input[_ngcontent-%COMP%]{opacity:1!important;background-color:#eee}.font_color_orange[_ngcontent-%COMP%]{color:#e84c0a}.font_color_red[_ngcontent-%COMP%]{color:red}.paddingLeft5px[_ngcontent-%COMP%]{padding:0 0 0 5px}.ion-filter-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:980}.ion-filter-icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{background:#fff;box-shadow:0 -8px 10px #0003;border-radius:50px}ion-footer[_ngcontent-%COMP%]{height:55px}.footer-toolbar[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;--min-height: 0;height:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 -8px 10px #0003}.footer-icons[_ngcontent-%COMP%]{position:relative;background-color:#fff}.backButton[_ngcontent-%COMP%]{width:20px;height:20px;color:#08080866}.loader[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100%;width:100%;z-index:1000;background:#ffffffc9;background-position:center center;background-repeat:no-repeat}ion-select[_ngcontent-%COMP%]::part(icon){position:absolute!important;right:10px!important}.margin-top-5px[_ngcontent-%COMP%]{margin-top:5px}  .otp-input{border-bottom:solid 1px #000000!important;border-top:none!important;border-left:none!important;border-right:none!important;border-radius:0!important}  .sc-ion-loading-md-h{--backdrop-opacity: .5 !important;--background: none;--spinner-color: black}  .loading-wrapper.sc-ion-loading-md{box-shadow:none}.ion-border[_ngcontent-%COMP%]{border-bottom:1px solid #727272;padding:5px!important}  .searchbar-input.sc-ion-searchbar-md{padding:10px 35px 10px 10px!important;color:#727272;font-size:12px;font-family:Poppins;font-weight:500;border:1px solid #727272;border-radius:5px}  .searchbar-search-icon.sc-ion-searchbar-md, .searchbar-cancel-button.sc-ion-searchbar-md[_ngcontent-%COMP%]{display:none;width:0;height:0}  h2#swal2-title{font-size:20px;font-family:Poppins}.menu_icon[_ngcontent-%COMP%]{font-size:30px;color:#0b7ab2}.existingExecutive[_ngcontent-%COMP%]   .existingExecutive-header[_ngcontent-%COMP%]{border-bottom:1px solid #0b7ab2;color:#0b7ab2}.existingExecutive[_ngcontent-%COMP%]   .existingExecutive-header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:3vw!important}.existingExecutive[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:2.5vw!important}.existingExecutive[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]{border-bottom:1px solid #bfbfbf;background:#e9edf3}.existingExecutive[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{border-radius:4px;font-size:6vw;border:1px solid #bfbfbf;color:#bfbfbf}.existingExecutive[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:4vw!important}.existingExecutive[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{background-color:#0b7ab2;color:#fff;text-transform:none}.priorityOption[_ngcontent-%COMP%]{gap:2px}.priorityOption[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border:1px solid #727272;border-radius:5px;font-family:Poppins;font-size:.8rem;display:flex;color:#727272;align-items:center;justify-content:center}"]}),a})();var Xi=p(4127);let Oi=(()=>{var n;class a{}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275mod=i.$C({type:n}),n.\u0275inj=i.G2t({imports:[u.MD,R.Ph,v.iI.forChild([{path:"",component:Hi}]),c.bv,Xi.G,g.YN]}),a})()}}]);