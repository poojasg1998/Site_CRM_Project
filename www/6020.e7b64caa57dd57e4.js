"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6020],{6020:(Ce,y,m)=>{m.r(y),m.d(y,{MandatePricingListModule:()=>ke});var b=m(177),x=m(3477),h=m(5933),k=m(9417),K=m(4127),R=m(8032),u=m.n(R),e=m(4438),G=m(9451),E=m(3317),D=m(8833),N=m(2408);const L=["addPropModal"],V=["filePreviewModal"],v=l=>({blurred:l}),H=()=>["Common","1BHK","2BHK","3BHK","4BHK"],O=(l,p)=>({"first-row":l,"second-row":p}),T=l=>({backgroundLightColor:l}),S=l=>({textBgColor:l});function X(l,p){1&l&&(e.j41(0,"ion-row")(1,"ion-col",14),e.EFF(2," Activities "),e.k0s()())}function Y(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-row",15)(1,"ion-col",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return i.filteredParams.htype="retail",i.reset_filter(),e.Njj(i.onHtype("retail"))}),e.j41(2,"div")(3,"span",14),e.EFF(4,"Retail"),e.k0s()()(),e.j41(5,"ion-col",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return i.filteredParams.htype="mandate",i.reset_filter(),e.Njj(i.onHtype("mandate"))}),e.j41(6,"div")(7,"span",14),e.EFF(8,"Mandate"),e.k0s()()()()}if(2&l){const n=e.XpG();e.R7$(),e.Y8G("ngClass","retail"==n.filteredParams.htype?"activeHtype":""),e.R7$(4),e.Y8G("ngClass","mandate"==n.filteredParams.htype?"activeHtype":"")}}function q(l,p){if(1&l){const n=e.RV6();e.j41(0,"div",17)(1,"ion-img",18),e.bIt("click",function(){const i=e.eBV(n).$implicit,o=e.XpG();return e.Njj(o.onEditProperty(i))}),e.k0s(),e.nrm(2,"ion-img",19),e.j41(3,"div",20)(4,"ion-row")(5,"ion-col")(6,"span",21),e.EFF(7),e.k0s()()(),e.j41(8,"ion-row")(9,"ion-col",22),e.nrm(10,"ion-img",23),e.EFF(11," Property Info"),e.k0s(),e.j41(12,"ion-col",22),e.nrm(13,"ion-img",24),e.EFF(14," Floor Plan"),e.k0s(),e.j41(15,"ion-col",22),e.nrm(16,"ion-img",25),e.EFF(17," Video"),e.k0s()(),e.j41(18,"ion-row")(19,"ion-col",22),e.nrm(20,"ion-img",26),e.EFF(21," PriceSheet "),e.k0s(),e.j41(22,"ion-col",22),e.nrm(23,"ion-img",27),e.EFF(24," Brochure "),e.k0s(),e.nrm(25,"ion-col"),e.k0s()()()}if(2&l){const n=p.$implicit;e.R7$(2),e.Y8G("src","https://superadmin.homes247.in/images/uploadPropertyImgs/"+n.PropImageName),e.R7$(5),e.JRh(n.PropName),e.R7$(2),e.Y8G("ngClass",e.eq3(7,v,null==(null==n?null:n.PropInfo)||""==(null==n?null:n.PropInfo))),e.R7$(3),e.Y8G("ngClass",e.eq3(9,v,0==(null==n||null==n.Floorplans?null:n.Floorplans.length))),e.R7$(3),e.Y8G("ngClass",e.eq3(11,v,0==(null==n?null:n.videos.length)||""==(null==n?null:n.videos))),e.R7$(4),e.Y8G("ngClass",e.eq3(13,v,0==(null==n||null==n.Pricesheets?null:n.Pricesheets.length))),e.R7$(3),e.Y8G("ngClass",e.eq3(15,v,null==(null==n?null:n.Brochure)||""==(null==n?null:n.Brochure)))}}function A(l,p){1&l&&(e.j41(0,"span",14),e.EFF(1,"Add Property "),e.k0s())}function z(l,p){1&l&&(e.j41(0,"span",14),e.EFF(1,"Edit Property "),e.k0s())}function U(l,p){1&l&&(e.j41(0,"div",63),e.nrm(1,"ion-spinner",64),e.k0s())}function J(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-col",36)(1,"div"),e.EFF(2,"Builder"),e.k0s(),e.j41(3,"div",65)(4,"p-dropdown",66),e.mxI("ngModelChange",function(i){e.eBV(n);const o=e.XpG(2);return e.DH7(o.builderName,i)||(o.builderName=i),e.Njj(i)}),e.bIt("onChange",function(i){e.eBV(n);const o=e.XpG(2);return e.Njj(o.onBuilderSelected(i))}),e.k0s()()()}if(2&l){const n=e.XpG(2);e.R7$(4),e.Y8G("options",n.builderList),e.R50("ngModel",n.builderName),e.Y8G("virtualScroll",!0)("virtualScrollItemSize",38)}}function Z(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-col",36)(1,"div"),e.EFF(2,"Property"),e.k0s(),e.j41(3,"div",65)(4,"p-dropdown",67),e.mxI("ngModelChange",function(i){e.eBV(n);const o=e.XpG(2);return e.DH7(o.builderPropertyName,i)||(o.builderPropertyName=i),e.Njj(i)}),e.bIt("onChange",function(i){e.eBV(n);const o=e.XpG(2);return e.Njj(o.onBuilderPropertySelected(i))}),e.k0s()()()}if(2&l){const n=e.XpG(2);e.R7$(4),e.Y8G("options",n.builderPropertyList),e.R50("ngModel",n.builderPropertyName),e.Y8G("virtualScroll",!0)("virtualScrollItemSize",38)}}function Q(l,p){1&l&&(e.j41(0,"label",68)(1,"span",69),e.EFF(2,"Upload Files"),e.k0s(),e.nrm(3,"ion-img",70),e.k0s())}function W(l,p){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const n=e.XpG(3);e.R7$(),e.SpI(" ",null==n.brochureFileData[0]?null:n.brochureFileData[0].fileName," ")}}function $(l,p){if(1&l){const n=e.RV6();e.j41(0,"span",77),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.removeBrochureFile())}),e.nrm(1,"ion-img",78),e.k0s()}}function ee(l,p){if(1&l&&(e.j41(0,"ion-row",71)(1,"ion-col",72)(2,"label"),e.DNE(3,W,2,1,"span",5),e.k0s()(),e.j41(4,"ion-col",73)(5,"label",74),e.nrm(6,"ion-img",75),e.k0s(),e.DNE(7,$,2,0,"span",76),e.k0s()()),2&l){const n=e.XpG(2);e.Y8G("ngClass",null!=(null==n.brochureFileData[0]?null:n.brochureFileData[0].fileName)&&n.brochureFileData[0]?"backgroundLightColor":""),e.R7$(3),e.Y8G("ngIf",n.brochureFileData[0]),e.R7$(4),e.Y8G("ngIf",!n.isEditProp)}}function te(l,p){if(1&l&&(e.j41(0,"label",84)(1,"span",69),e.EFF(2),e.k0s(),e.nrm(3,"ion-img",70),e.k0s()),2&l){const n=e.XpG(),t=n.$implicit,i=n.index,o=e.XpG().index;e.Y8G("for","customFile"+o+"-"+i),e.R7$(2),e.SpI(" ",t," Upload Files ")}}function ie(l,p){if(1&l){const n=e.RV6();e.j41(0,"span",77),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2).index,o=e.XpG().index,a=e.XpG(2);return e.Njj(a.removePriceSheet(o+"-"+i))}),e.nrm(1,"ion-img",78),e.k0s()}}function ne(l,p){if(1&l){const n=e.RV6();e.j41(0,"span",77),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2).index,o=e.XpG().index,a=e.XpG(2);return e.Njj(a.deletepriceSheet(o+"-"+i))}),e.nrm(1,"ion-img",90),e.k0s()}}function oe(l,p){if(1&l&&(e.j41(0,"div",85)(1,"ion-row")(2,"ion-col",86)(3,"label",87)(4,"span"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-col",88)(7,"label",89),e.nrm(8,"ion-img",75),e.k0s(),e.DNE(9,ie,2,0,"span",76)(10,ne,2,0,"span",76),e.k0s()()()),2&l){const n=e.XpG().index,t=e.XpG().index,i=e.XpG(2);e.Y8G("ngClass",e.eq3(6,T,i.priceSheetFileData[t+"-"+n])),e.R7$(3),e.Y8G("for","customFile"+t+"-"+n),e.R7$(2),e.SpI(" ",i.priceSheetFileData[t+"-"+n].fileName,""),e.R7$(2),e.Y8G("for","customFile"+t+"-"+n),e.R7$(2),e.Y8G("ngIf",!i.isEditProp),e.R7$(),e.Y8G("ngIf",i.isEditProp)}}function le(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-col",80)(1,"input",81),e.bIt("change",function(i){const o=e.eBV(n),a=o.$implicit,c=o.index,s=e.XpG().index,r=e.XpG(2);return e.Njj(r.onPriceSheetFileSelected(i,s+"-"+c,a))}),e.k0s(),e.DNE(2,te,4,2,"label",82)(3,oe,11,8,"div",83),e.k0s()}if(2&l){const n=p.index,t=e.XpG().index,i=e.XpG(2);e.R7$(),e.Y8G("id","customFile"+t+"-"+n),e.R7$(),e.Y8G("ngIf",!i.priceSheetFileData[t+"-"+n]),e.R7$(),e.Y8G("ngIf",i.priceSheetFileData[t+"-"+n])}}function ae(l,p){if(1&l&&(e.j41(0,"ion-row",50),e.DNE(1,le,4,3,"ion-col",79),e.k0s()),2&l){const n=p.$implicit,t=p.index;e.Y8G("ngClass",e.l_i(2,O,0===t,1===t||2===t)),e.R7$(),e.Y8G("ngForOf",n)}}function se(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-col",91),e.bIt("click",function(){const i=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.onVideoFileUploadedType(i))}),e.j41(1,"div",92),e.EFF(2),e.k0s()()}if(2&l){const n=p.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,S,t.selectedVideoBHK===n)),e.R7$(),e.JRh(n)}}function re(l,p){1&l&&e.nrm(0,"ion-img",70)}function ce(l,p){1&l&&e.nrm(0,"ion-img",93)}function pe(l,p){if(1&l){const n=e.RV6();e.j41(0,"span")(1,"ion-img",97),e.bIt("click",function(){e.eBV(n);const i=e.XpG().index,o=e.XpG(2);return e.Njj(o.removeVideoFile(i))}),e.k0s()()}}function de(l,p){if(1&l){const n=e.RV6();e.j41(0,"span",77),e.bIt("click",function(){e.eBV(n);const i=e.XpG().index,o=e.XpG(2);return e.Njj(o.deleteVideo(i))}),e.nrm(1,"ion-img",90),e.k0s()}}function fe(l,p){if(1&l){const n=e.RV6();e.j41(0,"div",94)(1,"div",95),e.EFF(2),e.k0s(),e.j41(3,"ion-img",96),e.bIt("click",function(){const i=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.viewVideo(i))}),e.k0s(),e.DNE(4,pe,2,0,"span",5)(5,de,2,0,"span",76),e.k0s()}if(2&l){const n=p.$implicit,t=e.XpG(2);e.R7$(2),e.JRh(n.fileName),e.R7$(2),e.Y8G("ngIf",!t.isEditProp),e.R7$(),e.Y8G("ngIf",t.isEditProp)}}function _e(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-col",91),e.bIt("click",function(){const i=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.onFloorPlanUploadedType(i))}),e.j41(1,"div",92),e.EFF(2),e.k0s()()}if(2&l){const n=p.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,S,t.selectedFloorPlanBHK===n)),e.R7$(),e.JRh(n)}}function he(l,p){1&l&&e.nrm(0,"ion-img",70)}function ge(l,p){1&l&&e.nrm(0,"ion-img",93)}function me(l,p){if(1&l){const n=e.RV6();e.j41(0,"span")(1,"ion-img",97),e.bIt("click",function(){e.eBV(n);const i=e.XpG().index,o=e.XpG(2);return e.Njj(o.removeFloorPlanFile(i))}),e.k0s()()}}function ue(l,p){if(1&l){const n=e.RV6();e.j41(0,"span",77),e.bIt("click",function(){e.eBV(n);const i=e.XpG().index,o=e.XpG(2);return e.Njj(o.deleteFloorPlan(i))}),e.nrm(1,"ion-img",90),e.k0s()}}function Pe(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-row",98)(1,"ion-col",99)(2,"ion-row",100)(3,"ion-col",101)(4,"div",95),e.EFF(5),e.k0s()(),e.j41(6,"ion-col",102)(7,"ion-img",96),e.bIt("click",function(){const i=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.onFloorePlanView(i))}),e.k0s(),e.DNE(8,me,2,0,"span",5)(9,ue,2,0,"span",76),e.k0s()()(),e.j41(10,"ion-col",103)(11,"ion-row")(12,"ion-col",104)(13,"ion-input",105),e.mxI("ngModelChange",function(i){const o=e.eBV(n).index,a=e.XpG(2);return e.DH7(a.floorPlanFileData[a.selectedFloorPlanBHK][o].sqft,i)||(a.floorPlanFileData[a.selectedFloorPlanBHK][o].sqft=i),e.Njj(i)}),e.k0s()(),e.j41(14,"ion-col",106)(15,"span",107),e.EFF(16,"SQFT"),e.k0s()()()()()}if(2&l){const n=p.$implicit,t=p.index,i=e.XpG(2);e.R7$(5),e.JRh(n.fileName),e.R7$(3),e.Y8G("ngIf",!i.isEditProp),e.R7$(),e.Y8G("ngIf",i.isEditProp),e.R7$(4),e.Y8G("ngClass",i.isEditProp?"pointer_eventsNone":""),e.R50("ngModel",i.floorPlanFileData[i.selectedFloorPlanBHK][t].sqft)}}function Fe(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-row")(2,"ion-col",7),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.closeAddPropModal())}),e.nrm(3,"ion-icon",28),e.k0s(),e.j41(4,"ion-col",29),e.DNE(5,A,2,0,"span",30)(6,z,2,0,"span",30),e.k0s(),e.nrm(7,"ion-col",31),e.k0s()(),e.DNE(8,U,2,0,"div",32),e.j41(9,"ion-content",33)(10,"ion-row",34),e.DNE(11,J,5,4,"ion-col",35)(12,Z,5,4,"ion-col",35),e.j41(13,"ion-col",36)(14,"div"),e.EFF(15,"Brochure "),e.j41(16,"span",37),e.EFF(17,"(Upto 100MB & PDF Only)"),e.k0s()(),e.j41(18,"div",38)(19,"input",39),e.bIt("change",function(i){e.eBV(n);const o=e.XpG();return e.Njj(o.onBrochureFileSelected(i))}),e.k0s(),e.DNE(20,Q,4,0,"label",40)(21,ee,8,3,"ion-row",41),e.k0s()(),e.j41(22,"ion-col",36)(23,"div"),e.EFF(24,"Price Sheet "),e.j41(25,"span",37),e.EFF(26,"(Upto 50MB & PDF/PNG/JPEG Only) "),e.k0s()(),e.j41(27,"div",42),e.DNE(28,ae,2,5,"ion-row",43),e.k0s()(),e.j41(29,"ion-col",36)(30,"div"),e.EFF(31,"Video "),e.j41(32,"span",37),e.EFF(33,"(Upto 100MB & Mp4 Only)"),e.k0s()(),e.j41(34,"div")(35,"ion-row",44),e.DNE(36,se,3,4,"ion-col",45),e.k0s(),e.j41(37,"ion-row",46)(38,"ion-col",47)(39,"input",48),e.bIt("click",function(i){e.eBV(n);const o=e.XpG();return e.Njj(o.checkBHKBeforeFileUpload(i,"video"))})("change",function(i){e.eBV(n);const o=e.XpG();return e.Njj(o.onVideoFileSelected(i))}),e.k0s(),e.j41(40,"label",49)(41,"span",50),e.EFF(42,"Common Upload Files"),e.k0s(),e.DNE(43,re,1,0,"ion-img",51)(44,ce,1,0,"ion-img",52),e.k0s()()()()(),e.j41(45,"ion-col",53)(46,"div",54),e.DNE(47,fe,6,3,"div",55),e.k0s()(),e.j41(48,"ion-col",36)(49,"div"),e.EFF(50,"Floor Plan "),e.j41(51,"span",37),e.EFF(52,"(Upto 10MB & PDF/PNG/JPEG Only)"),e.k0s()(),e.j41(53,"div")(54,"ion-row",44),e.DNE(55,_e,3,4,"ion-col",45),e.k0s(),e.j41(56,"ion-row",46)(57,"ion-col",47)(58,"input",56),e.bIt("click",function(i){e.eBV(n);const o=e.XpG();return e.Njj(o.checkBHKBeforeFileUpload(i,"floorPlan"))})("change",function(i){e.eBV(n);const o=e.XpG();return e.Njj(o.onFloorPlanFileSelected(i))}),e.k0s(),e.j41(59,"label",57)(60,"span",50),e.EFF(61,"Common Upload Files"),e.k0s(),e.DNE(62,he,1,0,"ion-img",51)(63,ge,1,0,"ion-img",52),e.k0s()()()()(),e.j41(64,"ion-col",53),e.DNE(65,Pe,17,5,"ion-row",58),e.k0s(),e.j41(66,"ion-col")(67,"div")(68,"span"),e.EFF(69,"Property Info"),e.k0s()(),e.j41(70,"div")(71,"textarea",59),e.mxI("ngModelChange",function(i){e.eBV(n);const o=e.XpG();return e.DH7(o.projectInfo,i)||(o.projectInfo=i),e.Njj(i)}),e.EFF(72,"            "),e.k0s()()()()(),e.j41(73,"ion-footer",60)(74,"ion-row",61)(75,"ion-col")(76,"div",62),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.isEditProp?i.updateFloorPlan_PropInfo():i.addProperty())}),e.EFF(77),e.k0s()()()()}if(2&l){const n=e.XpG();e.R7$(5),e.Y8G("ngIf",!n.isEditProp),e.R7$(),e.Y8G("ngIf",n.isEditProp),e.R7$(2),e.Y8G("ngIf",n.showSpinner),e.R7$(3),e.Y8G("ngIf",!n.isEditProp),e.R7$(),e.Y8G("ngIf",!n.isEditProp),e.R7$(8),e.Y8G("ngIf",!(null!=(null==n.brochureFileData[0]?null:n.brochureFileData[0].fileName)&&n.brochureFileData[0])),e.R7$(),e.Y8G("ngIf",null!=(null==n.brochureFileData[0]?null:n.brochureFileData[0].fileName)&&n.brochureFileData[0]),e.R7$(7),e.Y8G("ngForOf",n.fileTypes),e.R7$(8),e.Y8G("ngForOf",e.lJ4(22,H)),e.R7$(4),e.Y8G("ngClass",n.selectedVideoBHK?"textBorderColor":""),e.R7$(),e.Y8G("ngClass",n.selectedVideoBHK?"":"info-row-value"),e.R7$(2),e.Y8G("ngIf",!n.selectedVideoBHK),e.R7$(),e.Y8G("ngIf",n.selectedVideoBHK),e.R7$(3),e.Y8G("ngForOf",n.videoFileData[n.selectedVideoBHK]),e.R7$(8),e.Y8G("ngForOf",e.lJ4(23,H)),e.R7$(4),e.Y8G("ngClass",n.selectedFloorPlanBHK?"textBorderColor":""),e.R7$(),e.Y8G("ngClass",n.selectedFloorPlanBHK?"":"info-row-value"),e.R7$(2),e.Y8G("ngIf",!n.selectedFloorPlanBHK),e.R7$(),e.Y8G("ngIf",n.selectedFloorPlanBHK),e.R7$(2),e.Y8G("ngForOf",n.floorPlanFileData[n.selectedFloorPlanBHK]),e.R7$(6),e.R50("ngModel",n.projectInfo),e.R7$(6),e.SpI(" ",n.isEditProp?"Update Property":"Add Property","")}}function be(l,p){if(1&l){const n=e.RV6();e.j41(0,"ion-icon",108),e.bIt("click",function(){e.eBV(n);const i=e.XpG(),o=e.sdS(17);return i.closeAddPropModal(),e.Njj(o.present())}),e.k0s()}}let ve=(()=>{var l;class p{constructor(t,i,o,a,c,s,r){this.cdf=t,this.sharedService=i,this._location=o,this.menuCtrl=a,this.router=c,this.activeRoute=s,this._mandateService=r,this.filteredParams={status:"",team:"",executid:"1"===localStorage.getItem("Role")?"":localStorage.getItem("UserId"),loginid:localStorage.getItem("UserId"),source:"",counter:"",enquiredprop:"",visitedprop:"",suggestedprop:"",visitedPropertyName:"",suggetsedPropertyName:"",htype:"",active:"1",propid:"",limit:0,limitrows:30},this.localStorage=localStorage,this.isAdmin=!1,this.selectedOptions={all:!1,propInfo:!1,brochure:!1,priceSheet:!1,video:!1,floorPlan:!1},this.priceSheetFileData={},this.brochureFileData={},this.videoFileData={},this.floorPlanFileData={},this.projectInfo="",this.builderPropertyList=[],this.builderPropertyid="",this.fileTypes=[["Common"],["1 BHK","2 BHK"],["3 BHK","4 BHK"]],this.selectedFloorPlanBHKIds=[]}ngOnInit(){this.activeRoute.queryParams.subscribe(t=>{this.isAdmin="1"===this.localStorage.getItem("Role"),this.getQueryParams(),this.getBuilderList(),this.getAllProperties()})}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}reset_filter(){this.filteredParams={status:this.filteredParams.status,team:"",executid:"1"===localStorage.getItem("Role")?"":localStorage.getItem("UserId"),loginid:localStorage.getItem("UserId"),source:"",counter:this.filteredParams.counter,enquiredprop:"",visitedprop:"",suggestedprop:"",visitedPropertyName:"",suggetsedPropertyName:"",propid:"",htype:this.filteredParams.htype,active:"1",limit:0,limitrows:30}}onHtype(t){const i={};for(const o in this.filteredParams)i[o]=this.filteredParams.hasOwnProperty(o)&&""!==this.filteredParams[o]?this.filteredParams[o]:null;this.router.navigate("mandate"==t?["mandate-pricing-list"]:["retail-pricing-list"],{queryParams:i,queryParamsHandling:"merge"})}getQueryParams(){const t=window.location.search,i={};new URLSearchParams(t).forEach((o,a)=>{i[a]=o}),Object.keys(this.filteredParams).forEach(o=>{i.hasOwnProperty(o)?this.filteredParams[o]=i[o]:"loginid"!==o&&"limit"!==o&&"limitrows"!==o&&(this.filteredParams[o]="")})}onBackbutton(){this._location.back()}getAllProperties(){this._mandateService.getPriceList().subscribe(t=>{"True"==t.status?(this.propertyList=t.result,this.propertyList1=t.result):this.propertyList=[]})}closeAddPropModal(){this.selectedOptions={all:!1,propInfo:!1,brochure:!1,priceSheet:!1,video:!1,floorPlan:!1},this.isEditProp=!1,this.priceSheetFileData={},this.brochureFileData={},this.videoFileData={},this.floorPlanFileData={},this.projectInfo="",this.addPropModal.dismiss(),this.selectedVideoBHK="",this.selectedFloorPlanBHK=""}getBuilderList(){this.sharedService.builderlist1().subscribe(t=>{this.builderList=Array.isArray(t.Builders)?t.Builders:[]})}onBuilderSelected(t){this.getpropertiesbybuilder({cityid:"",builderid:t.value.id})}getpropertiesbybuilder(t){this.sharedService.getpropertiesbybuilder(t).subscribe(i=>{this.builderPropertyList=i.Properties})}onBuilderPropertySelected(t){this.builderPropertyid=t.value.id}onBrochureFileSelected(t){if(t.target.files[0]&&t.target.files[0].size>104857600)u().fire({title:"File Size Exceeded",text:"File Size limit is 100MB",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{setTimeout(()=>{t.target.value=""},100)});else{const a=t.target.files[0],c=a.name.replace(/[+]/g,""),s=new File([a],c,{type:a.type}),r=new FileReader;r.onload=d=>{this.brochureFileData[0]={file:s,fileName:a.name,result:r.result}},r.readAsDataURL(a),this.isEditProp&&(this.showSpinner=!0,setTimeout(()=>{this.updateBrochure()},1e3))}}updateBrochure(){var t;const i=new FormData;i.append("detailsId",this.editingProp.detailsId),i.append("projectid",this.editingProp.PropId),i.append("brochure",(null===(t=this.brochureFileData)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.file)||""),this._mandateService.updateBrochure(i).subscribe(o=>{this.showSpinner=!1,u().fire({text:"Brochure Updated Successfully",icon:"success",heightAuto:!1,timer:1e3,showConfirmButton:!1}),this.getAllProperties()})}removeBrochureFile(){this.brochureFileData={};const t=document.getElementById("brochureInput");t&&(t.value="")}onPriceSheetFileSelected(t,i,o){const a=t.target;if(t.target.files[0]&&t.target.files[0].size>52428800)u().fire({title:"File Size Exceeded",text:"File Size limit is 50MB",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{setTimeout(()=>{a.value=""},100)});else{const c=t.target,s=c.files;for(let r=0;r<s.length;r++){const d=s[r],g=d.name.replace(/[+]/g,""),P=new File([d],g,{type:d.type}),F=new FileReader;F.onload=C=>{this.priceSheetFileData[i]={file:P,fileType:o,fileName:d.name,result:F.result}},F.readAsDataURL(d),c.value=""}if(this.isEditProp){this.showSpinner=!0;const r={"1-0":"1","1-1":"2","2-0":"3","2-1":"4","0-0":"0"};setTimeout(()=>{this.updatePriceSheet(r[i])},1e3)}}}updatePriceSheet(t){var i,o,a,c,s;const r=new FormData;r.append("detailsId",this.editingProp.detailsId),r.append("projectid",this.editingProp.PropId),r.append("psbhkId",t),r.append("ps0bhk",(null===(i=this.priceSheetFileData["0-0"])||void 0===i?void 0:i.file)||""),r.append("ps1bhk",(null===(o=this.priceSheetFileData["1-0"])||void 0===o?void 0:o.file)||""),r.append("ps2bhk",(null===(a=this.priceSheetFileData["1-1"])||void 0===a?void 0:a.file)||""),r.append("ps3bhk",(null===(c=this.priceSheetFileData["2-0"])||void 0===c?void 0:c.file)||""),r.append("ps4bhk",(null===(s=this.priceSheetFileData["2-1"])||void 0===s?void 0:s.file)||""),this._mandateService.postPriceSheetOnUpdate(r).subscribe(d=>{this.showSpinner=!1,this.getAllProperties()})}removePriceSheet(t){this.priceSheetFileData[t]&&delete this.priceSheetFileData[t]}deletepriceSheet(t){this.showSpinner=!0;const i={"1-0":"1","1-1":"2","2-0":"3","2-1":"4","0-0":"0"};let o={};this.editingProp.Pricesheets.forEach(a=>{a.bhkId==i[t]&&(o={psid:a.PS_IDPK,pricesheetname:a.propdetails_pricesheet,detailid:this.editingProp.detailsId})}),this._mandateService.deletepriceSheet(o).subscribe(a=>{u().fire({text:"PriceSheet Deleted Successfully for "+i[t]+"BHK",icon:"success",heightAuto:!1,timer:1e3,showConfirmButton:!1}).then(c=>{1==c.isDismissed&&(this.getAllProperties(),this.cdf.detectChanges())})})}onVideoFileUploadedType(t){this.selectedVideoBHK=t}checkBHKBeforeFileUpload(t,i){("video"===i&&!this.selectedVideoBHK||"floorPlan"==i&&!this.selectedFloorPlanBHK)&&(t.preventDefault(),u().fire({text:"Please select BHK type before uploading",confirmButtonText:"OK",icon:"error",heightAuto:!1,allowOutsideClick:!1}))}onVideoFileSelected(t){const o=t.target.files;for(let a=0;a<o.length;a++)if(t.target.files[a]&&t.target.files[a].size>104857600)u().fire({title:"File Size Exceeded",text:"File Size limit is 100MB",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{setTimeout(()=>{t.target.value=""},100)});else{const s=t.target.files[a],r=s.name.replace(/[+]/g,""),d=new File([s],r,{type:s.type}),g=new FileReader;this.videoFileData[this.selectedVideoBHK]||(this.videoFileData[this.selectedVideoBHK]=[]),g.onload=P=>{this.videoFileData[this.selectedVideoBHK].push({file:d,fileName:s.name,result:P.target.result,bhkId:"",v_idpk:""})},g.readAsDataURL(s),this.isEditProp&&(this.showSpinner=!0,setTimeout(()=>{this.updateVideo()},1e3))}}updateVideo(){const t=new FormData;var i,o,a,c,s;t.append("detailsId",this.editingProp.detailsId),t.append("projectid",this.editingProp.PropId),this.videoFileData.Common&&this.videoFileData.Common.length>0?(t.append("pvbhkId","0"),null===(i=this.videoFileData.Common)||void 0===i||i.forEach(r=>{t.append("pv0bhk[]",r.file)})):t.append("pv0bhk[]",""),this.videoFileData["1BHK"]&&this.videoFileData["1BHK"].length>0?(t.append("pvbhkId","1"),null===(o=this.videoFileData["1BHK"])||void 0===o||o.forEach(r=>{t.append("pv1bhk[]",r.file)})):t.append("pv1bhk[]",""),this.videoFileData["2BHK"]&&this.videoFileData["2BHK"].length>0?(t.append("pvbhkId","2"),null===(a=this.videoFileData["2BHK"])||void 0===a||a.forEach(r=>{t.append("pv2bhk[]",r.file)})):t.append("pv2bhk[]",""),this.videoFileData["3BHK"]&&this.videoFileData["3BHK"].length>0?(t.append("pvbhkId","3"),null===(c=this.videoFileData["3BHK"])||void 0===c||c.forEach(r=>{t.append("pv3bhk[]",r.file)})):t.append("pv3bhk[]",""),this.videoFileData["4BHK"]&&this.videoFileData["4BHK"].length>0?(t.append("pvbhkId","4"),null===(s=this.videoFileData["4BHK"])||void 0===s||s.forEach(r=>{t.append("pv4bhk[]",r.file)})):t.append("pv4bhk[]",""),this._mandateService.updateVideo(t).subscribe(r=>{this.showSpinner=!1,u().fire({text:"Video Added Successfully",icon:"success",heightAuto:!1,timer:1e3,showConfirmButton:!1}),this.getAllProperties()})}viewVideo(t){this.isEditProp&&!t.result?window.PreviewAnyFile.preview("https://lead247.in/images/videos/"+t.fileName).then(i=>console.log("success",i)).catch(i=>console.log("error",i)):window.PreviewAnyFile.previewBase64(i=>console.log("success"),i=>console.log("error"),t.result)}removeVideoFile(t){this.videoFileData[this.selectedVideoBHK].splice(t,1),this.videoFileData={...this.videoFileData}}deleteVideo(t){this.showSpinner=!0;let i={};i={videoId:this.videoFileData[this.selectedVideoBHK][t].v_idpk,videofilename:this.videoFileData[this.selectedVideoBHK][t].fileName,detailid:this.editingProp.detailsId},this._mandateService.deleteVideo(i).subscribe(o=>{this.videoFileData={},u().fire({text:"Video Deleted Successfully",icon:"success",heightAuto:!1,timer:1e3,showConfirmButton:!1}).then(a=>{1==a.isDismissed&&(this.getAllProperties(),this.cdf.detectChanges())})})}onFloorPlanUploadedType(t){var i;this.selectedFloorPlanBHK=t;const a={Common:0,"1BHK":1,"2BHK":2,"3BHK":3,"4BHK":4}[t];var c;null!==(i=this.selectedFloorPlanBHKIds)&&void 0!==i&&i.includes(a)||null===(c=this.selectedFloorPlanBHKIds)||void 0===c||c.push(a)}onFloorPlanFileSelected(t){const o=t.target.files;for(let a=0;a<o.length;a++)if(t.target.files[a]&&t.target.files[a].size>10485760)u().fire({title:"File Size Exceeded",text:"File Size limit is 10MB",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{setTimeout(()=>{t.target.value=""},100)});else{const s=t.target.files[a],r=s.name.replace(/[+]/g,""),d=new File([s],r,{type:s.type}),g=new FileReader;this.floorPlanFileData[this.selectedFloorPlanBHK]||(this.floorPlanFileData[this.selectedFloorPlanBHK]=[]),g.onload=P=>{this.floorPlanFileData[this.selectedFloorPlanBHK].push({file:d,fileName:s.name,result:P.target.result,sqft:this.floorPlanFileData[this.selectedFloorPlanBHK].sqft,bhkId:"",fp_idpk:""})},g.readAsDataURL(s)}}onFloorePlanView(t){this.selectedFloorPlanFile=t,this.isEditProp?window.PreviewAnyFile.preview("https://lead247.in/images/floorplans/"+t.fileName).then(i=>console.log("success",i)).catch(i=>console.log("error",i)):this.selectedFloorPlanFile.fileName.endsWith(".pdf")?window.PreviewAnyFile.previewBase64(i=>console.log("success"),i=>console.log("error"),t.result):this.filePreviewModal.present()}removeFloorPlanFile(t){this.floorPlanFileData[this.selectedFloorPlanBHK].splice(t,1),this.floorPlanFileData={...this.floorPlanFileData}}deleteFloorPlan(t){this.showSpinner=!0;let i={};i={pfid:this.floorPlanFileData[this.selectedFloorPlanBHK][t].fp_idpk,floorplanName:this.floorPlanFileData[this.selectedFloorPlanBHK][t].fileName,detailid:this.editingProp.detailsId},this._mandateService.deletefloorplan(i).subscribe(o=>{u().fire({text:"PriceSheet Deleted Successfully for "+this.floorPlanFileData[this.selectedFloorPlanBHK][t].bhkId+"BHK",heightAuto:!1,icon:"success",timer:1e3,showConfirmButton:!1}).then(a=>{1==a.isDismissed&&(this.getAllProperties(),this.cdf.detectChanges())})})}updateFloorPlan_PropInfo(){if(""==this.builderPropertyid)u().fire({title:"Select the Property",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1});else{const s=new FormData;if(s.append("detailsId",this.editingProp.detailsId),s.append("projectid",this.builderPropertyid||""),s.append("projectinfo",this.projectInfo||""),s.append("fpbhkId",this.selectedFloorPlanBHKIds.join(",")),this.floorPlanFileData.Common&&this.floorPlanFileData.Common.length>0){var t;null===(t=this.floorPlanFileData.Common)||void 0===t||t.forEach(d=>{s.append("fp0bhk[]",d.file||"")});const r=this.floorPlanFileData.Common.map(d=>d.sqft).join(",");s.append("fp0bhksqft",r)}else s.append("fp0bhk[]",""),s.append("fp0bhksqft","");if(this.floorPlanFileData["1BHK"]&&this.floorPlanFileData["1BHK"].length>0){var i;null===(i=this.floorPlanFileData["1BHK"])||void 0===i||i.forEach(d=>{s.append("fp1bhk[]",d.file)});const r=this.floorPlanFileData["1BHK"].map(d=>d.sqft).join(",");s.append("fp1bhksqft",r)}else s.append("fp1bhk[]",""),s.append("fp1bhksqft","");if(this.floorPlanFileData["2BHK"]&&this.floorPlanFileData["2BHK"].length>0){var o;null===(o=this.floorPlanFileData["2BHK"])||void 0===o||o.forEach(d=>{s.append("fp2bhk[]",d.file)});const r=this.floorPlanFileData["2BHK"].map(d=>d.sqft).join(",");s.append("fp2bhksqft",r)}else s.append("fp2bhk[]",""),s.append("fp2bhksqft","");if(this.floorPlanFileData["3BHK"]&&this.floorPlanFileData["3BHK"].length>0){var a;null===(a=this.floorPlanFileData["3BHK"])||void 0===a||a.forEach(d=>{s.append("fp3bhk[]",d.file)});const r=this.floorPlanFileData["3BHK"].map(d=>d.sqft).join(",");s.append("fp3bhksqft",r)}else s.append("fp3bhk[]",""),s.append("fp1bhksqft","");if(this.floorPlanFileData["4BHK"]&&this.floorPlanFileData["4BHK"].length>0){var c;null===(c=this.floorPlanFileData["4BHK"])||void 0===c||c.forEach(d=>{s.append("fp4bhk[]",d.file)});const r=this.floorPlanFileData["4BHK"].map(d=>d.sqft).join(",");s.append("fp4bhksqft",r)}else s.append("fp4bhk[]",""),s.append("fp4bhksqft","");this._mandateService.updatePropertyInfo(s).subscribe(r=>{u().fire({text:"Project Details Updated Successfully",icon:"success",heightAuto:!1,timer:1e3,showConfirmButton:!1}).then(()=>{location.reload()})})}}addProperty(){const t=new FormData;if(""==this.builderPropertyid)u().fire({title:"Select the Property",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1});else{var i,o,a,c,s,r,d,g,P,F,C;if(this.showSpinner=!0,t.append("projectid",this.builderPropertyid||""),t.append("projectinfo",this.projectInfo||""),t.append("brochure",(null===(i=this.brochureFileData)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.file)||""),t.append("ps0bhk",(null===(o=this.priceSheetFileData["0-0"])||void 0===o?void 0:o.file)||""),t.append("ps1bhk",(null===(a=this.priceSheetFileData["1-0"])||void 0===a?void 0:a.file)||""),t.append("ps2bhk",(null===(c=this.priceSheetFileData["1-1"])||void 0===c?void 0:c.file)||""),t.append("ps3bhk",(null===(s=this.priceSheetFileData["2-0"])||void 0===s?void 0:s.file)||""),t.append("ps4bhk",(null===(r=this.priceSheetFileData["2-1"])||void 0===r?void 0:r.file)||""),this.videoFileData.Common&&this.videoFileData.Common.length>0?null===(d=this.videoFileData.Common)||void 0===d||d.forEach(f=>{t.append("pv0bhk[]",f.file)}):t.append("pv0bhk[]",""),this.videoFileData["1BHK"]&&this.videoFileData["1BHK"].length>0?null===(g=this.videoFileData["1BHK"])||void 0===g||g.forEach(f=>{t.append("pv1bhk[]",f.file)}):t.append("pv1bhk[]",""),this.videoFileData["2BHK"]&&this.videoFileData["2BHK"].length>0?null===(P=this.videoFileData["2BHK"])||void 0===P||P.forEach(f=>{t.append("pv2bhk[]",f.file)}):t.append("pv2bhk[]",""),this.videoFileData["3BHK"]&&this.videoFileData["3BHK"].length>0?null===(F=this.videoFileData["3BHK"])||void 0===F||F.forEach(f=>{t.append("pv3bhk[]",f.file)}):t.append("pv3bhk[]",""),this.videoFileData["4BHK"]&&this.videoFileData["4BHK"].length>0?null===(C=this.videoFileData["4BHK"])||void 0===C||C.forEach(f=>{t.append("pv4bhk[]",f.file)}):t.append("pv4bhk[]",""),this.floorPlanFileData.Common&&this.floorPlanFileData.Common.length>0){var w;null===(w=this.floorPlanFileData.Common)||void 0===w||w.forEach(_=>{t.append("fp0bhk[]",_.file)});const f=this.floorPlanFileData.Common.map(_=>_.sqft).join(",");t.append("fp0bhksqft",f)}else t.append("fp0bhk[]",""),t.append("fp0bhksqft","");if(this.floorPlanFileData["1BHK"]&&this.floorPlanFileData["1BHK"].length>0){var B;null===(B=this.floorPlanFileData["1BHK"])||void 0===B||B.forEach(_=>{t.append("fp1bhk[]",_.file)});const f=this.floorPlanFileData["1BHK"].map(_=>_.sqft).join(",");t.append("fp1bhksqft",f)}else t.append("fp1bhk[]",""),t.append("fp1bhksqft","");if(this.floorPlanFileData["2BHK"]&&this.floorPlanFileData["2BHK"].length>0){var M;null===(M=this.floorPlanFileData["2BHK"])||void 0===M||M.forEach(_=>{t.append("fp2bhk[]",_.file)});const f=this.floorPlanFileData["2BHK"].map(_=>_.sqft).join(",");t.append("fp2bhksqft",f)}else t.append("fp2bhk[]",""),t.append("fp2bhksqft","");if(this.floorPlanFileData["3BHK"]&&this.floorPlanFileData["3BHK"].length>0){var I;null===(I=this.floorPlanFileData["3BHK"])||void 0===I||I.forEach(_=>{t.append("fp3bhk[]",_.file)});const f=this.floorPlanFileData["3BHK"].map(_=>_.sqft).join(",");t.append("fp3bhksqft",f)}else t.append("fp3bhk[]",""),t.append("fp1bhksqft","");if(this.floorPlanFileData["4BHK"]&&this.floorPlanFileData["4BHK"].length>0){var j;null===(j=this.floorPlanFileData["4BHK"])||void 0===j||j.forEach(_=>{t.append("fp4bhk[]",_.file)});const f=this.floorPlanFileData["4BHK"].map(_=>_.sqft).join(",");t.append("fp4bhksqft",f)}else t.append("fp4bhk[]",""),t.append("fp4bhksqft","");this._mandateService.createPricingList(t).subscribe(f=>{u().fire({title:"Property Added Successfully",icon:"success",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{this.showSpinner=!1,location.reload()})})}}onEditProperty(t){this.brochureFileData={},this.priceSheetFileData={},this.videoFileData={},this.floorPlanFileData={},this.editingProp=t,this.isEditProp=!0,this.builderPropertyid=t.PropId,this.addPropModal.present();const i={1:"1-0",2:"1-1",3:"2-0",4:"2-1",0:"0-0"};t.Pricesheets.forEach(c=>{const r=i[c.bhkId];r&&(this.priceSheetFileData[r]||(this.priceSheetFileData[r]={file:null,fileType:"",fileName:"",result:null}),this.priceSheetFileData[r].fileName=c.propdetails_pricesheet||"")}),this.brochureFileData[0]||(this.brochureFileData[0]={file:null,fileName:t.Brochure,result:null});const o={1:"1BHK",2:"2BHK",3:"3BHK",4:"4BHK",0:"Common"};t.videos.forEach((c,s)=>{const d=o[c.bhkId],g={file:null,fileName:c.propdetails_video,result:null,bhkId:c.bhkId,v_idpk:c.PV_IDPK};this.videoFileData[d]||(this.videoFileData[d]=[]),this.videoFileData[d].push(g),0==s&&(this.selectedVideoBHK=o[c.bhkId])}),t.Floorplans.forEach((c,s)=>{const d=o[c.bhkId],g={file:null,fileName:c.floorplan_image,result:null,sqft:c.sqft,bhkId:c.bhkId,fp_idpk:c.PF_IDPK};this.floorPlanFileData[d]||(this.floorPlanFileData[d]=[]),this.floorPlanFileData[d].push(g),0==s&&(this.selectedFloorPlanBHK=o[c.bhkId])});const a=document.createElement("div");a.innerHTML=t.PropInfo,this.projectInfo=a.innerText.trim()}onPropertySearch(){this.propertyList1=this.propertyList.filter(t=>{var i,o;return null===(i=t.PropName)||void 0===i?void 0:i.toLowerCase().includes(null===(o=this.execPropName)||void 0===o?void 0:o.toLowerCase())})}}return(l=p).\u0275fac=function(t){return new(t||l)(e.rXU(e.gRc),e.rXU(G.d),e.rXU(b.aZ),e.rXU(h._t),e.rXU(x.Ix),e.rXU(x.nX),e.rXU(E.a))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-mandate-pricing-list"]],viewQuery:function(t,i){if(1&t&&(e.GBs(L,5),e.GBs(V,5)),2&t){let o;e.mGM(o=e.lsd())&&(i.addPropModal=o.first),e.mGM(o=e.lsd())&&(i.filePreviewModal=o.first)}},decls:20,vars:5,consts:[["addPropModal",""],[1,"ion-text-center","header"],["size","2",1,"content_center"],["name","arrow-back",3,"click"],["size","8"],[4,"ngIf"],["class","retailMandate",4,"ngIf"],["size","2",1,"content_center",3,"click"],["name","menu",1,"menu_icon"],[2,"background","#e7e7e7"],[2,"--border-radius","25px",3,"ngModelChange","ionInput","ngModel"],[2,"--background","#e7e7e7"],["style","margin: 10px; border: 1px solid #e7e7e7; padding: 2px; border-radius: 3px; background: #ffffff;",4,"ngFor","ngForOf"],["class","addPropIcon","name","add","expand","block",3,"click",4,"ngIf"],[1,"font-size16-familyPoppins"],[1,"retailMandate"],[1,"content_center",3,"click","ngClass"],[2,"margin","10px","border","1px solid #e7e7e7","padding","2px","border-radius","3px","background","#ffffff"],["src","../../../assets/CRMimages/edit_icon.svg",2,"width","25px","height","25px","position","absolute","right","14px",3,"click"],[2,"width","100%","border-radius","15px",3,"src"],[1,"propertyResourcesCss"],[2,"color","#0B7AB2"],[1,"font-size12-familyPoppins",2,"display","flex",3,"ngClass"],["src","../../assets/CRMimages/propertyInfo_icon.svg",2,"height","18px","padding-right","5px"],["src","../../assets/CRMimages/floorPlan_icon.svg",2,"height","14px","padding-right","5px"],["src","../../assets/CRMimages/video_icon.svg",2,"height","15px","padding-right","5px"],["src","../../assets/CRMimages/pricesheet_icon.svg",2,"height","17px","padding-right","5px"],["src","../../assets/CRMimages/brochure_icon.svg",2,"height","15px","padding-right","5px"],["name","arrow-back",2,"font-size","24px"],["size","8",1,"content_center"],["class","font-size16-familyPoppins",4,"ngIf"],["size","2"],["class","content_center loader",4,"ngIf"],[1,"ion-padding"],[1,"info-row-heading"],["size","12",4,"ngIf"],["size","12"],[1,"font-size10-familyPoppins"],[1,"custom-file","info-row-value"],["type","file","id","brochureInput","data-max-size","100000000","accept",".pdf",1,"custom-file-input",3,"change"],["class","custom-file-label content_center","for","brochureInput",4,"ngIf"],["style","padding: 6px;",3,"ngClass",4,"ngIf"],[1,"custom-file"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"bhkButtonStyle"],[3,"click",4,"ngFor","ngForOf"],[2,"margin-top","5px"],[1,"info-row-value","paddingZero"],["accept",".mp4","type","file","id","customVideoFile","multiple","",1,"custom-file-input",3,"click","change"],["for","customVideoFile",1,"custom-file-label","content_center",3,"ngClass"],[3,"ngClass"],["style","width: 18px; height: 18px","src","../assets/CRMimages/upload_icon.svg",4,"ngIf"],["style","width: 18px; height: 18px","src","../assets/CRMimages/active_uploaded_icon.svg",4,"ngIf"],["size","12",1,"paddingZero"],[2,"display","flex","overflow-x","scroll"],["class","content_center videoCss backgroundLightColor",4,"ngFor","ngForOf"],["type","file","id","floorPlanCustomFile","accept",".pdf,.png,.jpg,.jpeg","multiple","",1,"custom-file-input",3,"click","change"],["for","floorPlanCustomFile",1,"custom-file-label","content_center",3,"ngClass"],["style","margin: 5px;",4,"ngFor","ngForOf"],["placeholder","Add property details...",1,"textarea",3,"ngModelChange","ngModel"],[2,"box-shadow","none"],[1,"addPropertyBtn"],[1,"textBgColor","content_center",3,"click"],[1,"content_center","loader"],["name","circular",2,"color","white"],[1,"exec"],["optionLabel","name","appendTo","body","placeholder","Select Builder",1,"exec_css","info-row-value",3,"ngModelChange","onChange","options","ngModel","virtualScroll","virtualScrollItemSize"],["optionLabel","name","appendTo","body","placeholder","Select Property",1,"exec_css","info-row-value",3,"ngModelChange","onChange","options","ngModel","virtualScroll","virtualScrollItemSize"],["for","brochureInput",1,"custom-file-label","content_center"],[1,"info-row-value"],["src","../assets/CRMimages/upload_icon.svg",2,"width","18px","height","18px"],[2,"padding","6px",3,"ngClass"],[1,"center-vertically","text_nowrap"],["size","3",1,"center-vertically",2,"justify-content","space-evenly"],["for","brochureInput",1,"replace_file_icon"],["src","../assets/CRMimages/replace_file_icon.svg"],["class","close_icon",3,"click",4,"ngIf"],[1,"close_icon",3,"click"],["src","../assets/CRMimages/close_icon.svg"],["class","info-row-value","style","padding: 0; margin: 2px;",4,"ngFor","ngForOf"],[1,"info-row-value",2,"padding","0","margin","2px"],["type","file","accept",".pdf,.png,.jpg,.jpeg",1,"custom-file-input",3,"change","id"],["class","custom-file-label content_center",3,"for",4,"ngIf"],["class","file-name custom-file-label",3,"ngClass",4,"ngIf"],[1,"custom-file-label","content_center",3,"for"],[1,"file-name","custom-file-label",3,"ngClass"],[1,"center-vertically"],[3,"for"],["size","4",1,"center-vertically"],[1,"replace_file_icon",3,"for"],["src","../assets/CRMimages/delete_icon.svg",2,"width","20px"],[3,"click"],[1,"font-size12-familyPoppins","content_center",3,"ngClass"],["src","../assets/CRMimages/active_uploaded_icon.svg",2,"width","18px","height","18px"],[1,"content_center","videoCss","backgroundLightColor"],[1,"font-size12-familyPoppins"],["src","../assets/CRMimages/eye_icon.svg",2,"margin","5px","width","20px",3,"click"],["src","../assets/CRMimages/close_icon.svg",2,"width","14px","margin","5px",3,"click"],[2,"margin","5px"],["size","7",1,"floorPlanCss","backgroundLightColor"],[2,"width","100%"],[1,"paddingZero","content_center"],[1,"eyeCloseIcon"],["size","5"],[1,"paddingZero"],[1,"font-colorBlue",2,"min-height","25px","border-bottom","1px solid rgba(11, 122, 178, 0.5) !important",3,"ngModelChange","ngClass","ngModel"],[1,"paddingZero","sqftinput"],[1,"font-size14-familyPoppins","font-colorBlue"],["name","add","expand","block",1,"addPropIcon",3,"click"]],template:function(t,i){if(1&t){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-row")(3,"ion-col",2)(4,"ion-icon",3),e.bIt("click",function(){return e.eBV(o),e.Njj(i.onBackbutton())}),e.EFF(5,"back"),e.k0s()(),e.j41(6,"ion-col",4),e.DNE(7,X,3,0,"ion-row",5)(8,Y,9,2,"ion-row",6),e.k0s(),e.j41(9,"ion-col",7),e.bIt("click",function(){return e.eBV(o),e.Njj(i.openEndMenu())}),e.nrm(10,"ion-icon",8),e.k0s()()()(),e.j41(11,"div",9)(12,"ion-searchbar",10),e.mxI("ngModelChange",function(c){return e.eBV(o),e.DH7(i.execPropName,c)||(i.execPropName=c),e.Njj(c)}),e.bIt("ionInput",function(){return e.eBV(o),e.Njj(i.onPropertySearch())}),e.k0s()(),e.j41(13,"ion-content",11),e.DNE(14,q,26,17,"div",12),e.k0s(),e.nrm(15,"app-common-footer"),e.j41(16,"ion-modal",null,0),e.DNE(18,Fe,78,24,"ng-template"),e.k0s(),e.DNE(19,be,1,0,"ion-icon",13)}2&t&&(e.R7$(7),e.Y8G("ngIf","1"!==i.localStorage.getItem("Role")),e.R7$(),e.Y8G("ngIf","1"==i.localStorage.getItem("Role")),e.R7$(4),e.R50("ngModel",i.execPropName),e.R7$(2),e.Y8G("ngForOf",i.propertyList1),e.R7$(5),e.Y8G("ngIf",i.isAdmin))},dependencies:[b.YU,b.Sq,b.bT,D.ms,h.hU,h.W9,h.M0,h.eU,h.iq,h.KW,h.$w,h.ln,h.S1,h.w2,h.ai,h.Sb,h.Gw,N.a,k.me,k.BC,k.vS],styles:[".menu_icon[_ngcontent-%COMP%]{font-size:30px;color:#0b7ab2}.activeHtype[_ngcontent-%COMP%]{border:1px solid white;border-radius:25px;background:#0b7ab2;color:#fff}.retailMandate[_ngcontent-%COMP%]{border:1px solid #0B7AB2;border-radius:25px;color:#0b7ab2;width:100%}.blurred[_ngcontent-%COMP%]{filter:blur(1px);pointer-events:none;opacity:.6}.propertyResourcesCss[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:100%;margin-top:-15px;box-shadow:0 -2px 10px #0000001a;border-top-left-radius:15px;border-top-right-radius:15px}.info-row-heading[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:16px}.info-row-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0;padding-right:0}.info-row-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500;font-size:12px;color:#727272;background-color:#f3f3f3}.info-row-value[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0}  .exec p-dropdown.exec_css .p-inputwrapper span{padding:6px;font-size:12px;font-family:Poppins}  .exec p-dropdown.exec_css .p-inputwrapper{width:100%;background:#f3f3f3;height:100%;border:.5px #BEBFC8 solid;border-radius:2px}  .exec p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger{width:30px!important}  .exec p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:14px}.custom-file-input[_ngcontent-%COMP%]{opacity:0;position:absolute}.custom-file-label[_ngcontent-%COMP%]{border:.5px #BEBFC8 solid;padding:6px;border-radius:2px;cursor:pointer;width:100%;text-align:center}.custom-file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.first-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2){display:flex;padding:0;justify-content:space-around}.first-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;padding:0}.second-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:1px;display:block;padding:0}.second-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .replace_file_icon[_ngcontent-%COMP%]{padding-right:4px}.second-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .replace_file_icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:18px}.second-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .close_icon[_ngcontent-%COMP%]{padding-right:4px}.second-row[_ngcontent-%COMP%]   .custom-file-label[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .close_icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:14px}.text_nowrap[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.replace_file_icon[_ngcontent-%COMP%]{padding-right:4px}.replace_file_icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:20px}.close_icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:16px}.videoCss[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:84px}.videoCss[_ngcontent-%COMP%]{padding:4px 5px;margin:5px}.floorPlanCss[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100px}.eyeCloseIcon[_ngcontent-%COMP%]{padding:0;display:flex;align-items:center;justify-content:space-evenly}.textarea[_ngcontent-%COMP%]{padding:4px;font-size:12px;font-family:Poppins;height:114px;width:100%;overflow-y:scroll;border:.5px #BEBFC8 solid}.addPropertyBtn[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid;width:100%;border-radius:2px}.bhkButtonStyle[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:2px}.bhkButtonStyle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:.5px #BEBFC8 solid;padding:6px;border-radius:2px;color:#727272}.bhkButtonStyle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#f3f3f3}.addPropIcon[_ngcontent-%COMP%]{font-size:45px;color:#fff;font-size:25px;position:absolute;right:10px;bottom:70px;background-color:#2196f3;border-radius:35px;padding:5px;--ionicon-stroke-width: 60px}"]}),p})(),ke=(()=>{var l;class p{}return(l=p).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[b.MD,x.iI.forChild([{path:"",component:ve}]),D.kr,h.bv,K.G,k.YN]}),p})()}}]);