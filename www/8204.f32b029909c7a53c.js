"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8204],{8204:(F,d,o)=>{o.r(d),o.d(d,{SwitchAccountdModule:()=>O});var l=o(177),m=o(3477),s=o(5933),h=o(9417),g=o(4127),u=o(8833),p=o(494),f=o(1667),t=o(4438),w=o(9451),_=o(2921),M=o(2408),S=o(2152);const C=["switchAccountModal"];function A(e,a){1&e&&(t.j41(0,"div",4),t.nrm(1,"ion-img",5),t.k0s())}function v(e,a){if(1&e){const i=t.RV6();t.j41(0,"ion-card",6)(1,"ion-row")(2,"ion-col",7)(3,"span",8),t.EFF(4),t.k0s(),t.j41(5,"span",9),t.EFF(6),t.k0s()(),t.j41(7,"ion-col",10),t.bIt("click",function(){const c=t.eBV(i).$implicit,r=t.XpG(),I=t.sdS(5);return r.selectedAcc=c,t.Njj(I.present())}),t.j41(8,"div",11)(9,"span",12),t.EFF(10,"Switch"),t.k0s(),t.nrm(11,"ion-img",13),t.k0s()()()()}if(2&e){const i=a.$implicit;t.R7$(4),t.JRh(i.name),t.R7$(2),t.JRh(i.RoleName)}}function x(e,a){if(1&e){const i=t.RV6();t.j41(0,"ion-header")(1,"ion-row")(2,"ion-col",14)(3,"span",15),t.EFF(4," Confirm Switch"),t.k0s(),t.nrm(5,"ion-img",16),t.k0s()()(),t.j41(6,"div",17)(7,"span",18),t.EFF(8," You\u2019re about to switch accounts You will leave your Admin account and continue as "),t.k0s(),t.j41(9,"span",19),t.EFF(10," Kiran - R.M Team Leader "),t.k0s(),t.j41(11,"span",20),t.EFF(12," Do You Want To Proceed ? "),t.k0s()(),t.j41(13,"ion-footer")(14,"ion-row",21)(15,"ion-col",22)(16,"span"),t.EFF(17,"Close"),t.k0s()(),t.j41(18,"ion-col",23),t.bIt("click",function(){t.eBV(i);const c=t.XpG();return t.Njj(c.onSwitch_acc())}),t.j41(19,"span"),t.EFF(20,"Yes, Switch Account"),t.k0s()()()()}}let P=(()=>{var e;class a{constructor(n,c,r){this.sharedService=n,this.router=c,this.authService=r,this.showSpinner=!1}ngOnInit(){this.showSpinner=!0,this.fetchmandateexecutives()}fetchmandateexecutives(){this.sharedService.getallactiveexec().subscribe(n=>{this.executiveNames=n.Executives,this.showSpinner=!1})}onSwitch_acc(){const n=this.executiveNames.filter(c=>c.executives_FKID==localStorage.getItem("UserId")&&c.number==localStorage.getItem("Number"));localStorage.setItem("mainAccount",JSON.stringify(n)),localStorage.setItem("Name",this.selectedAcc.name),localStorage.setItem("UserId",this.selectedAcc.executives_FKID),localStorage.setItem("Password",this.selectedAcc.password),localStorage.setItem("Mail",this.selectedAcc.email),localStorage.setItem("Role",this.selectedAcc.role_IDFK),localStorage.setItem("Number",this.selectedAcc.number),localStorage.setItem("prop_suggestion",this.selectedAcc.prop_suggestion),localStorage.setItem("Department",this.selectedAcc.department_IDFK),localStorage.setItem("PropertyId",this.selectedAcc.mandate_propidfk),localStorage.setItem("RoleType",this.selectedAcc.role_type),localStorage.setItem("direct_inhouse",this.selectedAcc.direct_inhouse),"28773"===this.selectedAcc.mandate_propidfk&&localStorage.setItem("ranavPropId","28773"),setTimeout(()=>{this.sharedService.notifyAccountChanged()},1e3),this.showSpinner=!0,this.switchAccountModal.dismiss(),this.authService.login()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(w.d),t.rXU(m.Ix),t.rXU(_.P))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-switch-account"]],viewQuery:function(n,c){if(1&n&&t.GBs(C,5),2&n){let r;t.mGM(r=t.lsd())&&(c.switchAccountModal=r.first)}},decls:8,vars:2,consts:[["switchAccountModal",""],["class","content_center loader",4,"ngIf"],["class","exec_acc_switch",4,"ngFor","ngForOf"],[1,"switchAccountModal"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"exec_acc_switch"],[1,"d-flex","flex-column","justify-content-start"],[1,"name"],[1,"role"],["size","4",1,"d-flex","align-items-center","justify-content-end",3,"click"],[1,"switch_btn"],[1,"pr-2"],["src","../../assets/CRMimages/switch_account_icon1.svg"],[1,"d-flex","align-items-center","justify-content-center"],[1,"pr-1"],["src","../../assets/CRMimages/switch_pop_icon.svg"],[1,"text-center","d-flex","flex-column","p-2"],[1,"switch_header"],[1,"name_role","mt-1"],[1,"warning_text","mt-2"],[1,"close-confirm-btn"],["size","4",1,"d-flex","align-items-center","justify-content-center","close_btn"],[1,"d-flex","align-items-center","justify-content-center","switch_btn",3,"click"]],template:function(n,c){1&n&&(t.nrm(0,"app-header"),t.DNE(1,A,2,0,"div",1),t.j41(2,"ion-content"),t.DNE(3,v,12,2,"ion-card",2),t.k0s(),t.j41(4,"ion-modal",3,0),t.DNE(6,x,21,0,"ng-template"),t.k0s(),t.nrm(7,"app-common-footer")),2&n&&(t.R7$(),t.Y8G("ngIf",c.showSpinner),t.R7$(2),t.Y8G("ngForOf",c.executiveNames))},dependencies:[l.Sq,l.bT,s.b_,s.hU,s.W9,s.M0,s.eU,s.KW,s.ln,s.Sb,M.a,S.l],styles:["*[_ngcontent-%COMP%]{font-family:Poppins}.switch_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;background:linear-gradient(180deg,#2196f3,#0b7ab2);border-radius:.125rem;padding:.3rem .4rem}.switch_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem;color:#fff;white-space:nowrap}.switch_btn[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:1.5rem;height:auto}.exec_acc_switch[_ngcontent-%COMP%]{border:.6px solid #e6e6e6}.name[_ngcontent-%COMP%]{font-weight:400;font-size:1rem}.role[_ngcontent-%COMP%]{font-weight:300;font-size:.75rem}.switch_header[_ngcontent-%COMP%]{font-weight:300;font-size:.75rem;color:#767676}.name_role[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:1rem}.warning_text[_ngcontent-%COMP%]{font-weight:300;font-size:.875rem}ion-modal.switchAccountModal[_ngcontent-%COMP%]{--width: 90vw;--min-width: 250px;--height: auto;--border-radius: .375rem;--box-shadow: 0 1.75rem 3rem rgba(0, 0, 0, .4);padding:.625rem}ion-modal.switchAccountModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{background:#e8f7ff}ion-modal.switchAccountModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004b71;font-size:1rem}ion-modal.switchAccountModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{padding:.375rem}ion-modal.switchAccountModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   .switch_btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#2196f3,#0b7ab2)}ion-modal.switchAccountModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   .close_btn[_ngcontent-%COMP%]{border:1px solid #1283c7;color:#1a8dde;border-radius:.125rem;padding:.25rem .5rem}.close-confirm-btn[_ngcontent-%COMP%]{display:flex;gap:.25rem;flex-wrap:wrap}"]}),a})(),O=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[l.MD,m.iI.forChild([{path:"",component:P}]),u.kr,s.bv,g.G,f.rO,h.YN,p.DE]}),a})()}}]);