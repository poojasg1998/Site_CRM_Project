"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6664],{6664:(li,j,h)=>{h.r(j),h.d(j,{NotificationModule:()=>ri});var f=h(177),x=h(3477),_=h(5933),I=h(9417),y=h(4127),T=h(8833),e=h(4438),G=h(9451),S=h(2408),k=h(467),R=h(8032),b=h.n(R),N=h(1413),F=h(152),P=h(8428),E=h(3459),M=h(494),$=h(1950),O=h(9850);const D=["chat_preview"],B=["groupInfoModal"],X=["addMember"],Y=["chat_previewIon_content"],V=["chat_list_content"],A=["dialNumberModal"],z=["editMessage"],U=["infoModal"],L=["groupInput"],H=["dateLabels"],q=(i,s)=>({"selected-match":i,"bg-color":s}),J=(i,s,t)=>({content_center:i,"align-bottom":s,pointerEvent:t});function K(i,s){1&i&&(e.j41(0,"div",32),e.nrm(1,"ion-img",33),e.k0s())}function W(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.newGroupCreation())}),e.j41(2,"span"),e.EFF(3," New Group "),e.k0s()()()}}function Q(i,s){1&i&&(e.j41(0,"ion-popover",34),e.DNE(1,W,4,0,"ng-template"),e.k0s())}function Z(i,s){1&i&&(e.j41(0,"span",41),e.EFF(1,"Add Members"),e.k0s())}function ee(i,s){1&i&&(e.j41(0,"span"),e.EFF(1,"New Group"),e.k0s())}function te(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row",36)(1,"ion-col",37),e.DNE(2,Z,2,0,"span",38)(3,ee,2,0,"span",24),e.k0s(),e.j41(4,"ion-col",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBackbutton())}),e.nrm(5,"ion-icon",40),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("ngClass","true"==t.filterParams.isnewGroupCreation?"":"newgroupcreation-sec"),e.R7$(2),e.Y8G("ngIf","true"==t.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"==t.filterParams.isGroupNaming)}}function ne(i,s){1&i&&(e.j41(0,"ion-col",47)(1,"div",48),e.nrm(2,"ion-icon",49),e.k0s()())}function ie(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",52),e.EFF(1),e.j41(2,"ion-icon",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.ongrpSelectionCheckboxChange("",n))}),e.k0s()()}if(2&i){const t=s.$implicit;e.R7$(),e.SpI(" ",t.executives_name,"")}}function oe(i,s){if(1&i&&(e.j41(0,"div",50),e.DNE(1,ie,3,1,"div",51),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.selectedUsers)}}function ae(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",42)(1,"ion-row")(2,"ion-col",43)(3,"ion-searchbar",44),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.chatSearchedName,n)||(a.chatSearchedName=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.searchchatTrigger$.next(n))}),e.k0s()(),e.DNE(4,ne,3,0,"ion-col",45),e.k0s(),e.DNE(5,oe,2,1,"div",46),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.chatSearchedName),e.R7$(),e.Y8G("ngIf","true"!=t.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"==t.filterParams.isnewGroupCreation)}}function se(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"ion-row")(2,"ion-col",55),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChatFilterSelected("all"))}),e.j41(3,"span"),e.EFF(4,"All"),e.k0s()(),e.j41(5,"ion-col",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChatFilterSelected("Unread"))}),e.j41(6,"span"),e.EFF(7,"Unread"),e.k0s()(),e.j41(8,"ion-col",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChatFilterSelected("Groups"))}),e.j41(9,"label",57),e.EFF(10,"Groups"),e.k0s()(),e.j41(11,"ion-col",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.newGroupCreation())}),e.nrm(12,"ion-icon",59),e.k0s(),e.j41(13,"ion-col",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onMainSearch())}),e.j41(14,"div",61),e.EFF(15," Search"),e.nrm(16,"ion-icon",62),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngClass","all"==t.chatFilterSelectedValue?"bg_textColor":""),e.R7$(3),e.Y8G("ngClass","Unread"==t.chatFilterSelectedValue?"bg_textColor":""),e.R7$(3),e.Y8G("ngClass","Groups"==t.chatFilterSelectedValue?"bg_textColor":"")}}function re(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",63)(1,"ion-icon",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMainSearch())}),e.k0s(),e.j41(2,"ion-searchbar",65),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.chatSearchedName,n)||(a.chatSearchedName=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.searchchatTrigger$.next(n))}),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("ngClass",t.searchAnimationClass),e.R7$(2),e.R50("ngModel",t.chatSearchedName),e.Y8G("showClearButton","never")("showCancelButton",!1)}}function ce(i,s){1&i&&e.nrm(0,"ion-img",79)}function le(i,s){1&i&&e.nrm(0,"ion-img",80)}function _e(i,s){1&i&&(e.j41(0,"div",81),e.nrm(1,"img",82),e.k0s())}function pe(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(),e.SpI("",o.formatLatestMessageTime(t.latest_message_time)," ")}}function de(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-checkbox",83),e.bIt("ionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.ongrpSelectionCheckboxChange(n,a))}),e.k0s()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.Y8G("checked",o.isUserSelected(t))}}function me(i,s){if(1&i&&(e.j41(0,"ion-col",88)(1,"div",89),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t.unreadcount?t.unreadcount:"")}}function he(i,s){if(1&i&&(e.j41(0,"ion-row"),e.nrm(1,"ion-col",84),e.j41(2,"ion-col",85)(3,"span",86),e.EFF(4),e.k0s()(),e.DNE(5,me,3,1,"ion-col",87),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(4),e.SpI(" ",t.latest_message_content," "),e.R7$(),e.Y8G("ngIf",t.unreadcount)}}function ge(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row",67)(1,"ion-col",68)(2,"div",69),e.DNE(3,ce,1,0,"ion-img",70)(4,le,1,0,"ion-img",71),e.nrm(5,"div",72),e.DNE(6,_e,2,0,"div",73),e.k0s()(),e.j41(7,"ion-col",74)(8,"ion-row")(9,"ion-col",75),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj("true"==a.filterParams.isnewGroupCreation?"":a.openChat_previewModal(n))}),e.j41(10,"span",76),e.EFF(11),e.k0s()(),e.j41(12,"ion-col",77),e.DNE(13,pe,2,1,"span",24)(14,de,1,1,"ion-checkbox",78),e.k0s()(),e.DNE(15,he,6,2,"ion-row",24),e.k0s()()}if(2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(3),e.Y8G("ngIf","group"==t.chat_type),e.R7$(),e.Y8G("ngIf","individual"==t.chat_type),e.R7$(),e.Y8G("ngClass","offline"==t.online_status?"redbgwhiteborder":"online"==t.online_status?"greenbgwhiteborder":""),e.R7$(),e.Y8G("ngIf",1==t.encryptid),e.R7$(),e.Y8G("ngClass","true"==o.filterParams.isnewGroupCreation?"newGpcreation content_center":""),e.R7$(4),e.JRh(t.executives_name),e.R7$(2),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"==o.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation)}}function ue(i,s){if(1&i&&(e.j41(0,"span"),e.DNE(1,ge,16,9,"ion-row",66),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.allChats1)}}function fe(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col")(2,"span",91),e.EFF(3,"Chats"),e.k0s()()())}function Ce(i,s){1&i&&e.nrm(0,"ion-img",79)}function xe(i,s){1&i&&e.nrm(0,"ion-img",80)}function be(i,s){1&i&&(e.j41(0,"div",81),e.nrm(1,"img",82),e.k0s())}function ve(i,s){if(1&i&&(e.j41(0,"span",95),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,o=e.XpG(4);e.R7$(),e.SpI(" ",o.formatLatestMessageTime(t.latest_message_time),"")}}function we(i,s){if(1&i&&(e.j41(0,"ion-col",88)(1,"div",89),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t.unreadcount)}}function ke(i,s){if(1&i&&(e.j41(0,"ion-row"),e.nrm(1,"ion-col",84),e.j41(2,"ion-col",85),e.nrm(3,"span",96),e.nI1(4,"highlight"),e.k0s(),e.DNE(5,we,3,1,"ion-col",87),e.k0s()),2&i){const t=e.XpG().$implicit,o=e.XpG(4);e.R7$(3),e.Y8G("innerHTML",e.brH(4,2,t.latest_message_content,o.chatSearchedName,"chat-highlight"),e.npT),e.R7$(2),e.Y8G("ngIf",t.unreadcount)}}function Ie(i,s){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"ion-row",67)(2,"ion-col",68)(3,"div",69),e.DNE(4,Ce,1,0,"ion-img",70)(5,xe,1,0,"ion-img",71),e.nrm(6,"div",72),e.DNE(7,be,2,0,"div",73),e.k0s()(),e.j41(8,"ion-col",74)(9,"ion-row")(10,"ion-col",75),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.openChat_previewModal(n))}),e.nrm(11,"span",92),e.nI1(12,"highlight"),e.nI1(13,"highlight"),e.k0s(),e.j41(14,"ion-col",93),e.DNE(15,ve,2,1,"span",94),e.k0s()(),e.DNE(16,ke,6,6,"ion-row",24),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(4);e.R7$(4),e.Y8G("ngIf","group"==t.chat_type),e.R7$(),e.Y8G("ngIf","individual"==t.chat_type),e.R7$(),e.Y8G("ngClass","individual"==t.chat_type&&"offline"==t.online_status?"redbgwhiteborder":"online"==t.online_status?"greenbgwhiteborder":""),e.R7$(),e.Y8G("ngIf",1==t.encryptid),e.R7$(),e.Y8G("ngClass","true"==o.filterParams.isnewGroupCreation?"newGpcreation content_center":""),e.R7$(3),e.Y8G("innerHTML",t.executives_name?e.brH(12,8,t.executives_name,o.chatSearchedName,"chat-highlight"):e.brH(13,12,t.group_name,o.chatSearchedName,"chat-highlight"),e.npT),e.R7$(4),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation)}}function Ge(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col")(2,"span",97),e.EFF(3,"Messages"),e.k0s()()())}function Me(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,o=e.XpG(4);e.R7$(),e.SpI(" ",o.formatLatestMessageTime(t.latest_message_time),"")}}function je(i,s){if(1&i&&(e.j41(0,"ion-row")(1,"ion-col",100),e.nrm(2,"span",101),e.nI1(3,"highlight"),e.k0s()()),2&i){const t=e.XpG().$implicit,o=e.XpG(4);e.R7$(2),e.Y8G("innerHTML",e.brH(3,1,t.latest_message_content,o.chatSearchedName,"chat-highlight"),e.npT)}}function ye(i,s){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"ion-row",67)(2,"ion-col",98)(3,"ion-row")(4,"ion-col",75),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.openChat_previewModal(n))}),e.nrm(5,"span",99),e.nI1(6,"highlight"),e.nI1(7,"highlight"),e.k0s(),e.j41(8,"ion-col",93),e.DNE(9,Me,2,1,"span",24),e.k0s()(),e.DNE(10,je,4,5,"ion-row",24),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(4);e.R7$(2),e.Y8G("ngClass","true"==o.filterParams.isnewGroupCreation?"newGpcreation content_center":""),e.R7$(3),e.Y8G("innerHTML",t.executives_name?e.brH(6,4,t.executives_name,o.chatSearchedName,"chat-highlight"):e.brH(7,8,t.group_name,o.chatSearchedName,"chat-highlight"),e.npT),e.R7$(4),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"!=o.filterParams.isnewGroupCreation)}}function Te(i,s){if(1&i&&(e.j41(0,"div"),e.DNE(1,fe,4,0,"ion-row",24)(2,Ie,17,16,"span",90)(3,Ge,4,0,"ion-row",24)(4,ye,11,12,"div",90),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",0!=t.chatsSearch1.length),e.R7$(),e.Y8G("ngForOf",t.chatsSearch1),e.R7$(),e.Y8G("ngIf",0!=t.messageSearch1.length),e.R7$(),e.Y8G("ngForOf",t.messageSearch1)}}function Se(i,s){if(1&i&&(e.qex(0),e.DNE(1,Te,5,4,"div",24),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf","True"===t.searchResults.status)}}function Re(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col",102)(2,"span",103),e.EFF(3," No results found... "),e.k0s()()())}function Ne(i,s){if(1&i&&(e.j41(0,"div",null,6),e.DNE(2,ue,2,1,"span",24)(3,Se,2,1,"ng-container",24)(4,Re,4,0,"ion-row",24),e.k0s()),2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf","true"!=t.filterParams.isnewGroupCreation&&""==t.chatSearchedName&&"true"!=t.filterParams.isGroupNaming||"true"==t.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"!==t.filterParams.isnewGroupCreation&&""!=t.chatSearchedName),e.R7$(),e.Y8G("ngIf",0==(null==t.allChats1?null:t.allChats1.length)||"False"===t.searchResults.status)}}function Fe(i,s){1&i&&(e.j41(0,"span",113),e.EFF(1," Add Members"),e.k0s())}function Pe(i,s){1&i&&(e.j41(0,"span",113),e.EFF(1," Forward to..."),e.k0s())}function Ee(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-icon",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSearch())}),e.k0s()}}function $e(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-col",88)(1,"ion-icon",114),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.searchMembers())}),e.k0s()()}}function Oe(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",115),e.EFF(1),e.j41(2,"ion-icon",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.ongrpSelectionCheckboxChange("",n))}),e.k0s()()}if(2&i){const t=s.$implicit;e.R7$(),e.SpI(" ",t.executives_name,"")}}function De(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col",102)(2,"span",103),e.EFF(3," No results found... "),e.k0s()()())}function Be(i,s){1&i&&e.nrm(0,"ion-img",122)}function Xe(i,s){1&i&&e.nrm(0,"ion-img",123)}function Ye(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-checkbox",124),e.bIt("ionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.ongrpSelectionCheckboxChange(n,a))}),e.k0s()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(2);e.Y8G("checked",o.isUserSelected(t))}}function Ve(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row",116),e.bIt("click",function(n){const a=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.ongrpSelectionCheckboxChange(n,a))}),e.j41(1,"ion-col",117),e.DNE(2,Be,1,0,"ion-img",118)(3,Xe,1,0,"ion-img",119)(4,Ye,1,1,"ion-checkbox",120),e.k0s(),e.j41(5,"ion-col",121),e.EFF(6),e.k0s(),e.nrm(7,"ion-col",117),e.k0s()}if(2&i){const t=s.$implicit,o=e.XpG(2);e.Y8G("ngClass",o.isUserSelected(t)?"bgColorGreen":""),e.R7$(2),e.Y8G("ngIf","group"==t.chat_type),e.R7$(),e.Y8G("ngIf","individual"==t.chat_type),e.R7$(),e.Y8G("ngIf",o.isUserSelected(t)),e.R7$(2),e.SpI(" ",t.executives_name," ")}}function Ae(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-button",126),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.addMembe1r())}),e.EFF(1,"Add"),e.k0s()}}function ze(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-button",126),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.forwardingMessage())}),e.EFF(1,"Send"),e.k0s()}}function Ue(i,s){if(1&i&&(e.j41(0,"ion-footer"),e.DNE(1,Ae,2,0,"ion-button",125)(2,ze,2,0,"ion-button",125),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.isForwardMsg),e.R7$(),e.Y8G("ngIf",t.isForwardMsg)}}function Le(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",104)(1,"ion-row",105)(2,"ion-col",106)(3,"div",100)(4,"ion-icon",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddMemberbackButton())}),e.k0s(),e.DNE(5,Fe,2,0,"span",107)(6,Pe,2,0,"span",107),e.k0s(),e.j41(7,"div",108),e.DNE(8,Ee,1,0,"ion-icon",109),e.j41(9,"ion-searchbar",65),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.chatSearchedName,n)||(a.chatSearchedName=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.searchchatTrigger$.next(n))}),e.k0s()()(),e.DNE(10,$e,2,0,"ion-col",87),e.k0s()(),e.j41(11,"div",110),e.DNE(12,Oe,3,1,"div",111),e.k0s(),e.j41(13,"ion-content"),e.DNE(14,De,4,0,"ion-row",24)(15,Ve,8,5,"ion-row",112),e.k0s(),e.DNE(16,Ue,3,2,"ion-footer",24)}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngClass",t.searchVisible?"":"borderBottom"),e.R7$(4),e.Y8G("ngIf",!t.isForwardMsg),e.R7$(),e.Y8G("ngIf",t.isForwardMsg),e.R7$(),e.Y8G("ngClass",t.searchAnimationClass),e.R7$(),e.Y8G("ngIf",t.searchVisible),e.R7$(),e.R50("ngModel",t.chatSearchedName),e.Y8G("showClearButton","never")("showCancelButton",!1),e.R7$(),e.Y8G("ngIf",!t.searchVisible),e.R7$(2),e.Y8G("ngForOf",t.selectedUsers),e.R7$(2),e.Y8G("ngIf",0==t.allChats1.length),e.R7$(),e.Y8G("ngForOf",t.isForwardMsg?t.allChats:t.allChats1),e.R7$(),e.Y8G("ngIf",0!==t.selectedUsers.length)}}function He(i,s){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"ion-row",128)(2,"ion-col",129),e.EFF(3,"Group name"),e.k0s()(),e.j41(4,"div",130)(5,"ion-row")(6,"ion-col")(7,"ion-input",131),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.DH7(a.groupName,n)||(a.groupName=n),e.Njj(n)}),e.k0s()()()(),e.j41(8,"ion-row",132)(9,"ion-col",133),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isGroupNameChange=!1)}),e.j41(10,"ion-button",134),e.EFF(11,"Cancel"),e.k0s()(),e.j41(12,"ion-col",135)(13,"ion-button",136),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.groupNameChanging())}),e.EFF(14,"Ok"),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(7),e.R50("ngModel",t.groupName),e.R7$(6),e.Y8G("disabled",""==t.groupName)}}function qe(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddMember())}),e.j41(2,"span",154),e.EFF(3," Add Members "),e.k0s()()(),e.j41(4,"ion-row")(5,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onGroupNameChange())}),e.j41(6,"span",154),e.EFF(7," Change group name "),e.k0s()()()}}function Je(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.JRh(t.selectedChat.executives_name)}}function Ke(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-input",155,8),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.DH7(a.groupName,n)||(a.groupName=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG(3);e.R50("ngModel",t.groupName)}}function We(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-icon",156),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.groupName!=n.selectedChat.executives_name?n.groupNameChanging():n.isGroupNameEditing=!n.isGroupNameEditing)}),e.k0s()}}function Qe(i,s){1&i&&e.nrm(0,"ion-spinner",157)}function Ze(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-img",158),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.editGroupName(n.groupInput))}),e.k0s()}}function et(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",117),e.nrm(2,"i",159),e.k0s(),e.j41(3,"ion-col",160),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddMember())}),e.EFF(4,"Add Members"),e.k0s()()}}function tt(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col",102)(2,"span",103),e.EFF(3," No results found... "),e.k0s()()())}function nt(i,s){1&i&&(e.j41(0,"span",164),e.EFF(1,"Group Admin"),e.k0s())}function it(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",117),e.nrm(2,"ion-img",161,7),e.k0s(),e.j41(4,"ion-col",162),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.isGroupAdmin&&2==n.grouprole&&a.isMember?a.deleteMember(n):"")}),e.EFF(5),e.DNE(6,nt,2,0,"span",163),e.k0s()()}if(2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(5),e.SpI(" ",o.localStorage.getItem("UserId")==t.memberid?"You":t.membername," "),e.R7$(),e.Y8G("ngIf","1"==t.grouprole)}}function ot(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",88),e.nrm(2,"ion-icon",165),e.k0s(),e.j41(3,"ion-col",166),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.leaveGroup())}),e.j41(4,"span",167),e.EFF(5,"Exit Group"),e.k0s()()()}}function at(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",137)(1,"ion-row",138)(2,"ion-col",139)(3,"ion-icon",140),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGroupInfoModalClose())}),e.EFF(4,"back"),e.k0s()(),e.nrm(5,"ion-col"),e.j41(6,"ion-col",141),e.nrm(7,"ion-icon",142),e.k0s()(),e.j41(8,"ion-row"),e.nrm(9,"ion-col"),e.j41(10,"ion-col",43)(11,"div",143)(12,"ion-img",144,7),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openGroupInfo())}),e.k0s()()(),e.nrm(14,"ion-col",145),e.j41(15,"ion-popover",146),e.DNE(16,qe,8,0,"ng-template"),e.k0s()(),e.j41(17,"ion-row")(18,"ion-col",147),e.DNE(19,Je,2,1,"span",24),e.j41(20,"span"),e.DNE(21,Ke,2,1,"ion-input",148),e.k0s(),e.DNE(22,We,1,0,"ion-icon",149)(23,Qe,1,0,"ion-spinner",150)(24,Ze,1,0,"ion-img",151),e.k0s()(),e.j41(25,"ion-row")(26,"ion-col",152),e.EFF(27),e.k0s()(),e.j41(28,"ion-searchbar",153),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.DH7(a.gpMemberSearchedName,n)||(a.gpMemberSearchedName=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGroupMemberSearch())}),e.k0s(),e.j41(29,"ion-content"),e.DNE(30,et,5,0,"ion-row",24)(31,tt,4,0,"ion-row",24)(32,it,7,2,"ion-row",90)(33,ot,6,0,"ion-row",24),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(19),e.Y8G("ngIf",!t.isGroupNameEditing),e.R7$(2),e.Y8G("ngIf",t.isGroupNameEditing),e.R7$(),e.Y8G("ngIf",t.isGroupNameEditing&&!t.showSpinner),e.R7$(),e.Y8G("ngIf",t.showSpinner),e.R7$(),e.Y8G("ngIf",!t.isGroupNameEditing&&!t.showSpinner),e.R7$(3),e.SpI("Group ",t.gpMembers.length," members"),e.R7$(),e.R50("ngModel",t.gpMemberSearchedName),e.R7$(2),e.Y8G("ngIf",t.isGroupAdmin&&t.isMember||t.isAdmin),e.R7$(),e.Y8G("ngIf",0==t.gpMembers1.length),e.R7$(),e.Y8G("ngForOf",t.gpMembers1),e.R7$(),e.Y8G("ngIf",t.isMember)}}function st(i,s){if(1&i&&e.DNE(0,He,15,2,"span",24)(1,at,34,11,"div",127),2&i){const t=e.XpG();e.Y8G("ngIf",t.isGroupNameChange),e.R7$(),e.Y8G("ngIf",!t.isGroupNameChange)}}function rt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-img",189,7),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openGroupInfo())}),e.k0s()}}function ct(i,s){1&i&&e.nrm(0,"ion-img",190,7)}function lt(i,s){1&i&&(e.j41(0,"div",191),e.nrm(1,"img",82),e.k0s())}function _t(i,s){if(1&i&&(e.j41(0,"div",193),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.R7$(),e.SpI(" ",t.membername+","," ")}}function pt(i,s){if(1&i&&(e.j41(0,"div",50),e.DNE(1,_t,2,1,"div",192),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.gpMembers1)}}function dt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.disappear24("1"))}),e.j41(1,"span",194),e.EFF(2," Enable 24Hrs Disappear "),e.k0s()()}}function mt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.disappear24("0"))}),e.j41(1,"span",194),e.EFF(2," Disable 24Hrs Disappear "),e.k0s()()}}function ht(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onOnetoOneChatSearch())}),e.j41(2,"span",194),e.EFF(3," Search "),e.k0s()()(),e.j41(4,"ion-row"),e.DNE(5,dt,3,0,"ion-col",195),e.k0s(),e.j41(6,"ion-row"),e.DNE(7,mt,3,0,"ion-col",195),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(5),e.Y8G("ngIf","group"==t.selectedChat.chat_type&&"0"==(null==t.selectedChat?null:t.selectedChat.encryptid)&&("1"==t.localStorage.getItem("Role")||"2"==t.localStorage.getItem("Role"))),e.R7$(2),e.Y8G("ngIf","group"==t.selectedChat.chat_type&&"1"==(null==t.selectedChat?null:t.selectedChat.encryptid)&&("1"==t.localStorage.getItem("Role")||"2"==t.localStorage.getItem("Role")))}}function gt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"ion-buttons",178)(2,"ion-icon",140),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onIndividualChatBack())}),e.EFF(3,"back"),e.k0s()(),e.j41(4,"ion-row")(5,"ion-col",179),e.DNE(6,rt,2,0,"ion-img",180)(7,ct,2,0,"ion-img",181)(8,lt,2,0,"div",182),e.k0s(),e.j41(9,"ion-col",183)(10,"ion-row",184)(11,"ion-col",185)(12,"div")(13,"div",76)(14,"span"),e.EFF(15),e.k0s()(),e.DNE(16,pt,2,1,"div",46),e.k0s()(),e.j41(17,"ion-col",186),e.nrm(18,"ion-icon",142),e.k0s()()()(),e.j41(19,"ion-popover",187),e.DNE(20,ht,8,2,"ng-template"),e.k0s(),e.nrm(21,"ion-buttons",188),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(6),e.Y8G("ngIf","group"==(null==t.selectedChat?null:t.selectedChat.chat_type)),e.R7$(),e.Y8G("ngIf","individual"==(null==t.selectedChat?null:t.selectedChat.chat_type)),e.R7$(),e.Y8G("ngIf",1==(null==t.selectedChat?null:t.selectedChat.encryptid)),e.R7$(7),e.JRh(null==t.selectedChat?null:t.selectedChat.executives_name),e.R7$(),e.Y8G("ngIf","group"==(null==t.selectedChat?null:t.selectedChat.chat_type))}}function ut(i,s){if(1&i&&(e.j41(0,"span",208),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.JRh(t.selectedMessage.selectedMessageId.length)}}function ft(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.selectedMessage.selectedAttachmentId.length," ")}}function Ct(i,s){if(1&i&&e.DNE(0,ft,2,1,"span",209),2&i){e.XpG();const t=e.sdS(9),o=e.XpG(2);e.Y8G("ngIf",0!=o.selectedMessage.selectedAttachmentId.length)("ngIfElse",t)}}function xt(i,s){1&i&&(e.j41(0,"p"),e.EFF(1,"0"),e.k0s())}function bt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-col",199),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onDeleteMessage())}),e.nrm(1,"ion-icon",210),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("ngClass",t.ishideDelete||t.selectedMessageId.length>1?"pointerEvent":"")}}function vt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-col",213),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onEditMessage())}),e.j41(1,"span"),e.EFF(2,"Edit"),e.k0s()()}}function wt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",212),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onMessageInfo())}),e.j41(2,"span",154),e.EFF(3,"Info"),e.k0s()()()}}function kt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row"),e.DNE(1,vt,3,0,"ion-col",211),e.k0s(),e.j41(2,"ion-row")(3,"ion-col",212),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onCopyMessage(""))}),e.j41(4,"span",154),e.EFF(5,"Copy"),e.k0s()()(),e.DNE(6,wt,4,0,"ion-row",24)}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.isreceiver&&!t.ishideEdit),e.R7$(5),e.Y8G("ngIf",t.mesgContent.sender_id.toString()===t.localStorage.getItem("UserId"))}}function It(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"div")(2,"ion-row")(3,"ion-col",196),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onDeleteHeaderRemove())}),e.nrm(4,"ion-icon",197),e.DNE(5,ut,2,1,"span",198)(6,Ct,1,2,"ng-template",null,10,e.C5r)(8,xt,2,0,"ng-template",null,11,e.C5r),e.k0s(),e.j41(10,"ion-col",199),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReplymsg())}),e.nrm(11,"ion-img",200)(12,"ion-img",201),e.k0s(),e.j41(13,"ion-col",199),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReplymsgWithCopy())}),e.nrm(14,"ion-img",202),e.k0s(),e.DNE(15,bt,2,1,"ion-col",203),e.j41(16,"ion-col",199),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onForwordMessage())}),e.nrm(17,"ion-img",204)(18,"ion-img",205),e.k0s(),e.j41(19,"ion-col",206),e.nrm(20,"ion-icon",142),e.k0s(),e.j41(21,"ion-popover",207),e.DNE(22,kt,7,2,"ng-template"),e.k0s()()()()}if(2&i){const t=e.sdS(7),o=e.XpG(2);e.R7$(5),e.Y8G("ngIf",0!=o.selectedMessage.selectedMessageId.length)("ngIfElse",t),e.R7$(5),e.Y8G("ngClass",o.selectedMessageId.length>1?"pointerEvent":""),e.R7$(3),e.Y8G("ngClass",o.selectedMessageId.length>1?"pointerEvent":""),e.R7$(2),e.Y8G("ngIf",o.isreceiver),e.R7$(),e.Y8G("ngClass",o.selectedMessage.selectedAttachmentId.length>=1?"pointerEvent":""),e.R7$(3),e.Y8G("ngClass",o.selectedMessageId.length>1||o.selectedMessage.selectedAttachmentId.length>=1?"pointerEvent":"")}}function Gt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"div",214)(2,"ion-icon",140),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.isOnetoOneChatSearch=!1,n.oneToOneSearchName="",e.Njj(n.currentMatchIndex=-1)}),e.k0s(),e.j41(3,"ion-searchbar",215),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.DH7(a.oneToOneSearchName,n)||(a.oneToOneSearchName=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onOneToOneSearchChange())})("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onOneToOneSearchEnter(n))}),e.k0s(),e.j41(4,"ion-icon",216),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateMatch("prev"))}),e.k0s(),e.j41(5,"ion-icon",217),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateMatch("next"))}),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.oneToOneSearchName),e.Y8G("showClearButton","never")("showCancelButton",!1)}}function Mt(i,s){1&i&&(e.j41(0,"div",32),e.nrm(1,"ion-img",33),e.k0s())}function jt(i,s){1&i&&(e.j41(0,"div",218),e.EFF(1," Not found "),e.k0s())}function yt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",219),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.isLoading=!0,e.Njj(n.getOneToOneAndGroupChat("group"===n.selectedChat.chat_type?n.selectedChat.chat_id:n.selectedChat.executives_IDPK,"group"===n.selectedChat.chat_type?"group":"individual",!0))}),e.j41(1,"span",220),e.EFF(2," Click here to Load More "),e.k0s()()}}function Tt(i,s){1&i&&(e.j41(0,"div",221)(1,"span",222),e.nrm(2,"i",223),e.EFF(3,"24 hours disappearing Enabled"),e.k0s()())}function St(i,s){1&i&&(e.j41(0,"div",102),e.nrm(1,"ion-spinner",224),e.k0s())}function Rt(i,s){if(1&i&&(e.j41(0,"div",225)(1,"span",103),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.currentDateLabel," ")}}function Nt(i,s){if(1&i&&(e.j41(0,"div",230)(1,"span",103),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(2),e.SpI(" ",(t.event_admin_id==o.localStorage.getItem("UserId")?"You":t.event_admin_name)+" removed "+(t.event_user_id==o.localStorage.getItem("UserId")?"You":t.event_user_name)," ")}}function Ft(i,s){if(1&i&&(e.j41(0,"div",230)(1,"span",103),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(2),e.SpI(" ",(t.event_user_id==o.localStorage.getItem("UserId")?"You":t.event_user_name)+" left "," ")}}function Pt(i,s){if(1&i&&(e.j41(0,"div",231,12)(2,"span",103),e.EFF(3),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",t.created_at," ")}}function Et(i,s){1&i&&e.nrm(0,"ion-icon",241)}function $t(i,s){1&i&&(e.j41(0,"span",242)(1,"span",243),e.qSk(),e.j41(2,"svg",244),e.nrm(3,"path",245)(4,"path",246),e.k0s()(),e.joV(),e.j41(5,"span",247),e.qSk(),e.j41(6,"svg",248),e.nrm(7,"path",245)(8,"path",246),e.k0s()()())}function Ot(i,s){if(1&i&&(e.j41(0,"span",254),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t.sender_name)}}function Dt(i,s){if(1&i&&e.nrm(0,"ion-img",260),2&i){const t=e.XpG(4).$implicit;e.Y8G("photoGallery","https://chat.right2shout.in"+t.attachment_path)("src","https://chat.right2shout.in"+t.attachment_path)}}function Bt(i,s){if(1&i&&(e.j41(0,"span",103),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5).$implicit;e.R7$(),e.SpI(" ",t.attachment_name,"")}}function Xt(i,s){if(1&i){const t=e.RV6();e.j41(0,"a",261),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,a=e.XpG(2);return e.Njj(a.downloadFileFromUrl(n.attachment_path,n.attachment_name))}),e.nrm(1,"ion-img",262),e.DNE(2,Bt,2,1,"span",263),e.k0s()}if(2&i){const t=e.XpG(4).$implicit;e.Y8G("href","https://chat.right2shout.in/"+t.attachment_path,e.B4B),e.R7$(2),e.Y8G("ngIf",null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".pdf"))}}function Yt(i,s){if(1&i){const t=e.RV6();e.j41(0,"video",264,13),e.bIt("touchstart",function(){e.eBV(t);const n=e.XpG(6);return e.Njj(n.goFullScreen())}),e.nrm(2,"source",265),e.EFF(3," Your browser does not support the video tag. "),e.k0s()}if(2&i){const t=e.XpG(4).$implicit;e.R7$(2),e.Y8G("src","https://chat.right2shout.in"+t.attachment_path,e.B4B)}}function Vt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",266),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,a=e.XpG(2);return e.Njj(a.scrollToReplyMsg(n))}),e.j41(1,"ion-row")(2,"ion-col",267),e.EFF(3),e.k0s()(),e.j41(4,"ion-row",268)(5,"ion-col",269),e.EFF(6),e.k0s()()()}if(2&i){const t=e.XpG(4).$implicit,o=e.XpG(2);e.R7$(3),e.JRh(o.localStorage.getItem("UserId")==t.replied_to_whomid?"You":t.replied_to_whom),e.R7$(3),e.JRh(t.replied_message)}}function At(i,s){1&i&&(e.j41(0,"ion-row",270)(1,"ion-col"),e.nrm(2,"ion-img",271),e.EFF(3," forwarded "),e.k0s()())}function zt(i,s){if(1&i){const t=e.RV6();e.j41(0,"span",275),e.nI1(1,"highlight"),e.bIt("longPress",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(7);return e.Njj(a.onCopyMessage(n.text))})("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(7);return e.Njj(a.onNumberClick(n.text))}),e.k0s()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(7);e.Y8G("innerHTML",e.i5U(1,1,t.text,o.oneToOneSearchName),e.npT)}}function Ut(i,s){if(1&i&&(e.nrm(0,"span",276),e.nI1(1,"highlight")),2&i){const t=e.XpG().$implicit,o=e.XpG(7);e.Y8G("innerHTML",e.i5U(1,1,t.text,o.oneToOneSearchName),e.npT)}}function Lt(i,s){if(1&i&&(e.qex(0),e.DNE(1,zt,2,4,"span",273)(2,Ut,2,4,"span",274),e.bVm()),2&i){const t=s.$implicit;e.R7$(),e.Y8G("ngIf",t.isPhoneNumber),e.R7$(),e.Y8G("ngIf",!t.isPhoneNumber)}}function Ht(i,s){if(1&i&&(e.j41(0,"ion-col",null,14)(2,"div",272),e.DNE(3,Lt,3,2,"ng-container",90),e.nI1(4,"lineBreaks"),e.k0s()()),2&i){const t=e.XpG(4).$implicit;e.R7$(2),e.Y8G("title",t.content),e.R7$(),e.Y8G("ngForOf",e.bMT(4,2,t.content))}}function qt(i,s){if(1&i&&(e.j41(0,"span"),e.DNE(1,Dt,1,2,"ion-img",255)(2,Xt,3,2,"a",256)(3,Yt,4,1,"video",257)(4,Vt,7,2,"div",258)(5,At,4,0,"ion-row",259),e.j41(6,"ion-row"),e.DNE(7,Ht,5,4,"ion-col",24),e.k0s()()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngIf",(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".jpg"))||(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".jpeg"))||(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".png"))),e.R7$(),e.Y8G("ngIf",null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".pdf")),e.R7$(),e.Y8G("ngIf",t.attachment_path&&(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".mp4"))),e.R7$(),e.Y8G("ngIf",t.reply_id),e.R7$(),e.Y8G("ngIf","1"==t.forwarded),e.R7$(2),e.Y8G("ngIf",t.content)}}function Jt(i,s){1&i&&(e.j41(0,"ion-row",277)(1,"ion-col",43)(2,"span",278),e.nrm(3,"ion-icon",279),e.EFF(4," This message was deleted. "),e.k0s()()())}function Kt(i,s){1&i&&(e.j41(0,"span",280),e.EFF(1,"Edited"),e.k0s())}function Wt(i,s){if(1&i&&(e.j41(0,"div",249),e.DNE(1,Ot,2,1,"span",250)(2,qt,8,6,"span",24)(3,Jt,5,0,"ion-row",251),e.j41(4,"ion-row")(5,"ion-col",252),e.DNE(6,Kt,2,0,"span",253),e.j41(7,"span"),e.EFF(8),e.nI1(9,"date"),e.k0s()()()()),2&i){const t=e.XpG(2).$implicit,o=e.XpG(2);e.R7$(),e.Y8G("ngIf","group"==(null==o.selectedChat?null:o.selectedChat.chat_type)),e.R7$(),e.Y8G("ngIf",1!=t.deleted),e.R7$(),e.Y8G("ngIf",1==t.deleted),e.R7$(3),e.Y8G("ngIf","1"==t.edited),e.R7$(2),e.JRh(e.i5U(9,5,t.created_at,"hh:mm a"))}}function Qt(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-item-sliding",232),e.bIt("ionSwipe",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return a.onMessageLongPress(n),e.Njj(a.onReplymsg())}),e.j41(1,"ion-item",233)(2,"ion-row",234)(3,"ion-col",235)(4,"div",236),e.DNE(5,Et,1,0,"ion-icon",237)(6,$t,9,0,"span",238)(7,Wt,10,8,"div",239),e.k0s()()()(),e.nrm(8,"ion-item-options",240),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.R7$(5),e.Y8G("ngIf","member_removed"!==t.item_type),e.R7$(),e.Y8G("ngIf","member_removed"!==t.item_type),e.R7$(),e.Y8G("ngIf","member_removed"!==t.item_type)}}function Zt(i,s){if(1&i&&e.nrm(0,"ion-img",260),2&i){const t=e.XpG(3).$implicit;e.Y8G("photoGallery","https://chat.right2shout.in"+t.attachment_path)("src","https://chat.right2shout.in"+t.attachment_path)}}function en(i,s){if(1&i&&(e.j41(0,"span",103),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4).$implicit;e.R7$(),e.SpI(" ",t.attachment_name,"")}}function tn(i,s){if(1&i){const t=e.RV6();e.j41(0,"a",293),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3).$implicit,a=e.XpG(2);return e.Njj(a.downloadFileFromUrl(n.attachment_path,n.attachment_name))}),e.nrm(1,"ion-img",262),e.DNE(2,en,2,1,"span",263),e.k0s()}if(2&i){const t=e.XpG(3).$implicit;e.Y8G("href","https://chat.right2shout.in/"+t.attachment_path,e.B4B),e.R7$(2),e.Y8G("ngIf",null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".pdf"))}}function nn(i,s){if(1&i){const t=e.RV6();e.j41(0,"video",264,13),e.bIt("touchstart",function(){e.eBV(t);const n=e.XpG(5);return e.Njj(n.goFullScreen())}),e.nrm(2,"source",265),e.EFF(3," Your browser does not support the video tag. "),e.k0s()}if(2&i){const t=e.XpG(3).$implicit;e.R7$(2),e.Y8G("src","https://chat.right2shout.in"+t.attachment_path,e.B4B)}}function on(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",294),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3).$implicit,a=e.XpG(2);return e.Njj(a.scrollToReplyMsg(n))}),e.j41(1,"ion-row")(2,"ion-col",267),e.EFF(3),e.k0s()(),e.j41(4,"ion-row",268)(5,"ion-col",269),e.EFF(6),e.k0s()()()}if(2&i){const t=e.XpG(3).$implicit,o=e.XpG(2);e.R7$(3),e.JRh("msg.replied_to_whomid"==o.localStorage.getItem("UserId")?"You":t.replied_to_whom),e.R7$(3),e.SpI(" ",t.replied_message,"")}}function an(i,s){1&i&&(e.j41(0,"ion-row",270)(1,"ion-col"),e.nrm(2,"ion-img",271),e.EFF(3," forwarded "),e.k0s()())}function sn(i,s){if(1&i){const t=e.RV6();e.j41(0,"span",275),e.nI1(1,"highlight"),e.bIt("longPress",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(6);return e.Njj(a.onCopyMessage(n.text))})("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(6);return e.Njj(a.onNumberClick(n.text))}),e.k0s()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(6);e.Y8G("innerHTML",e.i5U(1,1,t.text,o.oneToOneSearchName),e.npT)}}function rn(i,s){if(1&i&&(e.nrm(0,"span",276),e.nI1(1,"highlight")),2&i){const t=e.XpG().$implicit,o=e.XpG(6);e.Y8G("innerHTML",e.i5U(1,1,t.text,o.oneToOneSearchName),e.npT)}}function cn(i,s){if(1&i&&(e.qex(0),e.DNE(1,sn,2,4,"span",273)(2,rn,2,4,"span",274),e.bVm()),2&i){const t=s.$implicit;e.R7$(),e.Y8G("ngIf",t.isPhoneNumber),e.R7$(),e.Y8G("ngIf",!t.isPhoneNumber)}}function ln(i,s){if(1&i&&(e.j41(0,"ion-row")(1,"ion-col")(2,"div",272),e.DNE(3,cn,3,2,"ng-container",90),e.nI1(4,"lineBreaks"),e.k0s()()()),2&i){const t=e.XpG(3).$implicit;e.R7$(2),e.Y8G("title",t.content),e.R7$(),e.Y8G("ngForOf",e.bMT(4,2,t.content))}}function _n(i,s){if(1&i&&(e.j41(0,"span"),e.DNE(1,Zt,1,2,"ion-img",255)(2,tn,3,2,"a",291)(3,nn,4,1,"video",257)(4,on,7,2,"div",292)(5,an,4,0,"ion-row",259)(6,ln,5,4,"ion-row",24),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".jpg"))||(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".jpeg"))||(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".png"))),e.R7$(),e.Y8G("ngIf",null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".pdf")),e.R7$(),e.Y8G("ngIf",t.attachment_path&&(null==t.attachment_name?null:t.attachment_name.toLowerCase().endsWith(".mp4"))),e.R7$(),e.Y8G("ngIf",t.reply_id),e.R7$(),e.Y8G("ngIf","1"==t.forwarded),e.R7$(),e.Y8G("ngIf",t.content)}}function pn(i,s){1&i&&(e.j41(0,"ion-row",277)(1,"ion-col",43)(2,"span",295),e.nrm(3,"ion-icon",279),e.EFF(4," You deleted this message. "),e.k0s()()())}function dn(i,s){1&i&&(e.j41(0,"span",280),e.EFF(1,"Edited"),e.k0s())}function mn(i,s){1&i&&e.nrm(0,"ion-img",296)}function hn(i,s){1&i&&e.nrm(0,"ion-icon",297)}function gn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-item-sliding",232),e.bIt("ionSwipe",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return a.onMessageLongPress(n),e.Njj(a.onReplymsg())}),e.j41(1,"ion-item",233)(2,"ion-row",281)(3,"ion-col",282)(4,"span",243),e.qSk(),e.j41(5,"svg",283),e.nrm(6,"path",284)(7,"path",285),e.k0s()(),e.joV(),e.j41(8,"span",247),e.qSk(),e.j41(9,"svg",286),e.nrm(10,"path",284)(11,"path",285),e.k0s()(),e.joV(),e.j41(12,"div",287),e.DNE(13,_n,7,6,"span",24)(14,pn,5,0,"ion-row",251),e.j41(15,"ion-row")(16,"ion-col",288),e.DNE(17,dn,2,0,"span",253),e.j41(18,"span"),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.DNE(21,mn,1,0,"ion-img",289)(22,hn,1,0,"ion-icon",290),e.k0s()()()()()(),e.nrm(23,"ion-item-options",240),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.R7$(13),e.Y8G("ngIf",1!=t.deleted),e.R7$(),e.Y8G("ngIf",1==t.deleted),e.R7$(3),e.Y8G("ngIf","1"==t.edited),e.R7$(2),e.JRh(e.i5U(20,6,t.created_at,"hh:mm a")),e.R7$(2),e.Y8G("ngIf",""!=t.item_id),e.R7$(),e.Y8G("ngIf",""==t.item_id)}}function un(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",226),e.bIt("longPress",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(0==n.deleted||null==n.deleted?a.onMessageLongPress(n):"")})("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(0==n.deleted||null==n.deleted?a.onMessageClick(n):"")}),e.DNE(1,Nt,3,1,"div",227)(2,Ft,3,1,"div",227)(3,Pt,4,1,"div",228)(4,Qt,9,3,"ion-item-sliding",229)(5,gn,24,9,"ion-item-sliding",229),e.k0s()}if(2&i){const t=s.$implicit,o=s.index,n=e.XpG(2);e.Y8G("ngClass",e.l_i(8,q,-1!==n.currentMatchIndex&&n.matchedIndexes[n.currentMatchIndex]===o||n.reply_msg_index===o||n.msg_id===t.item_id&&""!=n.chatSearchedName,"attachment"===t.message_type?n.selectedMessage.selectedAttachmentId.includes(t.item_id):n.selectedMessage.selectedMessageId.includes(t.item_id))),e.BMQ("data-index",o)("data-id-index",t.item_id),e.R7$(),e.Y8G("ngIf","member_removed"===t.item_type),e.R7$(),e.Y8G("ngIf","member_left"===t.item_type),e.R7$(),e.Y8G("ngIf","message_date"==t.item_type),e.R7$(),e.Y8G("ngIf",n.localStorage.getItem("Name")!==t.sender_name&&"member_left"!==t.item_type&&"member_removed"!==t.item_type&&"message_date"!==t.item_type),e.R7$(),e.Y8G("ngIf",n.localStorage.getItem("Name")===t.sender_name&&"member_left"!==t.item_type&&"member_removed"!==t.item_type&&"message_date"!==t.item_type)}}function fn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-fab",298)(1,"ion-fab-button",299),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.scrollMoveToBottom())}),e.nrm(2,"i",300),e.k0s()()}}function Cn(i,s){1&i&&(e.j41(0,"div",301)(1,"span",103),e.EFF(2," You can't send messages to this group because you're no longer a member. "),e.k0s()())}function xn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row",184)(1,"ion-col")(2,"div",311)(3,"ion-row")(4,"ion-col",312),e.EFF(5),e.k0s(),e.j41(6,"ion-col",313),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.remove_reply_text())}),e.nrm(7,"ion-icon",314),e.k0s()(),e.j41(8,"ion-row",268)(9,"ion-col",269),e.EFF(10),e.k0s()()()()()}if(2&i){const t=e.XpG(3);e.R7$(5),e.JRh(t.localStorage.getItem("Name")===(null==t.reply_text||null==t.reply_text[0]?null:t.reply_text[0].sender_name)?"you":null==t.reply_text||null==t.reply_text[0]?null:t.reply_text[0].sender_name),e.R7$(5),e.SpI(" ","attachment"==(null==t.reply_text||null==t.reply_text[0]?null:t.reply_text[0].item_type)?"photo":null==t.reply_text||null==t.reply_text[0]?null:t.reply_text[0].content," ")}}function bn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",43)(2,"ion-row",302),e.DNE(3,xn,11,2,"ion-row",303),e.j41(4,"ion-row",184)(5,"ion-col",304)(6,"input",305,15),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.handleFile(n))}),e.k0s(),e.j41(8,"ion-icon",306),e.bIt("click",function(){e.eBV(t);const n=e.sdS(7);return e.Njj(n.click())}),e.k0s()(),e.j41(9,"ion-col",307)(10,"ion-textarea",308,16),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.DH7(a.message,n)||(a.message=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG(2);return n.selectedMessageId=[],e.Njj(n.checkTextareaHeight())}),e.k0s()()()()(),e.j41(12,"ion-col",309),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(0!==a.message.trim().length?a.sendMessage(n):"")}),e.nrm(13,"i",310),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.isReply_msg),e.R7$(2),e.AVh("grow",t.checkTextareaHeight()),e.R7$(5),e.R50("ngModel",t.message),e.R7$(2),e.Y8G("ngClass",e.sMw(5,J,!t.checkTextareaHeight(),t.checkTextareaHeight(),t.removePointerEvent()))}}function vn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-header"),e.DNE(1,gt,22,5,"ion-toolbar",24)(2,It,23,7,"ion-toolbar",24)(3,Gt,6,3,"ion-toolbar",24),e.k0s(),e.DNE(4,Mt,2,0,"div",18)(5,jt,2,0,"div",168),e.j41(6,"ion-content",169,9),e.bIt("ionScroll",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onScroll(n))}),e.DNE(8,yt,3,0,"div",170)(9,Tt,4,0,"div",171)(10,St,2,0,"div",172)(11,Rt,3,1,"div",173)(12,un,6,11,"div",174)(13,fn,3,0,"ion-fab",175),e.k0s(),e.j41(14,"ion-footer",176),e.DNE(15,Cn,3,0,"div",177)(16,bn,14,9,"ion-row",24),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.isOnetoOneChatSearch&&0==t.selectedMessageId.length&&0==t.selectedMessage.selectedAttachmentId.length),e.R7$(),e.Y8G("ngIf",0!=t.selectedMessageId.length||0!=t.selectedMessage.selectedAttachmentId.length),e.R7$(),e.Y8G("ngIf",t.isOnetoOneChatSearch),e.R7$(),e.Y8G("ngIf",t.showSpinner),e.R7$(),e.Y8G("ngIf",t.oneToOneSearchName&&t.showNotFound),e.R7$(3),e.Y8G("ngIf",t.isAtTop&&null!=(null==t.one2onelastmsgdate||null==t.one2onelastmsgdate[0]?null:t.one2onelastmsgdate[0].last_message_date)&&!t.isLoading),e.R7$(),e.Y8G("ngIf","1"!=t.localStorage.getItem("Role")&&"2"!=t.localStorage.getItem("Role")&&"group"==t.selectedChat.chat_type&&1==(null==t.selectedChat?null:t.selectedChat.encryptid)),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isAtTop),e.R7$(),e.Y8G("ngForOf",t.one2oneChats)("ngForTrackBy",t.trackByMsgId),e.R7$(),e.Y8G("ngIf",!t.isAtBottom),e.R7$(2),e.Y8G("ngIf",!t.isMember&&"group"===t.selectedChat.chat_type),e.R7$(),e.Y8G("ngIf",t.isMember||"group"!==t.selectedChat.chat_type)}}function wn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",315)(1,"div",316)(2,"div",317),e.nrm(3,"ion-img",318),e.j41(4,"ion-icon",319),e.bIt("click",function(){e.eBV(t);const n=e.sdS(6);return e.Njj(n.click())}),e.k0s(),e.nrm(5,"input",320,17),e.k0s(),e.j41(7,"ion-input",321),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.createNewGroup.groupname,n)||(a.createNewGroup.groupname=n),e.Njj(n)}),e.k0s(),e.j41(8,"ion-button",322),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createNewGroupChat())}),e.EFF(9,"Create a Group"),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.createNewGroup.groupname),e.R7$(),e.Y8G("disabled",0===t.createNewGroup.groupname.trim().length)}}function kn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col"),e.EFF(2),e.j41(3,"span"),e.EFF(4,"Selected"),e.k0s()(),e.j41(5,"ion-col")(6,"ion-button",324),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGroupNaming())}),e.EFF(7," Next "),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.selectedUsers.length,""),e.R7$(4),e.Y8G("disabled",t.selectedUsers.length<2)}}function In(i,s){if(1&i&&(e.j41(0,"div",323),e.DNE(1,kn,8,2,"ion-row",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0!=t.selectedUsers.length&&"true"==t.filterParams.isnewGroupCreation&&"true"!=t.filterParams.isGroupNaming)}}function Gn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"ion-row")(2,"ion-col",325),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.ondialCall())}),e.j41(3,"span",154),e.EFF(4),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",326),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCopyMessage(n.dialNumber))}),e.j41(7,"span",154),e.EFF(8,"Copy phone number"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.SpI("Dial "," "+t.dialNumber,"")}}function Mn(i,s){if(1&i&&(e.j41(0,"div",339)(1,"ion-row")(2,"ion-col",312)(3,"span"),e.EFF(4),e.k0s()()(),e.j41(5,"ion-row",268)(6,"ion-col",269)(7,"span"),e.EFF(8),e.k0s()()()()),2&i){const t=e.XpG(2);e.R7$(4),e.JRh(t.localStorage.getItem("Name")===(null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].sender_name)?"you":null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].sender_name),e.R7$(4),e.JRh(null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].replied_message)}}function jn(i,s){if(1&i&&(e.j41(0,"ion-col",null,14)(2,"span",103),e.EFF(3),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" ",null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].content," ")}}function yn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",327)(2,"ion-row")(3,"ion-col",117)(4,"ion-icon",140),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onEdit_msg_back())}),e.EFF(5,"back"),e.k0s()(),e.j41(6,"ion-col",328)(7,"span"),e.EFF(8,"Edit message"),e.k0s()()()()(),e.j41(9,"ion-content",329)(10,"ion-row",330)(11,"ion-col",331),e.qSk(),e.j41(12,"svg",332),e.nrm(13,"path",284)(14,"path",285),e.k0s(),e.joV(),e.j41(15,"span",247),e.qSk(),e.j41(16,"svg",248),e.nrm(17,"path",245)(18,"path",246),e.k0s()(),e.joV(),e.j41(19,"div",333),e.DNE(20,Mn,9,2,"div",334),e.j41(21,"ion-row"),e.DNE(22,jn,4,1,"ion-col",24),e.k0s()()()()(),e.j41(23,"ion-footer",335)(24,"ion-row")(25,"ion-col")(26,"ion-textarea",336,16),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.message,n)||(a.message=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedMessageId=[])}),e.k0s()(),e.j41(28,"ion-col",337),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.sendMessage(n))}),e.nrm(29,"ion-icon",338),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(20),e.Y8G("ngIf",null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].replied_to_whomid),e.R7$(2),e.Y8G("ngIf",null==t.edit_text||null==t.edit_text[0]?null:t.edit_text[0].content),e.R7$(4),e.R50("ngModel",t.message)}}function Tn(i,s){if(1&i&&(e.j41(0,"ion-row")(1,"ion-col",88),e.nrm(2,"ion-img",123),e.k0s(),e.j41(3,"ion-col")(4,"div")(5,"span",348),e.EFF(6),e.k0s()(),e.j41(7,"div",349)(8,"span",103),e.EFF(9),e.k0s()()()()),2&i){const t=s.$implicit;e.R7$(6),e.JRh(t.reciever_name),e.R7$(3),e.JRh(t.read_at)}}function Sn(i,s){if(1&i&&(e.j41(0,"ion-row")(1,"ion-col",88),e.nrm(2,"ion-img",123),e.k0s(),e.j41(3,"ion-col")(4,"div")(5,"span",348),e.EFF(6),e.k0s()(),e.j41(7,"div",349)(8,"span",103),e.EFF(9),e.k0s()()()()),2&i){const t=s.$implicit;e.R7$(6),e.JRh(t.reciever_name),e.R7$(3),e.JRh(t.delivered_at)}}function Rn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-header",340)(1,"ion-row")(2,"ion-col",341),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onInfoModalBack())}),e.j41(3,"ion-icon",197),e.EFF(4,"back"),e.k0s()(),e.j41(5,"ion-col")(6,"span",129),e.EFF(7,"Message info"),e.k0s()()()(),e.j41(8,"ion-content")(9,"div",176)(10,"ion-row",342)(11,"ion-col",343)(12,"div",344)(13,"p",103),e.EFF(14),e.k0s(),e.j41(15,"ion-row")(16,"ion-col",288)(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()()()()()()(),e.j41(20,"ion-card")(21,"div",345),e.EFF(22),e.nrm(23,"ion-img",346),e.k0s(),e.DNE(24,Tn,10,2,"ion-row",90),e.k0s(),e.j41(25,"ion-card")(26,"div",345),e.EFF(27),e.nrm(28,"ion-img",347),e.k0s(),e.DNE(29,Sn,10,2,"ion-row",90),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(14),e.JRh(t.messageInfoData.Message),e.R7$(4),e.JRh(e.i5U(19,6,t.messageInfoData.created_at,"hh:mm a")),e.R7$(4),e.SpI(" ","group"==t.selectedChat.chat_type?"Read by":"Read"," "),e.R7$(2),e.Y8G("ngForOf",t.messageInfoData.Read),e.R7$(3),e.SpI(" ","group"==t.selectedChat.chat_type?"Delivered to":"Delivered"," "),e.R7$(2),e.Y8G("ngForOf",t.messageInfoData.Delivered)}}let Nn=(()=>{var i;class s{get isNewGroupCreationType(){return typeof this.filterParams.isnewGroupCreation}constructor(o,n,a,r,c,l,p,d,m,u,g){this.toastController=o,this._echoService=n,this.popoverController=a,this.location=r,this.menuCtrl=c,this.cdr=l,this.router=p,this.activeRoute=d,this.animationCtrl=m,this.sharedService=u,this.gestureCtrl=g,this.scrollToTop=new e.bkB,this.selectedMessageId=[],this.isAtBottom=!1,this.currentMatchIndex=-1,this.matchedIndexes=[],this.searchVisible=!1,this.searchAnimationClass="",this.isMember=!0,this.isAdmin=!1,this.isreceiver=!1,this.isLoading=!1,this.activeDateLabel="asdhj",this.isOnetoOneChatSearch=!1,this.deleteGroupMember={senderid:localStorage.getItem("UserId"),memberid:"",groupid:"",actiontype:""},this.chatFilterSelectedValue="all",this.chatSearchedName="",this.localStorage=localStorage,this.showSpinner=!1,this.one2oneChats=[],this.message="",this.filterParams={one2oneChats:"",isnewGroupCreation:"",isGroupNaming:""},this.selectedUsers=[],this.isGroupNaming=!1,this.createNewGroup={loginid:localStorage.getItem("UserId"),chattype:"gct",members:"",groupname:""},this.isOnCallDetailsPage=!1,this.isForwardMsg=!1,this.searchchatTrigger$=new N.B,this.isGroupNameEditing=!1,this.msg_id="",this.isSending=!1,this.searchResults=[],this.messageSearch=[],this.chatsSearch=[],this.messageSearch1=[],this.chatsSearch1=[],this.one2onelastmsgdate="",this.enterAnimation=C=>{const v=C.shadowRoot,w=this.animationCtrl.create().addElement(v.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),ci=this.animationCtrl.create().addElement(v.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return this.animationCtrl.create().addElement(C).easing("ease-out").duration(500).addAnimation([w,ci])},this.leaveAnimation=C=>this.enterAnimation(C).direction("reverse"),this.isReply_msg=!1,this.mesgContent=[],this.selectionModeStarted=!1,this.userIdType=typeof localStorage.getItem("UserId"),this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.ishideDelete=!1,this.ishideEdit=!1,this.forward_msg=[],this.isGroupNameChange=!1,this.showNotFound=!1,this.mainsearch=!1,this.showSpinner=!0,this.getAllChats()}ngOnInit(){this.activeRoute.queryParams.subscribe(o=>{this.isOnCallDetailsPage="true"==o.isOnCallDetailsPage,this.localStorage.removeItem("selectedChat"),this.isAdmin="1"===localStorage.getItem("Role")&&!localStorage.getItem("ranavPropId"),this.isOnetoOneChatSearch=!1,this.chatFilterSelectedValue="all","true"==o.isnewGroupCreation&&"true"==o.isGroupNaming?(this.filterParams.isGroupNaming="true",this.filterParams.isnewGroupCreation="false"):"true"==o.isnewGroupCreation?(this.filterParams.isGroupNaming="false",this.filterParams.isnewGroupCreation="true"):"true"==o.isGroupNaming?(this.filterParams.isGroupNaming="true",this.filterParams.isnewGroupCreation="false"):(this.filterParams.isGroupNaming="false",this.filterParams.isnewGroupCreation="false"),this.searchchatTrigger$.pipe((0,F.B)(1e3)).subscribe(()=>{this.onChatSearch()}),this._echoService.listenToChannel("database-changes",".DatabaseNotification",n=>{const a=localStorage.getItem("selectedChat");this.selectedChat=a?JSON.parse(a):null,this.one2oneChats||(this.one2oneChats=[]);const r=n[1];if(this.edit_text&&(this.one2oneChats=r.map(m=>{var u;return m.item_id===(null===(u=this.edit_text)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.item_id)?{...m,m}:m}),this.onEdit_msg_back()),Array.isArray(r)&&r.length>0){let m,u;if(r.length>1){let g;var c;if(this.selectedChat&&"individual"==this.selectedChat.chat_type)g=null===(c=this.allChats)||void 0===c?void 0:c.filter(C=>C.executives_IDPK==this.selectedChat.executives_IDPK),this.selectedChat=g[0];else if(this.selectedChat&&"group"==this.selectedChat.chat_type){var l;g=null===(l=this.allChats)||void 0===l?void 0:l.filter(C=>C.chat_id==this.selectedChat.chat_id),this.selectedChat=g[0]}m=r[r.length-1]}else 1==r.length&&(m=r[0]);var p,d;this.one2oneChats&&(u=this.one2oneChats.some(g=>g.item_id===m.item_id)),u||(m.chat_id==(null===(p=this.selectedChat)||void 0===p?void 0:p.chat_id)?(this.one2oneChats=this.one2oneChats.filter(g=>""!=g.item_id),this.one2oneChats.push(m),setTimeout(()=>{var g;this.updatedAsMessageRead(null===(g=this.selectedChat)||void 0===g?void 0:g.chat_id)},0)):1==r.length&&this.getChatListForFreshChat().subscribe(g=>{var C;this.executivesList=g.details,this.copyOfExecutivesList=g.details;let v=this.executivesList.filter(w=>w.executives_IDPK==("individual"==this.selectedChat.chat_type?this.selectedChat.executives_IDPK:this.selectedChat.chat_id));this.selectedChat=v[0],m.chat_id==(null===(C=v[0])||void 0===C?void 0:C.chat_id)&&(this.one2oneChats=this.one2oneChats.filter(w=>""!=w.item_id),this.one2oneChats.push(m),setTimeout(()=>{this.updatedAsMessageRead(this.selectedChat.chat_id)},0))}),r.length>1&&(m.chat_id!=(null===(d=this.selectedChat)||void 0===d?void 0:d.chat_id)||null==this.selectedChat)&&setTimeout(()=>{this.getAllChats()},1e3),this.scrollMoveToBottom())}})})}getChatListForFreshChat(){const o={loginid:localStorage.getItem("UserId")};return this.sharedService.fetchAllChats(o)}onIndividualChatBack(){this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.one2oneChats=[],this.selectedChat=[],this.chat_preview.dismiss(),this.localStorage.removeItem("selectedChat"),this.chatFilterSelectedValue="all",this.sharedService.emitunReadChatCountValue("true"),this.removeQuerryParam(),this.getAllChats()}onBackbutton(){this.chatSearchedName="",this.chatFilterSelectedValue="all",this.showSpinner=!0,this.getAllChats(),this.location.back()}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}openChat_previewModal(o){this.showSpinner=!0,this.one2onelastmsgdate="",this.selectedChat=o,this.localStorage.setItem("selectedChat",JSON.stringify(this.selectedChat)),this.message="",this.filterParams.one2oneChats="true",this.updatedAsMessageRead(this.selectedChat.chat_id),this.sharedService.emitunReadChatCountValue("true"),this.reply_text={},this.isReply_msg=!1,""!==this.chatSearchedName&&(this.msg_id=o.message_id),setTimeout(()=>{const n="group"===o.chat_type?this.getOneToOneAndGroupChat(o.chat_id,"group",""):this.getOneToOneAndGroupChat(o.executives_IDPK,"individual","");this.chat_preview.present().then(()=>{this.sharedService.unReadChatCount=0,setTimeout(()=>{Promise.resolve(n).then(()=>{const a=document.querySelector(`[data-id-index="${o.message_id}"]`);a?a.scrollIntoView({behavior:"smooth",block:"center"}):this.content.scrollToBottom(300)})},1e3),setTimeout(()=>{this.msg_id=""},2500)})},100),"group"===o.chat_type&&this.getGroupMembers()}getAllChats(){const o={loginid:localStorage.getItem("UserId"),logintype:localStorage.getItem("direct_inhouse"),propId:localStorage.getItem("PropertyId")};this.sharedService.fetchAllChats(o).subscribe(n=>{"True"!=n.status||"This Account is not allowed to access this feature"!=n.details&&"This Feature is Temporarily blocked"!=n.details?("true"==this.filterParams.isnewGroupCreation?(this.allChats=n.details.filter(a=>"group"!==a.chat_type),this.allChats1=this.allChats,this.showSpinner=!1):this.isGroupNameChange||this.isGroupNameEditing?(this.isGroupNameChange=!1,this.allChats=n.details,this.allChats1=n.details,this.selectedChat=n.details.filter(a=>{if(a.chat_id==this.selectedChat.chat_id)return a}),this.selectedChat=this.selectedChat[0],this.localStorage.setItem("selectedChat",JSON.stringify(this.selectedChat[0])),this.isGroupNameEditing&&(this.isGroupNameEditing=!this.isGroupNameEditing),this.groupName=this.selectedChat.executives_name,this.showSpinner=!1):(this.allChats=n.details,this.allChats1=this.allChats,this.showSpinner=!1),this.onChatFilterSelected(this.chatFilterSelectedValue)):b().fire({title:"Chat Blocked",text:"This Feature is Temporarily blocked",icon:"warning",allowEscapeKey:!1,allowOutsideClick:!1,showCloseButton:!0,showConfirmButton:!1,heightAuto:!1,backdrop:" rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon"}}).then(a=>{this.router.navigate(["home"],{queryParams:{htype:"mandate",propid:"28773"}})})})}removePointerEvent(){var o;return 0===(null===(o=this.message)||void 0===o?void 0:o.trim().length)}groupNameChanging(){this.showSpinner=!!this.isGroupNameEditing;const o={loginid:localStorage.getItem("UserId"),chattype:"gct",groupid:this.selectedChat.chat_id,groupname:this.groupName,edit_gn:"1"};this.sharedService.createNewGroupChat(o).subscribe(()=>{this.getAllChats()})}sendMessage(o){var n;if(null==this.one2oneChats&&(this.one2oneChats=[]),this.isSending||null===(n=this.message)||void 0===n||!n.trim())return;let a;var r,c,l,p;this.isSending=!0,this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},a="group"===this.selectedChat.chat_type?{senderid:localStorage.getItem("UserId"),chattype:"gmsg",groupid:this.selectedChat.chat_id,message:this.message,msgid:this.isReply_msg?null===(r=this.reply_text)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.item_id:this.edit_text?null===(c=this.edit_text)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.item_id:"",edit:this.edit_text?1:""}:{senderid:localStorage.getItem("UserId"),recieverid:this.selectedChat.executives_IDPK,message:this.message,msgid:this.isReply_msg?null===(l=this.reply_text)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.item_id:this.edit_text?null===(p=this.edit_text)||void 0===p?void 0:p[0].item_id:"",edit:this.edit_text?1:""};let d={chat_id:this.selectedChat.chat_id,content:this.message,created_at:(new Date).toISOString(),edited:0,item_id:"",item_type:"message",message_type:"text",sender_id:localStorage.getItem("UserId"),sender_name:localStorage.getItem("Name"),updated_at:(new Date).toISOString()};this.one2oneChats.push(d),this.scrollMoveToBottom();const m=this.message;this.message="",this.sharedService.oneToOneAndGroupChatCheck(a).subscribe({next:()=>{this.edit_text?this.editMessage.dismiss():this.reply_text?this.remove_reply_text():this.message=""},error:u=>{this.message=m},complete:()=>{this.isSending=!1}})}scrollMoveToBottom(){setTimeout(()=>{var o;null===(o=this.content)||void 0===o||o.scrollToBottom(300),this.cdr.detectChanges()},200)}onChatSearch(){if("true"==this.filterParams.isnewGroupCreation)this.allChats1=this.filterChat.filter(n=>{var a,r,c,l;return(null===(a=n.executives_name)||void 0===a?void 0:a.toLowerCase().includes(null===(r=this.chatSearchedName)||void 0===r?void 0:r.toLowerCase()))||(null===(c=n.latest_message_content)||void 0===c?void 0:c.toLowerCase().includes(null===(l=this.chatSearchedName)||void 0===l?void 0:l.toLowerCase()))});else{const n={searchTerm:this.chatSearchedName,loginid:this.localStorage.getItem("UserId")};this.showSpinner=!0,this.sharedService.searchCats(n).subscribe(a=>{var r,c,l,p;this.showSpinner=!1,this.searchResults=a,this.messageSearch=null===(r=a.details)||void 0===r?void 0:r.messages,this.messageSearch1=null===(c=a.details)||void 0===c?void 0:c.messages,this.chatsSearch=null===(l=a.details)||void 0===l?void 0:l.chats,this.chatsSearch1=null===(p=a.details)||void 0===p?void 0:p.chats})}}handleFile(o){const n=o.target,a=n.files;a&&Array.from(a).forEach(r=>{if(!["application/pdf","image/png","image/jpeg","video/mp4","video/quicktime","video/x-matroska","video/x-msvideo"].includes(r.type))return this.resetFileInput(n),void b().fire({title:"Invalid File Type",text:"Only PDF, PNG, JPEG, and video files are allowed.",icon:"error",showConfirmButton:!1,heightAuto:!1,timer:2e3,backdrop:"rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"error-icon"}});if(r.size>1e8)return this.resetFileInput(n),void b().fire({title:"File Size Exceeded",text:"File Size limit is 100MB",icon:"warning",showConfirmButton:!1,timer:1500,heightAuto:!1,backdrop:" rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon"}});const l=new FormData,p=localStorage.getItem("UserId"),d="group"===this.selectedChat.chat_type;l.append("senderid",p),l.append("message",this.message||""),l.append("attachment",r),d?(l.append("chattype","gpatch"),l.append("groupid",this.selectedChat.chat_id)):l.append("recieverid",this.selectedChat.executives_IDPK),this.sharedService.sendAttachment(l).subscribe(m=>{this.message="",this.getAllChats(),setTimeout(()=>{this.getOneToOneAndGroupChat(d?this.selectedChat.chat_id:this.selectedChat.executives_IDPK,d?"group":"individual",""),this.scrollMoveToBottom()},100),this.resetFileInput(n)})})}getOneToOneAndGroupChat(o,n,a,r){var c;null===(c=this.content)||void 0===c||c.getScrollElement().then(p=>{this.previousScrolHeight=p.scrollHeight});const l={loginid:localStorage.getItem("UserId"),recieverid:"individual"==n?o:"",chattype:"group"==n?"gcht":"",groupid:"group"==n?o:"",fromdate:r?this.convertedSearchedDate(r):this.gettingtwodaysDate(a).convertedfromdate,todate:r?(new Date).toLocaleDateString("en-CA"):this.gettingtwodaysDate(a).convertedtodate,encryptid:"group"==n?this.selectedChat.encryptid:""};return new Promise(p=>{this.sharedService.oneToOneAndGroupChat(l).subscribe(d=>{this.isLoading=!1,this.one2oneChats=a?null==d?void 0:d.details.concat(this.one2oneChats):d.details,this.one2onelastmsgdate=null==d?void 0:d.lastmsgdate,a&&setTimeout(()=>{this.content.getScrollElement().then(m=>{m.scrollTop=m.scrollHeight-this.previousScrolHeight,p(d)})},50),this.checkScrollPosition(),p(d)})})}checkScrollPosition(){this.content.getScrollElement().then(o=>{const n=o.scrollTop,a=o.scrollHeight,r=o.offsetHeight;a<=r?(this.isAtTop=!0,this.isAtBottom=!0):(this.isAtTop=0===n,this.isAtBottom=n+r>=a-100)})}trackByMsgId(o,n){return n.item_id}resetFileInput(o){o.value=""}newGroupCreation(){this.showSpinner=!0,this.selectedUsers=[],this.chatSearchedName="",this.sharedService.isnewGroupCreation=!0,this.filterParams.isnewGroupCreation="true",this.getAllChats(),this.router.navigate([],{queryParams:{isnewGroupCreation:!0},queryParamsHandling:"merge"})}onGroupNaming(){this.filterParams.isGroupNaming="true",this.router.navigate([],{queryParams:{isGroupNaming:!0},queryParamsHandling:"merge"})}createNewGroupChat(){this.sharedService.createNewGroupChat(this.createNewGroup).subscribe(o=>{}),this.chatSearchedName="",this.chatFilterSelectedValue="all",this.getAllChats(),this.router.navigate([],{queryParams:{isnewGroupCreation:null,isGroupNaming:null},queryParamsHandling:"merge"})}ongrpSelectionCheckboxChange(o,n){const a=this.selectedUsers.findIndex(c=>null!=c.group_name?c.chat_id===n.chat_id:c.executives_IDPK===n.executives_IDPK);-1===a?this.selectedUsers.push(n):this.selectedUsers.splice(a,1);const r=this.selectedUsers.map(c=>c.executives_IDPK).join(",");this.isForwardMsg||(this.createNewGroup.members=r)}isUserSelected(o){return this.selectedUsers.some(this.isForwardMsg?n=>null!=n.group_name?n.chat_id===o.chat_id:n.executives_IDPK===o.executives_IDPK:n=>n.executives_IDPK===o.executives_IDPK)}downloadFileFromUrl(o,n){const r=o;fetch("https://chat.right2shout.in"+o).then(c=>c.blob()).then(c=>{const l=window.URL.createObjectURL(c),p=document.createElement("a");p.href=l,p.download=r,p.click(),window.URL.revokeObjectURL(l)}).catch(c=>{console.error("Download failed:",c)})}goFullScreen(){const o=document.getElementById("myVideo");if(o)try{o.requestFullscreen?o.requestFullscreen():o.webkitEnterFullscreen?o.webkitEnterFullscreen():o.webkitRequestFullscreen?o.webkitRequestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.msRequestFullscreen&&o.msRequestFullscreen()}catch(n){console.error("Fullscreen failed:",n)}}removeQuerryParam(){this.activeRoute.queryParams.subscribe(o=>{this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{chatCallAssign:o.chatCallAssign||null,htype:o.htype||null},queryParamsHandling:"merge"})})}onChatFilterSelected(o){var n;this.scrollToTop.emit(),this.chatFilterSelectedValue=o,"Groups"==o?(this.allChats1=null===(n=this.allChats)||void 0===n?void 0:n.filter(a=>"group"==a.chat_type),this.filterChat=this.allChats1,"true"!==this.filterParams.isnewGroupCreation&&""!=this.chatSearchedName&&(this.messageSearch1=this.messageSearch.filter(a=>"group"==a.chat_type),this.chatsSearch1=this.chatsSearch.filter(a=>"group"==a.chat_type))):"all"==o?(this.filterChat=this.allChats,this.allChats1=this.allChats,this.messageSearch1=this.messageSearch,this.chatsSearch1=this.chatsSearch):"Unread"==o&&(this.allChats1=this.allChats.filter(a=>a.unreadcount>0),this.filterChat=this.allChats1,"true"!==this.filterParams.isnewGroupCreation&&""!=this.chatSearchedName&&(this.messageSearch1=this.messageSearch.filter(a=>a.unreadcount>0),this.chatsSearch1=this.chatsSearch.filter(a=>a.unreadcount>0)))}deleteMember(o){b().fire({title:"Are you sure?",text:`You want to remove ${null==o?void 0:o.membername}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",heightAuto:!1,cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!",backdrop:" rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon",confirmButton:"confirm-btn",cancelButton:"cancel-btn"}}).then(n=>{n.isConfirmed&&(this.deleteGroupMember.memberid=null==o?void 0:o.memberid,this.deleteGroupMember.groupid=null==o?void 0:o.groupid,this.deleteGroupMember.actiontype="remove",this.sharedService.deleteGroupMember(this.deleteGroupMember).subscribe(a=>{this.openChat_previewModal(this.selectedChat),this.getGroupMembers()}))})}leaveGroup(){this.isGroupAdmin?b().fire({title:"You are the Admin",text:"You Can't Exit from the Group",icon:"warning",showConfirmButton:!1,timer:1500,backdrop:" rgb(0 0 0 / 86%)",heightAuto:!1,customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon"}}):b().fire({title:"Are you sure?",text:"You want to Exit from the group?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",heightAuto:!1,cancelButtonColor:"#d33",confirmButtonText:"Yes",backdrop:" rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon",confirmButton:"confirm-btn",cancelButton:"cancel-btn"}}).then(o=>{o.isConfirmed&&(this.deleteGroupMember.memberid=this.localStorage.getItem("UserId"),this.deleteGroupMember.groupid=this.selectedChat.chat_id,this.deleteGroupMember.actiontype="leave",this.sharedService.deleteGroupMember(this.deleteGroupMember).subscribe(n=>{this.openChat_previewModal(this.selectedChat),this.getGroupMembers()}))})}openGroupInfo(){this.getAllChats(),this.getGroupMembers(),this.groupInfoModal.present()}getGroupMembers(){const o={senderid:localStorage.getItem("UserId"),groupid:this.selectedChat.chat_id,req:"gmbrlst"};this.sharedService.getGroupMembers(o).subscribe(n=>{var a;const r=this.localStorage.getItem("UserId");this.gpMembers=n.details,null===(a=n.details)||void 0===a||a.forEach(c=>{if(c.memberid==r){const l=this.gpMembers.findIndex(p=>p.memberid==r);l>-1&&this.gpMembers.splice(l,1),this.gpMembers.unshift(c)}c.memberid==this.localStorage.getItem("UserId")&&"1"==c.grouprole&&(this.isGroupAdmin=!0)}),this.gpMembers1=this.gpMembers,this.isMember=n.details.some(c=>c.memberid==r)})}onAddMember(){this.selectedUsers=[],this.allChats1=this.allChats.filter(o=>!this.gpMembers.some(n=>n.memberid===o.executives_IDPK)&&"group"!==o.chat_type),this.filterChat=this.allChats1,this.addMember.present()}addMembe1r(){this.createNewGroup.groupname=this.selectedChat.executives_name,this.sharedService.createNewGroupChat(this.createNewGroup).subscribe(o=>{"True"==o.status&&(this.getGroupMembers(),this.addMember.dismiss())})}searchMembers(){this.searchVisible=!0,this.searchAnimationClass="slide-in"}closeSearch(){this.onAddMember(),this.chatSearchedName="",this.searchAnimationClass="slide-out",setTimeout(()=>{this.searchVisible=!1,this.searchAnimationClass=""},300)}onGroupMemberSearch(){this.gpMembers1=this.gpMembers.filter(o=>o.membername.toLowerCase().includes(this.gpMemberSearchedName.toLowerCase()))}onAddMemberbackButton(){this.popoverController.dismiss(),this.getAllChats(),this.isForwardMsg=!1,this.selectedUsers=[],this.addMember.dismiss()}onOnetoOneChatSearch(){this.isOnetoOneChatSearch=!0,this.popoverController.dismiss()}onOneToOneSearchChange(){this.individualChatSearch(),this.findMatches(),this.currentMatchIndex=-1}findMatches(){var o;this.matchedIndexes=[],null===(o=this.one2oneChats)||void 0===o||o.forEach((n,a)=>{n.content&&this.oneToOneSearchName&&n.content.toLowerCase().includes(this.oneToOneSearchName.toLowerCase())&&this.matchedIndexes.push(a)}),""==this.oneToOneSearchName&&this.getOneToOneAndGroupChat(this.selectedChat.chat_id,this.selectedChat.chat_type,"")}navigateMatch(o){if(!this.matchedIndexes.length)return;"next"===o?this.currentMatchIndex=(this.currentMatchIndex+1)%this.matchedIndexes.length:"prev"===o?this.currentMatchIndex=(this.currentMatchIndex-1+this.matchedIndexes.length)%this.matchedIndexes.length:""===o&&(this.currentMatchIndex=0);const a=document.querySelector(`[data-index="${this.matchedIndexes[this.currentMatchIndex]}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{var r;null==a||null===(r=a.classList)||void 0===r||r.remove("selected-match")},2e3)}scrollToReplyMsg(o){var n=this;return(0,k.A)(function*(){yield n.getOneToOneAndGroupChat("group"==n.selectedChat.chat_type?n.selectedChat.chat_id:n.selectedChat.executives_IDPK,n.selectedChat.chat_type,!1,o.reply_id_date),console.log(n.one2oneChats);const a=n.one2oneChats.map((c,l)=>c.content===o.replied_message&&0==c.deleted?l:-1).filter(c=>-1!==c);n.reply_msg_index=a[0];const r=document.querySelector(`[data-index="${n.reply_msg_index}"]`);r&&r.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{var c;n.reply_msg_index=[],null==r||null===(c=r.classList)||void 0===c||c.remove("selected-match")},1e3)})()}onScroll(o){const n=o.detail.scrollTop;let a="";this.dateLabels.forEach(r=>{const c=r.nativeElement;c.offsetTop<=n+10&&(a=c.innerText)}),a&&(this.currentDateLabel=a),this.content.getScrollElement().then(r=>{const c=r.scrollTop,l=r.scrollHeight;this.previousScrolHeight=r.scrollHeight,this.isAtBottom=c+r.offsetHeight>=l-100,this.isAtTop=0===c})}updatedAsMessageRead(o){let n={loginid:this.localStorage.getItem("UserId"),chatid:o};this.sharedService.convertMessageToRead(n).subscribe(a=>{this.getAllChats()})}onGroupInfoModalClose(){this.chatFilterSelectedValue="all",this.getAllChats(),this.getGroupMembers(),this.groupInfoModal.dismiss(),this.gpMemberSearchedName="",this.isGroupNameEditing=!1}onDeleteMessage(){b().fire({title:"Delete Message?",text:"confirm to delete Message..!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",heightAuto:!1,cancelButtonColor:"#aaa",confirmButtonText:"Delete",backdrop:" rgb(0 0 0 / 86%)",customClass:{title:"swal-title-custom",popup:"swal-popup-custom",closeButton:"swal-close-custom",htmlContainer:"swal-text-custom",icon:"my-warning-icon",confirmButton:"confirm-btn",cancelButton:"cancel-btn"}}).then(o=>{o.isConfirmed?this.sharedService.deleteMessage("attachment"==this.mesgContent.item_type?this.mesgContent.item_id:this.selectedMessageId).subscribe(()=>{const n="group"===this.selectedChat.chat_type;this.getOneToOneAndGroupChat(n?this.selectedChat.chat_id:this.selectedChat.executives_IDPK,n?"group":"individual",""),""!=this.oneToOneSearchName&&(this.isOnetoOneChatSearch=!0),this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]}}):(this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]})})}getType(o){return typeof o}onMessageLongPress(o){this.ishideDelete=!1,this.ishideEdit=!1,this.selectionModeStarted||(this.selectionModeStarted=!0,this.toggleMessageSelection(o)),this.oneToOneSearchName&&(this.isOnetoOneChatSearch=!1),this.isreceiver=localStorage.getItem("UserId")==o.sender_id,this.selectedMessage.selectedMessageId.includes(o.item_id)||"attachment"===o.message_type?"attachment"===o.message_type&&(Array.isArray(this.selectedMessage.selectedAttachmentId)||(this.selectedMessage.selectedAttachmentId=[]),this.selectedMessage.selectedAttachmentId.includes(o.item_id)||this.selectedMessage.selectedAttachmentId.push(o.item_id),this.selectedMessage.selectedMessageId=[],this.selectedMessageId=[]):(this.selectedMessageId.push(o.item_id),this.selectedMessage={selectedMessageId:[...this.selectedMessageId],selectedAttachmentId:[]});const n=this.one2oneChats.filter(a=>{var r,c;return"attachment"===o.message_type?a.item_id==(null===(r=this.selectedMessage.selectedAttachmentId)||void 0===r?void 0:r[0]):a.item_id==(null===(c=this.selectedMessage.selectedMessageId)||void 0===c?void 0:c[0])});this.mesgContent=n[0],this.hideDeleteEdit(this.mesgContent)}hideDeleteEdit(o){const n=new Date(o.created_at),a=new Date(n.getTime()+6e5),r=new Date(n.getTime()+3e5),c=new Date,l=a.getTime()-c.getTime(),p=r.getTime()-c.getTime();l>0?(setTimeout(()=>{this.ishideDelete=!0},l),setTimeout(()=>{this.ishideEdit=!0},p)):(this.ishideDelete=!0,this.ishideEdit=!0)}onMessageClick(o){this.selectionModeStarted&&this.toggleMessageSelection(o)}toggleMessageSelection(o){const n="attachment"!==o.message_type?this.selectedMessageId.indexOf(o.item_id):parseInt(this.selectedMessage.selectedAttachmentId[0]);n>-1?("attachment"!==o.message_type?(this.selectedMessageId.splice(n,1),this.selectedMessage={selectedMessageId:[...this.selectedMessageId],selectedAttachmentId:[]}):"attachment"===o.message_type&&(this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.selectedMessageId=[]),this.ishideDelete=!1):this.selectedMessage.selectedMessageId.includes(o.item_id)||"attachment"===o.message_type?"attachment"===o.message_type&&(this.selectedMessage={selectedMessageId:[],selectedAttachmentId:o.item_id},this.selectedMessageId=[]):(this.selectedMessageId.push(o.item_id),this.selectedMessage={selectedMessageId:[...this.selectedMessageId],selectedAttachmentId:[]}),("attachment"!==o.message_type&&0==this.selectedMessageId.length&&0==this.selectedMessage.selectedAttachmentId.length||"attachment"===o.message_type&&0==this.selectedMessage.selectedAttachmentId.length)&&(this.selectionModeStarted=!1);const a=this.one2oneChats.filter(r=>{var c,l;if(r.item_id==(null===(c=this.selectedMessage.selectedMessageId)||void 0===c?void 0:c[this.selectedMessage.selectedMessageId.length-1])||r.item_id==(null===(l=this.selectedMessage.selectedAttachmentId)||void 0===l?void 0:l[this.selectedMessage.selectedMessageId.length-1]))return r});this.mesgContent=a[1],this.hideDeleteEdit(a[1])}onCopyMessage(o){this.dialNumberModal.dismiss(),navigator.clipboard.writeText(o||this.mesgContent.content).then(()=>{this.presentToast(o),this.popoverController.dismiss(),this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.mesgContent=[]}).catch(n=>console.error("Failed to copy:",n))}onDeleteHeaderRemove(){""!=this.oneToOneSearchName&&null!=this.oneToOneSearchName&&(this.isOnetoOneChatSearch=!0),this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.mesgContent=[]}onReplymsg(){this.checkTextareaHeight(),this.reply_text=this.one2oneChats.filter(o=>{var n;return o.item_id==("attachment"==this.mesgContent.item_type?null===(n=this.selectedMessage.selectedAttachmentId)||void 0===n?void 0:n[0]:this.selectedMessageId)}),this.isReply_msg=!0,this.oneToOneSearchName="",this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]}}onEditMessage(){this.edit_text=this.one2oneChats.filter(o=>o.item_id==this.selectedMessageId),this.message=this.edit_text[0].content,this.editMessage.present()}onEdit_msg_back(){this.editMessage.dismiss(),this.popoverController.dismiss(),this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.message="",this.edit_text=[]}onSwipe(o,n){}remove_reply_text(){this.message="",this.isReply_msg=!1,this.reply_text="",this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]}}onReplymsgWithCopy(){this.reply_text=this.one2oneChats.filter(o=>{var n;return o.item_id==("attachment"==this.mesgContent.item_type?null===(n=this.selectedMessage.selectedAttachmentId)||void 0===n?void 0:n[0]:this.selectedMessageId)}),this.isReply_msg=!0,this.message=this.reply_text[0].content,this.oneToOneSearchName="",this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]}}onNumberClick(o){this.dialNumber=o,this.dialNumberModal.present()}ondialCall(){window.open(`tel:${this.dialNumber}`,"_system")}onForwordMessage(){this.isForwardMsg=!0;let o=this.one2oneChats.filter(n=>this.selectedMessageId.includes(n.item_id));o=o.map(n=>({id:n.item_id,message:n.content})),this.forward_msg.push(...o),this.addMember.present()}forwardingMessage(){const o=this.selectedUsers.filter(l=>"group"===l.chat_type).map(l=>l.chat_id).join(","),n=this.selectedUsers.filter(l=>"group"!==l.chat_type).map(l=>l.executives_IDPK).join(","),a={senderid:localStorage.getItem("UserId"),forward_msg:JSON.stringify(this.forward_msg),forward:1},r=[];if(o){const l={...a,chattype:"gmsg",message:this.forward_msg[0].message,groupid:o,recieverid:""};r.push(this.sharedService.oneToOneAndGroupChatCheck(l))}if(n){const l={...a,chattype:"",groupid:"",recieverid:n};r.push(this.sharedService.oneToOneAndGroupChatCheck(l))}const c=this.message;Promise.all(r.map(l=>l.toPromise())).then(()=>{this.addMember.dismiss(),this.message="",this.forward_msg=[],this.selectedUsers=[],this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]}}).catch(l=>{this.message=c}).finally(()=>{this.isSending=!1})}presentToast(o){var n=this;return(0,k.A)(function*(){(yield n.toastController.create({message:o?"Phone number copied":"Message copied",duration:2e3,cssClass:"custom-toast",position:"bottom"})).present()})()}checkTextareaHeight(){return document.getElementById("messageRow").offsetHeight>45}onGroupNameChange(){this.groupName=this.selectedChat.executives_name,this.isGroupNameChange=!0,this.popoverController.dismiss()}gettingtwodaysDate(o){const n=o?this.one2onelastmsgdate[0].last_message_date.split(" ")[0]:this.selectedChat.latest_message_time?new Date(this.selectedChat.latest_message_time):new Date,a=new Date(n),r=new Date(n);return a.setDate(a.getDate()-1),{convertedfromdate:a.toLocaleDateString("en-CA"),convertedtodate:r.toLocaleDateString("en-CA")}}convertedSearchedDate(o){return new Date(o).toLocaleDateString("en-CA")}onMessageInfo(){this.sharedService.fetchMessageInfo({sender_id:this.mesgContent.sender_id,messageid:this.mesgContent.item_id}).subscribe(n=>{this.messageInfoData=n.details,this.infoModal.present()})}onInfoModalBack(){this.selectedMessageId=[],this.selectedMessage={selectedMessageId:[],selectedAttachmentId:[]},this.selectedMessageId=[],this.popoverController.dismiss(),this.infoModal.dismiss()}individualChatSearch(){const o={searchTerm:this.oneToOneSearchName,loginid:this.localStorage.getItem("UserId"),chat_id:this.selectedChat.chat_id};this.showSpinner=!0,this.sharedService.searchCats(o).subscribe(n=>{var a,r;"True"==n.status&&(this.createdDate=null===(a=n.details)||void 0===a||null===(a=a.messages)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.created_at,this.msg_id=null===(r=n.details)||void 0===r||null===(r=r.messages)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.item_id),this.showSpinner=!1})}onOneToOneSearchEnter(o){this.getOneToOneAndGroupChat(this.selectedChat.chat_id,this.selectedChat.chat_type,"",this.createdDate),setTimeout(()=>{if(""!=this.oneToOneSearchName){var n;const a=null===(n=this.one2oneChats)||void 0===n?void 0:n.filter(r=>{var c;return null===(c=r.content)||void 0===c?void 0:c.toLowerCase().includes(this.oneToOneSearchName.toLowerCase())});this.showNotFound=0===a.length,this.oneToOneSearchName&&0===(null==a?void 0:a.length)||this.scrollToMessageId(this.msg_id)}},1e3),setTimeout(()=>{this.showNotFound=!1},3e3)}scrollToMessageId(o){const n=document.querySelector(`[data-id-index="${o}"]`);n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("selected-match"),setTimeout(()=>{n.classList.remove("selected-match")},2e3))}disappear24(o){this.sharedService.disappear24Message({encryptid:o,groupid:this.selectedChat.chat_id}).subscribe({next:a=>{location.reload()},error:a=>{}})}onMainSearch(){this.mainsearch=!0,this.searchAnimationClass="slide-in",this.scrollToTop.emit()}closeMainSearch(){this.chatSearchedName="",this.mainsearch=!1,this.searchAnimationClass="slide-out"}formatLatestMessageTime(o){const n=new Date(o),a=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),p=(new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-r.getTime())/864e5;return 0===p?n.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):1===p?"Yesterday":`${n.getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}/${n.getFullYear()}`}editGroupName(o){this.groupName=this.selectedChat.executives_name,this.isGroupNameEditing=!this.isGroupNameEditing,setTimeout(()=>{this.groupInput&&this.groupInput.setFocus()},50)}ngOnDestroy(){this.sharedService.dismissAllOverlays()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.rXU(_.K_),e.rXU(P.B),e.rXU(_.IE),e.rXU(f.aZ),e.rXU(_._t),e.rXU(e.gRc),e.rXU(x.Ix),e.rXU(x.nX),e.rXU(_.Hx),e.rXU(G.d),e.rXU(_.wH))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-chat1"]],viewQuery:function(o,n){if(1&o&&(e.GBs(D,5),e.GBs(B,5),e.GBs(X,5),e.GBs(Y,5),e.GBs(V,5),e.GBs(A,5),e.GBs(z,5),e.GBs(U,5),e.GBs(L,5),e.GBs(H,5)),2&o){let a;e.mGM(a=e.lsd())&&(n.chat_preview=a.first),e.mGM(a=e.lsd())&&(n.groupInfoModal=a.first),e.mGM(a=e.lsd())&&(n.addMember=a.first),e.mGM(a=e.lsd())&&(n.content=a.first),e.mGM(a=e.lsd())&&(n.chat_list_content=a.first),e.mGM(a=e.lsd())&&(n.dialNumberModal=a.first),e.mGM(a=e.lsd())&&(n.editMessage=a.first),e.mGM(a=e.lsd())&&(n.infoModal=a.first),e.mGM(a=e.lsd())&&(n.groupInput=a.first),e.mGM(a=e.lsd())&&(n.dateLabels=a)}},outputs:{scrollToTop:"scrollToTop"},decls:27,vars:13,consts:[["addMember",""],["groupInfoModal",""],["chat_preview",""],["dialNumberModal",""],["editMessage",""],["infoModal",""],["chat_list_content",""],["groupIcon",""],["groupInput",""],["chat_previewIon_content",""],["attachmentid",""],["userBlock",""],["dateLabels",""],["videoPlayer",""],["messageContainer",""],["fileInput",""],["messageInput",""],["groupPhotoUpload",""],["class","content_center loader",4,"ngIf"],["trigger","newgrp","side","bottom","alignment","center","class","newAndselect_popover",4,"ngIf"],[3,"ngClass",4,"ngIf"],["style","background-color: rgb(11, 122, 178, 0.1);",4,"ngIf"],["class","chat_filters pt-2",4,"ngIf"],["class","mainSearch",3,"ngClass",4,"ngIf"],[4,"ngIf"],["id","addMemberModal","trigger","open-modal",3,"enterAnimation","leaveAnimation"],["trigger","open-modal",1,"group-info",3,"enterAnimation","leaveAnimation"],["trigger","open-modal"],["class","groupNaming",4,"ngIf"],["class","grpUserSelectedCount",4,"ngIf"],["id","dialNumberModal"],[1,"edit-text-modal"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],["trigger","newgrp","side","bottom","alignment","center",1,"newAndselect_popover"],[3,"click"],[3,"ngClass"],[1,"pb-0"],["class","font-colorBlue",4,"ngIf"],["size","2",1,"content_center","pb-0",3,"click"],["name","close",1,"menu_icon"],[1,"font-colorBlue"],[2,"background-color","rgb(11, 122, 178, 0.1)"],[1,"paddingZero"],[1,"chatSearch","pt-0",3,"ngModelChange","ngModel"],["size","2","class","content_center","id","newgrp",4,"ngIf"],["style","display: flex;overflow: scroll;",4,"ngIf"],["size","2","id","newgrp",1,"content_center"],[1,"verticleEllipsis","content_center"],["name","ellipsis-horizontal",2,"font-size","24px"],[2,"display","flex","overflow","scroll"],["class","selectedUsers content_center",4,"ngFor","ngForOf"],[1,"selectedUsers","content_center"],["name","close",2,"padding","0 0 0 4px","color","rgba(11, 122, 178, 1)",3,"click"],[1,"chat_filters","pt-2"],["size","1.5",1,"flex","align-items-center","justify-content-center",3,"click","ngClass"],[1,"flex","align-items-center","justify-content-center",3,"click","ngClass"],["for","dashboard-customDate"],["size","1.2",1,"flex","align-items-center","justify-content-center",3,"click"],["name","add",1,"add_icon"],["size","3","id","mainsearch",3,"click"],[1,"content_center","font-size12-familyPoppins"],["name","search"],[1,"mainSearch",3,"ngClass"],["name","arrow-back",1,"arrow-back",3,"click"],["placeholder","Search name ...",1,"addMemberSearch",3,"ngModelChange","ngModel","showClearButton","showCancelButton"],["class","borderBottom",4,"ngFor","ngForOf"],[1,"borderBottom"],["size","2",1,"content_center","profile-wrapper"],[1,"profile-image-wrapper"],["src","../../assets/CRMimages/gpChat_icon.svg","class","chat-icon",4,"ngIf"],["src","../../assets/CRMimages/individualChatIcon.svg",4,"ngIf"],[1,"offOnline",3,"ngClass"],["class","disappear_24",4,"ngIf"],["size","10",1,"chat-message-preview",3,"ngClass"],["size","9",1,"center-vertically",3,"click"],[1,"ellipse_span"],["size","3",1,"content_center"],["class","checkboxcss",3,"checked","ionChange",4,"ngIf"],["src","../../assets/CRMimages/gpChat_icon.svg",1,"chat-icon"],["src","../../assets/CRMimages/individualChatIcon.svg"],[1,"disappear_24"],["src","../../assets/CRMimages/24-hour-disappear-icon.png"],[1,"checkboxcss",3,"ionChange","checked"],["size","0.5",1,"content_center"],["size","9",1,"center-vertically"],[1,"latest_message_content"],["size","2","class","content_center",4,"ngIf"],["size","2",1,"content_center"],[1,"unreadChat_count"],[4,"ngFor","ngForOf"],[1,"font-size16-familyPoppins","message",2,"color","#8e8e8e"],[1,"ellipse_span","font-size16-familyPoppins",3,"innerHTML"],["size","3",1,"ion-text-end"],["style","font-size: 10px;",4,"ngIf"],[2,"font-size","10px"],[1,"latest_message_content",2,"font-size","10px",3,"innerHTML"],[1,"font-size16-familyPoppins",2,"color","#8e8e8e"],[1,"chat-message-preview",3,"ngClass"],[1,"ellipse_span",2,"font-size","14px",3,"innerHTML"],[1,"center-vertically"],[1,"latest_message_content","font-size10-familyPoppins",2,"color","rgb(106, 113, 117)",3,"innerHTML"],[1,"content_center"],[1,"font-size12-familyPoppins"],[1,"search-wrapper"],[2,"width","100%","position","relative",3,"ngClass"],[1,"paddingZero",2,"position","relative"],["class","add-members-label",4,"ngIf"],[1,"searchbar-wrapper",3,"ngClass"],["name","arrow-back","class","arrow-back",3,"click",4,"ngIf"],[2,"display","flex","overflow","scroll","margin","5px"],["class","selectedUsers content_center active_text_borederColor",4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"add-members-label"],["name","search",3,"click"],[1,"selectedUsers","content_center","active_text_borederColor"],[3,"click","ngClass"],["size","2"],["style","width: 40px;","src","../../assets/CRMimages/gpChat_icon.svg","class","chat-icon",4,"ngIf"],["style","width: 40px;","src","../../assets/CRMimages/individualChatIcon.svg",4,"ngIf"],["class","forwardmsg_addgroupmemb",3,"checked","ionChange",4,"ngIf"],["size","8",1,"center-vertically","font-size14-familyPoppins"],["src","../../assets/CRMimages/gpChat_icon.svg",1,"chat-icon",2,"width","40px"],["src","../../assets/CRMimages/individualChatIcon.svg",2,"width","40px"],[1,"forwardmsg_addgroupmemb",3,"ionChange","checked"],["style","float: right;background-color: #0d7bb2;color: white;","fill","clear",3,"click",4,"ngIf"],["fill","clear",2,"float","right","background-color","#0d7bb2","color","white",3,"click"],["style","height: 100vh;",4,"ngIf"],[2,"padding","5px","border-bottom","1px solid #ECECEC","padding-bottom","10px"],[1,"font-size16-familyPoppins"],[1,"group-nameChange-wrapper"],[1,"group-nameChange-input",3,"ngModelChange","ngModel"],[1,"action-row"],[1,"ion-text-center",3,"click"],["fill","clear",1,"text_color_green"],[1,"ion-text-center"],["fill","clear",1,"text_color_green",3,"click","disabled"],[2,"height","100vh"],[2,"margin","5px"],[2,"padding","0","display","flex","align-items","center","justify-content","flex-start"],["name","arrow-back",1,"arrow-back",2,"font-size","24px",3,"click"],["id","groupNamechange",1,"ion-text-end",2,"padding","0","display","flex","align-items","center","justify-content","flex-end"],["name","ellipsis-vertical"],[1,"group-icon-wrapper"],["src","../../assets/CRMimages/gpChat_icon.svg",1,"group-icon",2,"width","90px",3,"click"],[1,"ion-text-end"],["trigger","groupNamechange","side","bottom","alignment","center",2,"--width","200px"],[1,"content_center","font-size16-familyPoppins",2,"padding-bottom","0"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","pl-1","name","checkmark","style","color:#0b7ab2 !important;font-size: 22px;",3,"click",4,"ngIf"],["name","circular",4,"ngIf"],["src","../../assets/CRMimages/leadinfo_edit-icon.svg","class","pl-2",3,"click",4,"ngIf"],[1,"content_center","font-size12-familyPoppins",2,"padding-top","0"],[1,"chatSearch",3,"ngModelChange","ionInput","ngModel"],[1,"font-size14-familyPoppins"],[3,"ngModelChange","ngModel"],["name","checkmark",1,"pl-1",2,"color","#0b7ab2 !important","font-size","22px",3,"click"],["name","circular"],["src","../../assets/CRMimages/leadinfo_edit-icon.svg",1,"pl-2",3,"click"],[1,"fa","fa-user-plus","add_members"],["size","10",1,"font-size14-familyPoppins","center-vertically",3,"click"],["src","../../assets/CRMimages/individualChatIcon.svg",1,"group-icon",2,"width","40px"],["size","10",1,"center-vertically","font-size14-familyPoppins",2,"display","flex","justify-content","space-between",3,"click"],["class","font-size12-familyPoppins group-admin",4,"ngIf"],[1,"font-size12-familyPoppins","group-admin"],["name","log-out-outline",2,"font-size","20px","color","red"],["size","10",1,"center-vertically","font-size14-familyPoppins",3,"click"],[1,"font-size14-familyPoppins",2,"color","red"],["class","no-data-message",4,"ngIf"],["scrollEvents","true",1,"ion-padding","bg-img",3,"ionScroll"],["class","member_removedText","style","margin-top: 5px;padding: 5px 10px;position: fixed;z-index: 9999;",3,"click",4,"ngIf"],["class","content_center relative","style","top: 10px !important;font-style: italic;",4,"ngIf"],["class","content_center",4,"ngIf"],["class","member_removedText","style","margin-top: 5px;padding: 5px 10px;position: fixed;z-index: 9999;border-radius: 4px;",4,"ngIf"],["appLongPress","",3,"ngClass","longPress","click",4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"bg-img"],["class","member_removedText",4,"ngIf"],["slot","start"],["size","2",1,"content_center","relative"],["class","group-icon absolute","src","../../assets/CRMimages/gpChat_icon.svg",3,"click",4,"ngIf"],["class","group-icon","src","../../assets/CRMimages/individualChatIcon.svg",4,"ngIf"],["style","position: relative;top: 13px;left: 18px;",4,"ngIf"],["size","10",1,"chat-message-preview","center-vertically"],[2,"width","100%"],["size","10.6"],["size","1.4","id","search",1,"verticleEllipsis","content_center"],["trigger","search","side","bottom","alignment","center",1,"newAndselect_popover"],["slot","end"],["src","../../assets/CRMimages/gpChat_icon.svg",1,"group-icon","absolute",3,"click"],["src","../../assets/CRMimages/individualChatIcon.svg",1,"group-icon"],[2,"position","relative","top","13px","left","18px"],["class","gp-member","style","font-size: 10px;padding: 2px;font-family: 'Poppins';white-space: nowrap;",4,"ngFor","ngForOf"],[1,"gp-member",2,"font-size","10px","padding","2px","font-family","'Poppins'","white-space","nowrap"],[2,"font-size","14px !important"],[3,"click",4,"ngIf"],[1,"ion-justify-start","d-flex",3,"click"],["name","arrow-back",1,"arrow-back",2,"font-size","24px"],["class","selected-msg-count",4,"ngIf","ngIfElse"],["size","2",1,"content_center",3,"click","ngClass"],["src","../../assets/CRMimages/reply-icon.svg",1,"only-dark"],["src","../../assets/CRMimages/lightTheme_reply-icon.svg",1,"only-light"],["src","../../assets/CRMimages/reply_with_msg.svg"],["size","2","class","content_center",3,"ngClass","click",4,"ngIf"],["src","../../assets/CRMimages/forward-icon.svg",1,"only-dark"],["src","../../assets/CRMimages/lightTheme_forward-icon.svg",1,"only-light"],["size","1","id","editMsg",1,"content_center",3,"ngClass"],["trigger","editMsg","side","bottom","alignment","center"],[1,"selected-msg-count"],[4,"ngIf","ngIfElse"],["name","trash-outline",2,"font-size","22px"],["style","padding-left:10px",3,"click",4,"ngIf"],[1,"center-vertically",2,"padding-left","10px",3,"click"],[2,"padding-left","10px",3,"click"],[2,"display","flex","align-items","center"],["placeholder","Search ...",1,"addMemberSearch",3,"ngModelChange","ionInput","keyup.enter","ngModel","showClearButton","showCancelButton"],["name","chevron-down-outline",1,"chevron-down-outline",2,"padding","0 5px",3,"click"],["name","chevron-up-outline",1,"chevron-up-outline",2,"padding","0 5px",3,"click"],[1,"no-data-message"],[1,"member_removedText",2,"margin-top","5px","padding","5px 10px","position","fixed","z-index","9999",3,"click"],[1,"font-size12-familyPoppins",2,"font-size","14px","font-weight","500","border-radius","4px"],[1,"content_center","relative",2,"top","10px !important","font-style","italic"],[1,"disappear_date","cursor-pointer"],[1,"fas","fa-clock",2,"color","#557482"],["name","bubbles"],[1,"member_removedText",2,"margin-top","5px","padding","5px 10px","position","fixed","z-index","9999","border-radius","4px"],["appLongPress","",3,"longPress","click","ngClass"],["class","member_removedText","style","margin-top: 5px;",4,"ngIf"],["class","member_removedText","style","margin-top: 5px;padding: 5px 10px;",4,"ngIf"],[3,"ionSwipe",4,"ngIf"],[1,"member_removedText",2,"margin-top","5px"],[1,"member_removedText",2,"margin-top","5px","padding","5px 10px"],[3,"ionSwipe"],["lines","none",2,"--background","none"],[1,"message-bubble"],["size","12",1,"chat-align"],[1,"chat-wrapper"],["name","person-circle","style","color:rgb(11 122 178)","class","profile-icon",4,"ngIf"],["aria-hidden","true","data-icon","tail-in","class","_amk7",4,"ngIf"],["class","received-chat-card","style","padding: 3px;",3,"photoGalleryGroup",4,"ngIf"],["side","start"],["name","person-circle",1,"profile-icon",2,"color","rgb(11 122 178)"],["aria-hidden","true","data-icon","tail-in",1,"_amk7"],[1,"only-light"],["viewBox","0 0 8 13","height","13","width","8","preserveAspectRatio","xMidYMid meet","version","1.1","x","0px","y","0px",2,"color","white"],["opacity","0.13","d","M1.533,3.568L8,12.193V1H2.812 C1.042,1,0.474,2.156,1.533,3.568z"],["fill","currentColor","d","M1.533,2.568L8,11.193V0L2.812,0C1.042,0,0.474,1.156,1.533,2.568z"],[1,"only-dark"],["viewBox","0 0 8 13","height","13","width","8","preserveAspectRatio","xMidYMid meet","version","1.1","x","0px","y","0px",2,"color","#242625"],[1,"received-chat-card",2,"padding","3px",3,"photoGalleryGroup"],["class","font-size12-familyPoppins font-colorBlue","style","padding: 2px 5px;",4,"ngIf"],["class","deleted_msg",4,"ngIf"],[1,"timestamp"],["style","padding-right:5px;",4,"ngIf"],[1,"font-size12-familyPoppins","font-colorBlue",2,"padding","2px 5px"],["style","width: 150px;",3,"photoGallery","src",4,"ngIf"],["class","content_center","id","canvasId","style","padding: 2px 5px;",3,"href","click",4,"ngIf"],["id","myVideo","controls","","height","100%","width","200",3,"touchstart",4,"ngIf"],["class","replay-text-bg-color","style","border-left:5px solid #0b7ab2; border-radius: 4px; ;padding: 4px 2px;",3,"click",4,"ngIf"],["class","forward-text",4,"ngIf"],[2,"width","150px",3,"photoGallery","src"],["id","canvasId",1,"content_center",2,"padding","2px 5px",3,"click","href"],["src","../../assets/CRMimages/pdfred.png",2,"width","26px"],["class","font-size12-familyPoppins",4,"ngIf"],["id","myVideo","controls","","height","100%","width","200",3,"touchstart"],["type","video/mp4","type","video/mp4",3,"src"],[1,"replay-text-bg-color",2,"border-left","5px solid #0b7ab2","border-radius","4px",";padding","4px 2px",3,"click"],[2,"padding","0 5px","color","#0b7ab2","font-weight","600","font-size","12px","font-family","'Poppins'"],[1,"replay-text-color"],[1,"font-size12-familyPoppins",2,"padding","0 5px","display","-webkit-box","-webkit-line-clamp","3","-webkit-box-orient","vertical","overflow","hidden"],[1,"forward-text"],["src","../../assets/CRMimages/forward-arrow.svg",2,"width","25px"],[1,"message-text",2,"white-space","normal",3,"title"],["class","highlight-number","appLongPress","",3,"innerHTML","longPress","click",4,"ngIf"],[3,"innerHTML",4,"ngIf"],["appLongPress","",1,"highlight-number",3,"longPress","click","innerHTML"],[3,"innerHTML"],[1,"deleted_msg"],[1,"font-size12-familyPoppins","content_center"],["name","ban",2,"font-size","16px"],[2,"padding-right","5px"],[1,"sender-message-bubble"],[1,"chat-container"],["viewBox","0 0 8 13","height","13","width","8","preserveAspectRatio","xMidYMid meet",2,"position","absolute","top","5px","right","6px","color","#d9fdd3"],["opacity","0.13","d","M5.188,1H0v11.193l6.467-8.625 C7.526,2.156,6.958,1,5.188,1z"],["fill","currentColor","d","M5.188,0H0v11.193l6.467-8.625C7.526,1.156,6.958,0,5.188,0z"],["viewBox","0 0 8 13","height","13","width","8","preserveAspectRatio","xMidYMid meet",2,"position","absolute","top","5px","right","6px","color","#1E3F50"],[1,"send-chat-card",3,"photoGalleryGroup"],[1,"timestamp","center-vertically"],["style","width: 18px;padding-left: 4px;","src","../../assets/CRMimages/double-tick-read.svg",4,"ngIf"],["name","time-outline","style","color: rgb(11, 122, 178);font-size: 14px; padding-left: 5px;",4,"ngIf"],["class","content_center","id","canvasId",3,"href","click",4,"ngIf"],["class","replay-text-bg-color","style","border-left:5px solid #0b7ab2; border-radius: 4px; padding: 4px 2px;",3,"click",4,"ngIf"],["id","canvasId",1,"content_center",3,"click","href"],[1,"replay-text-bg-color",2,"border-left","5px solid #0b7ab2","border-radius","4px","padding","4px 2px",3,"click"],[1,"font-size12-familyPoppins","content_center",2,"color","#4d4545"],["src","../../assets/CRMimages/double-tick-read.svg",2,"width","18px","padding-left","4px"],["name","time-outline",2,"color","rgb(11, 122, 178)","font-size","14px","padding-left","5px"],["vertical","bottom","horizontal","end","slot","fixed"],[2,"font-size","21px","width","32px","height","32px",3,"click"],[1,"fas","fa-angle-double-down"],[1,"member_removedText"],["id","messageRow",1,"message-row"],["style","width: 100%;",4,"ngIf"],["size","1.5",1,"content_center","paddingZero"],["type","file","multiple","",2,"display","none",3,"change"],["name","add-circle",1,"add-circle",2,"font-size","35px",3,"click"],["size","10.5",1,"paddingZero","content_center"],["rows","1","autoGrow","true","placeholder","Type your message...",1,"custom-textarea","font-size14-familyPoppins",3,"ngModelChange","ionInput","ngModel"],["size","1.5",1,"pointerEvent","msg_send_icon","content_center",3,"click","ngClass"],[1,"fa","fa-paper-plane"],[1,"replay-text-bg-color",2,"border-left","5px solid #0b7ab2","border-radius","6px"],[2,"padding","0 5px","color","#0b7ab2","font-weight","600","font-size","14px","font-family","'Poppins'"],["size","1",1,"content_center","paddingZero","close",3,"click"],["name","close"],[1,"groupNaming"],[1,"group-box"],[1,"group-image-wrapper"],["src","../../assets/CRMimages/grupCreationImage_icon.svg"],["name","camera-outline",3,"click"],["type","file",2,"display","none"],["placeholder","Enter Group Name",1,"font-size14-familyPoppins",3,"ngModelChange","ngModel"],["fill","clear",1,"activeSaveButton",3,"click","disabled"],[1,"grpUserSelectedCount"],["fill","clear",1,"m-0",2,"width","100%",3,"click","disabled"],[2,"padding-bottom","0",3,"click"],[2,"padding-top","0",3,"click"],[1,"ion-text-center","header"],[1,"ion-text-start"],[2,"--background","#1c1c1b"],[1,"message-bubble","edit-text-row"],[1,"chat-container",2,"position","absolute","bottom","0"],["viewBox","0 0 8 13","height","13","width","8","preserveAspectRatio","xMidYMid meet",1,"only-light",2,"position","absolute","top","5px","right","7px","color","#d9fdd3"],[1,"send-chat-card"],["class","replay-text-bg-color","style","border-left: 5px solid #656d64; border-radius: 4px;",4,"ngIf"],[2,"box-shadow","none","background","#1c1c1b"],["autoGrow","true","placeholder","Type your message...",1,"custom-textarea","font-size12-familyPoppins",2,"height","100%","padding","4px","max-height","86px","--padding-bottom","0","min-height","0","border-radius","4px",3,"ngModelChange","ionInput","ngModel"],["size","2",1,"content_center","paddingZero",3,"click"],["name","checkmark-circle",2,"font-size","40px","color","#0f7722"],[1,"replay-text-bg-color",2,"border-left","5px solid #656d64","border-radius","4px"],[1,"bg-img",2,"padding","8px","box-shadow","none","border-bottom","1px solid lightgray"],["size","1",3,"click"],[1,"ion-justify-content-end"],["size","12"],[1,"send-chat-card",2,"line-height","normal","padding","10px"],[1,"d-flex","font-size14-familyPoppins",2,"border-bottom","1px solid lightgray","padding","6px","color","#3f8533"],["src","../../assets/CRMimages/double-tick-read.svg",2,"width","20px"],["src","../../assets/CRMimages/unread_icon.png",2,"width","20px"],[1,"font-size16-familyPoppins",2,"color","black"],[2,"line-height","0.8"]],template:function(o,n){1&o&&(e.DNE(0,K,2,0,"div",18)(1,Q,2,0,"ion-popover",19)(2,te,6,3,"ion-row",20)(3,ae,6,3,"div",21)(4,se,17,3,"div",22)(5,re,3,4,"div",23)(6,Ne,5,3,"div",24),e.j41(7,"ion-modal",25,0),e.DNE(9,Le,17,13,"ng-template"),e.k0s(),e.j41(10,"ion-modal",26,1),e.DNE(12,st,2,2,"ng-template"),e.k0s(),e.j41(13,"ion-modal",27,2),e.DNE(15,vn,17,14,"ng-template"),e.k0s(),e.DNE(16,wn,10,2,"div",28)(17,In,2,1,"div",29),e.j41(18,"ion-modal",30,3),e.DNE(20,Gn,9,1,"ng-template"),e.k0s(),e.j41(21,"ion-modal",31,4),e.DNE(23,yn,30,3,"ng-template"),e.k0s(),e.j41(24,"ion-modal",null,5),e.DNE(26,Rn,30,9,"ng-template"),e.k0s()),2&o&&(e.Y8G("ngIf",n.showSpinner),e.R7$(),e.Y8G("ngIf","true"!==n.filterParams.isnewGroupCreation&&"true"!=n.filterParams.isGroupNaming&&!n.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf","true"==n.filterParams.isnewGroupCreation||"true"==n.filterParams.isGroupNaming),e.R7$(),e.Y8G("ngIf","true"!=n.filterParams.isGroupNaming&&!n.isOnCallDetailsPage&&"true"==n.filterParams.isnewGroupCreation),e.R7$(),e.Y8G("ngIf","true"!=n.filterParams.isnewGroupCreation&&!n.mainsearch&&"true"!=n.filterParams.isGroupNaming),e.R7$(),e.Y8G("ngIf",n.mainsearch),e.R7$(),e.Y8G("ngIf",!n.isOnCallDetailsPage),e.R7$(),e.Y8G("enterAnimation",n.enterAnimation)("leaveAnimation",n.leaveAnimation),e.R7$(3),e.Y8G("enterAnimation",n.enterAnimation)("leaveAnimation",n.leaveAnimation),e.R7$(6),e.Y8G("ngIf","true"==n.filterParams.isGroupNaming&&!n.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!n.isOnCallDetailsPage))},dependencies:[f.YU,f.Sq,f.bT,_.Jm,_.QW,_.b_,_.eY,_.hU,_.W9,_.Q8,_.YW,_.M0,_.eU,_.iq,_.KW,_.$w,_.uz,_.CE,_.A7,_.ln,_.S1,_.w2,_.nc,_.ai,_.Sb,_.CF,_.hB,_.Gw,E.H,I.BC,I.vS,M.yY,M.fk,f.vh,$.v,O.P],styles:["@media (prefers-color-scheme: dark){.bg_textColor{color:#e3f6ff!important;background:#0b7ab280!important;border:.8px solid #1467a5!important}.highlight-number,.font-colorBlue{color:#54bfee!important}.active_text_borederColor{border:.8px solid #1467a5!important;color:#e3f6ff!important}}@media (prefers-color-scheme: light){.bg_textColor{background:#0b7ab2!important;color:#fff!important}.highlight-number{color:#0b7ab2}.font-colorBlue{color:#0b7ab2!important}.active_text_borederColor{border:1px solid #0b7ab2!important;color:#0b7ab2!important}.newgroupcreation-sec,.group-box{background-color:#0b7ab21a}}@media (prefers-color-scheme: dark){ion-modal#dialNumberModal{color:#e3f6ff!important;background:none!important}ion-searchbar{--background:#262626 !important}ion-header,ion-footer,ion-modal,ion-content{--background: #000;background:#000!important}ion-toolbar{--background:#28292a}.newgroupcreation-sec{border-bottom:1px solid rgba(118,195,233,.1)}.newgroupcreation-sec,.group-box{background-color:#2d3137}.group-admin{background:#092042!important;color:#9ec5ff}.edit-text-modal ion-textarea{background:#1c222a}.bg-img{background-image:url(darkthemechat-bg-img.829fa53d8a2b05f5.svg)!important;background-size:cover;background-position:center;background-repeat:no-repeat;--background: none}.chat-message-preview ion-row:first-child ion-col:first-child span{color:#f1f1f1}.gp-member{color:#f1f1f1}.send-chat-card{background:#1e3f50}.selected-msg-count,.forward-text ion-col,.deleted_msg span,.edit-text-modal ion-header span,.edit-text-row ion-col span,ion-icon,.message-text,.custom-textarea,.arrow-back,.group-info ion-col,#addMemberModal ion-col .group-nameChange-input,.close,.chevron-up-outline,.chevron-down-outline,.search,#addMemberModal ion-content ion-col,.add-members-label,.action-row ion-button{color:#fff!important}.add-circle{color:#4d4d4d!important}.only-light{display:none}.received-chat-card{background:#242625}.replay-text-bg-color{background:#1d1e1e}.replay-text-color{color:#a5a5a5!important}.message-row,.searchbar-wrapper,.action-row,.mainSearch{background:#262626}.action-row{border-top:1px solid #000}.action-row ion-col:first-child{border-right:1px solid #000}.addMemberSearch,ion-searchbar,ion-popover{--background: #262626;color:#fff!important}.bgColorGreen{background:#1a1e24!important;color:#d9fdd3}.selectedUsers{color:#e3f6ff;background:#0b7ab280}.forwardmsg_addgroupmemb{--border-color: white;--border-color-checked: #f9fafb;--checkbox-background-checked: #0B7AB280;--checkbox-background:#0B7AB280}.checkboxcss{--border-color: #92a1bb;--border-color-checked: #73a0cc;--checkbox-background-checked: #3c677a80;--checkbox-background: #24516880}.chat_filters{background:#000}.chat_filters ion-col{background:#1a1a1a;border:.8px solid #474747}.chat_filters #mainsearch{border:.8px solid #474747;color:#f9fafb}.unreadChat_count{background:#008cc9;color:#fff!important}.bg-color{background-color:#434c5a!important}.swal-popup-custom{background:#38393d!important;border-radius:12px!important;padding-bottom:10px!important;width:17em!important}.swal-title-custom{color:#e3e3ec!important;padding:0!important;font-size:20px!important}.swal-text-custom{color:#fff!important;font-size:12px!important;margin:6px!important}.swal-close-custom{color:#e3e3ec!important;font-size:30px!important}.my-warning-icon{color:#d36d1e!important;border-color:#d36d1e!important}.error-icon{color:red!important;border-color:red!important}.borderBottom{border-bottom:1px solid #454649}}@media (prefers-color-scheme: light){.borderBottom{border-bottom:1px solid #dde2ee}.add-circle{color:#0b7ab2}.timestamp{color:gray}.forward-text ion-col{color:#999}.deleted_msg span{color:#4d4545}.edit-text-modal ion-textarea{background:#e4f4fc}.bg-color{background-color:#d3d3d3}.checkboxcss{--checkbox-background: rgba(225, 242, 255, 1);--border-color: rgba(11, 122, 178, 1);--checkbox-background-checked: rgba(11, 122, 178, 1)}.unreadChat_count{color:#fff;background-color:green}.bgColorGreen{background-color:#33b53347}.addMemberSearch{background:none}.message-row{background:#fff;border:1px solid #e1e4e7;box-shadow:0 0 0 .2rem #e1ebf540}.bg-img{background-image:url(chat-bg-img.a114655206ac021b.svg);background-size:cover;background-position:center;background-repeat:no-repeat;--background: none}.chat-message-preview ion-row:first-child ion-col:first-child span{color:#343434}.send-chat-card{background:#d9fdd3}.only-dark{display:none}.received-chat-card{background:#fff}.replay-text-bg-color{background:#a6cf9f69}.group-admin{background:#c6f3c6!important}.searchbar-wrapper{background-color:#fff}.action-row{background:#fff;border-top:1px solid #ECECEC}.action-row ion-col:first-child{border-right:1px solid #ECECEC}.action-row ion-button{color:green}.selectedUsers{color:#0b7ab2;background:#fff}.forwardmsg_addgroupmemb{--border-color: white;--border-color-checked: white;--checkbox-background-checked: rgb(37 124 25);--checkbox-background: rgb(35 123 23)}.chat_filters{background:#f7f7f8}.chat_filters ion-col{background:#fff;border:.8px solid #E4E4E4}.chat_filters ion-icon{color:#0b7ab2}.chat_filters #mainsearch{border:.8px solid #0b7ab2;color:#0b7ab2}}ion-modal#dialNumberModal::part(backdrop){background:#353537!important;opacity:.9!important}.confirm-btn,.cancel-btn{padding:2px 6px!important}.swal-popup-custom .swal2-actions{margin-top:0!important}.swal-popup-custom{border-radius:12px!important;padding-bottom:10px!important;width:17em!important}.swal-title-custom{padding:0!important;font-size:20px!important}.swal-text-custom{font-size:12px!important;margin:6px!important}.swal-close-custom{font-size:30px!important}.my-warning-icon,.error-icon{font-size:14px!important;margin-top:13px!important}.chat_filters{padding-bottom:5px;position:sticky;top:0;z-index:99}.chat_filters ion-row{gap:5px}.chat_filters ion-col{font-size:12px;border-radius:50px}.chat_filters ion-icon{font-size:16px}.chat_filters #mainsearch{border-right:none!important;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:50px!important;border-bottom-left-radius:50px!important}.selectedUsers{white-space:nowrap;padding:2px 10px;border-radius:25px;margin:4px;font-size:16px;font-family:Poppins}.chat-message-preview ion-row:first-child ion-col:first-child{padding:0 5px}.chat-message-preview ion-row:first-child ion-col:first-child span{font-size:18px;font-family:Poppins}.chat-message-preview ion-row:first-child ion-col:nth-child(2){padding:0 4px}.chat-message-preview ion-row:first-child ion-col:nth-child(2) span{font-size:10px;font-family:Poppins;color:#6a7175}.chat-message-preview ion-row:nth-child(2) ion-col:first-child{padding:0 0 0 5px}.chat-message-preview ion-row:nth-child(2) ion-col:nth-child(2){padding-top:0;padding-bottom:0}.chat-message-preview ion-row:nth-child(2) ion-col:nth-child(2) ion-img{width:22px;height:22px}.chat-message-preview ion-row:nth-child(2) ion-col:nth-child(2) span{font-size:12px;font-family:Poppins;color:#6a7175}.msg-details ion-col:first-child ion-img{width:44px}.chat-container{position:relative}.right-corner-img{position:absolute;top:15px;right:0;width:30px;height:auto;z-index:-1}.left-corner-img{position:absolute;left:30px;width:30px;height:auto;z-index:-9}.received-chat-card{border-radius:0 6px 6px;position:relative;z-index:0;max-width:250px;float:right;line-height:14px}.send-chat-card{position:relative;z-index:0;max-width:250px;border-radius:6px 0 6px 6px;float:right;line-height:14px;margin-right:9px;padding:4px}.sender-name{font-weight:700;margin-bottom:5px}.message-text{flex:1;padding:0}.timestamp{font-size:10px;font-family:Poppins;float:right;display:flex;align-items:flex-end;justify-content:flex-end;padding:0 5px}.message-line{display:flex;justify-content:space-between;align-items:center}.profile-icon ion-icon{font-size:40px}.custom-textarea{width:100%;overflow-y:auto}.sc-ion-textarea-md-h{--padding-top: 0 }ion-content::part(scroll){padding:0}.chat-align{display:flex;align-items:flex-start}.chat-wrapper{display:flex;align-items:flex-start;position:relative;width:100%}.profile-icon{font-size:32px}.sender-name{font-weight:600;font-size:12px;font-family:Poppins,sans-serif}.message-text{font-size:12px;font-family:Poppins,sans-serif;color:#000;flex:1}.timestamp{font-size:10px;color:#999;margin-left:8px}.fa-paper-plane{font-size:18px;transform:rotate(50deg);background:#0b7ab2;padding:8px;border-radius:30px;color:#fff}.verticleEllipsis ion-icon{background:#0b7ab236;border-radius:4px;padding:4px 0}.verticleEllipsis ion-icon{color:#0b7ab2;font-size:20px}div.verticleEllipsis{padding:4px}.latest_message_content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.action-sheet-button.sc-ion-action-sheet-md{min-height:40px;padding-top:5px;padding-bottom:5px;font-family:Poppins}.action-sheet-title.sc-ion-action-sheet-md{padding-top:6px;padding-bottom:6px;min-height:31px;font-family:Poppins;color:#0b7ab2}.action-sheet-button.ion-activatable.ion-focusable.action-sheet-cancel.sc-ion-action-sheet-md{color:#0b7ab2}.action-sheet-button.ion-activatable.ion-focusable.action-sheet-cancel.sc-ion-action-sheet-md ion-icon{color:#0b7ab2}.action-sheet-icon.sc-ion-action-sheet-md{color:#0b7ab2}.attachment-panel{background:#fff;box-shadow:0 -2px 10px #00000026;border-radius:16px}.attachment-panel ion-icon{color:var(--ion-color-primary);font-size:28px}.attachment-panel div{font-size:12px;margin-top:4px}.attachment-panel ion-col{padding:12px 0}.chatSearch .searchbar-input.sc-ion-searchbar-md{height:34px}.chatSearch{--border-radius: 25px;background:none}.chatSearch .searchbar-search-icon.sc-ion-searchbar-md{top:6px}.profile-wrapper{display:flex;justify-content:center;align-items:center}.profile-image-wrapper{position:relative;width:40px;height:40px}.chat-icon{width:100%;height:100%;object-fit:contain}.offOnline{position:absolute;bottom:0;right:0;height:10px;width:10px;border-radius:50%;z-index:10}.greenbgwhiteborder{background:green;border:2px solid white}.redbgwhiteborder{background:red;border:2px solid white}.newAndselect_popover ion-row{background:#e7f4ff;border-bottom:1px solid rgb(165,189,209)}.newAndselect_popover span{color:#0b7ab2;font-size:16px;font-family:Poppins}.newAndselect_popover{--border-radius: 16px;--max-width: 55vw}.newGpcreation ion-row{width:100%}.ion-checkbox .checkbox-wrapper::part(container){background-color:#0b7ab2;border:.5px solid rgb(11,122,178)}.checkboxcss{--border-radius: 15px;--border-width: 1px;--size: 24px}.grpUserSelectedCount ion-row ion-col:first-child{font-size:20px;color:#343434}.grpUserSelectedCount ion-row ion-col:first-child span{font-family:Poppins;padding-left:6px;color:#727272}.grpUserSelectedCount ion-row ion-col:last-child ion-button{font-size:20px;background:#0b7ab2;border-radius:2px;color:#fff;font-family:Poppins;text-transform:none}.grpUserSelectedCount{position:sticky;bottom:0;background:#e6f1f7;width:100%;z-index:9999}.groupNaming{background-color:#0b7ab21a;height:100vh}.groupNaming .group-box{display:flex;align-items:center;justify-content:center;padding:20px;border-radius:4px;flex-direction:column}.groupNaming .group-image-wrapper{border-radius:87px;padding:31px;background:#c1ddeb;position:relative}.groupNaming .group-image-wrapper ion-img{width:76px;height:76px}.groupNaming .group-image-wrapper ion-icon{position:absolute;bottom:4px;right:3px;color:#fff;border-radius:50%;padding:8px;background:#0b7ab2;font-size:24px}.groupNaming ion-input{border-radius:2px;border:1px solid rgb(191,191,191);padding:0 5px!important;margin:15px}.groupNaming ion-button.activeSaveButton{width:90%;font-size:20px;padding:1px}.video-wrapper{position:relative}.video-preview{width:100%;height:auto;border-radius:8px}.video-play-icon{position:absolute;top:50%;left:50%;font-size:60px;color:#fff;transform:translate(-50%,-50%);text-shadow:0 0 10px black}.group-icon-wrapper{display:flex;justify-content:center;align-items:center}.addMemberSearch{--border-radius: 25px;--box-shadow: none;padding:0}.add_members{color:#0d7bb2;background:#bddbea;border-radius:50px;padding:9px;font-size:18px}.addMemberSearch .searchbar-cancel-button{display:none!important}.addMemberSearch .searchbar-input{padding:5px!important}.icon-button{font-size:24px;cursor:pointer}.search-wrapper{width:100%;position:relative}.add-members-label{font-size:16px;font-family:Poppins;position:relative;z-index:1;padding-left:8px;line-height:56px}.searchbar-wrapper{position:absolute;top:2px;left:0;right:0;z-index:2;display:flex;align-items:center;transform:translate(100%);opacity:0;pointer-events:none;transition:transform .3s ease,opacity .3s ease;padding-left:8px;border-radius:20px}.searchbar-wrapper.slide-in{transform:translate(0);opacity:1;pointer-events:auto;margin:10px;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f}.searchbar-wrapper.slide-out{transform:translate(100%);opacity:0;pointer-events:none}.search-wrapper ion-icon{font-size:24px;padding:8px;cursor:pointer}ion-searchbar.addMemberSearch{flex:1}.member_removedText{width:100%;display:flex;align-items:center;justify-content:center}.member_removedText span{background:#f3ecec;padding:5px;border-radius:4px}.group-admin{border-radius:3px;padding:2px 5px}.highlight-match{background-color:#ff0;font-weight:700}.selected-match{background-color:#bddbea4d!important;border-radius:4px!important;transition:background-color .5s ease!important}.pointerEvent{opacity:.5;pointer-events:none}.no-data-message{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#2f2d2de6;padding:5px 20px;border-radius:8px;font-size:16px;color:#fff8f8;z-index:1000;animation:fadeOut .5s ease-in-out forwards;animation-delay:2s;font-family:Poppins}.unreadChat_count{border:1px solid;height:16px;font-size:.6rem;display:flex;align-items:center;font-family:Poppins;justify-content:center;top:-7px;left:23px;font-size:9px;padding:2px 4px;border-radius:10px;font-family:Poppins,sans-serif;white-space:nowrap;z-index:2;line-height:1.2}.long-pressed{background-color:#f0f0f0;border-left:4px solid blue;margin:2px 0}.deleted_msg span{font-style:italic}.ellipse_span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ion-modal#dialNumberModal{--height: auto --border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);padding:50px}.forwardmsg_addgroupmemb{position:absolute;left:30px;top:30px;--border-radius: 15px;--border-width: 1px;--size: 20px;--border-width: 2px}.forward-text ion-col{padding:0;font-size:12px;font-style:italic;text-transform:capitalize;font-family:Poppins;display:flex;align-items:center;height:10px}.text-select{-webkit-user-select:auto}ion-footer.bg-img{box-shadow:none}.grow{align-items:flex-end!important}.message-row{border-radius:18px;margin:5px;padding:1px}.message-row ion-textarea{padding:4px 14px 4px 4px;--padding-bottom: 0;min-height:0!important;border-radius:4px;max-height:95px}.msg_send_icon{display:flex!important;align-items:flex-end;justify-content:center!important}.align-bottom{display:flex;align-items:flex-end;justify-content:center}.sender-message-bubble{margin-left:auto}.sticky-date{position:sticky;top:0;background:#eee;text-align:center;padding:4px 8px;z-index:10}.chat-messages{height:400px;overflow-y:scroll}.group-nameChange-wrapper{margin-left:15px;width:80%;margin-top:8px}.action-row{position:fixed;bottom:0;width:100%}.action-row ion-col{padding:0}.action-row ion-button{text-transform:capitalize;font-size:16px;font-family:Poppins}.group-nameChange-input{border:1px solid #adb1b7;border-radius:10px;--padding-start: 5px;font-family:Poppins;font-size:14px}ion-loading .loading-wrapper.sc-ion-loading-md{box-shadow:none!important;background:none}ion-loading ion-backdrop{opacity:.8!important}ion-loading{--spinner-color: white}.disappear_24{position:relative;left:24px;bottom:13px}.disappear_24 img{width:16px}.disappear_date{padding:5px 10px;background:#fdefcc;border-radius:5px;display:inline-flex;gap:.5rem;align-items:center}.mainSearch.slide-in{transform:translate(0);opacity:1;pointer-events:auto;margin:10px;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f}.mainSearch.slide-out{transform:translate(100%);opacity:0;pointer-events:none}.mainSearch{z-index:2;display:flex;align-items:center;transform:translate(100%);opacity:0;pointer-events:none;transition:transform .3s ease,opacity .3s ease;padding-left:8px;border-radius:20px}\n"],encapsulation:2}),s})();const Fn=["callslide"],Pn=["callConfirmationModal"];function En(i,s){1&i&&(e.j41(0,"div",8),e.nrm(1,"ion-img",9),e.k0s())}function $n(i,s){if(1&i&&(e.j41(0,"div",29),e.nrm(1,"ion-img",30),e.j41(2,"span"),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.i5U(4,1,t.starttime,"hh:mm a"))}}function On(i,s){1&i&&(e.j41(0,"div",31)(1,"span",32),e.EFF(2,"Re-connected"),e.k0s()())}function Dn(i,s){if(1&i&&(e.j41(0,"div",33),e.nrm(1,"ion-icon",34),e.j41(2,"span",32),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.i5U(4,1,t.starttime,"hh:mm a"))}}function Bn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-item-sliding",16,1),e.bIt("ionSwipe",function(n){const a=e.eBV(t).$implicit,r=e.sdS(1),c=e.XpG(4);return r.close(),e.Njj(c.onSwipe(n,a))}),e.j41(2,"ion-item",17)(3,"ion-card",18)(4,"ion-row",19)(5,"ion-col",20)(6,"span",21),e.EFF(7),e.k0s(),e.j41(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"ion-col",22),e.DNE(11,$n,5,4,"div",23)(12,On,3,0,"div",24)(13,Dn,5,4,"div",25),e.k0s()()()(),e.j41(14,"ion-item-options",26)(15,"div",27),e.nrm(16,"ion-icon",28),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(4);e.R7$(7),e.JRh(t.leadname),e.R7$(2),e.JRh(t.callto),e.R7$(2),e.Y8G("ngIf","1"==t.missedid&&"missed"==o.callStatus),e.R7$(),e.Y8G("ngIf","2"==t.missedid&&"missed"==o.callStatus),e.R7$(),e.Y8G("ngIf","dialed"==o.callStatus)}}function Xn(i,s){if(1&i&&(e.j41(0,"div",14)(1,"div"),e.DNE(2,Bn,17,5,"ion-item-sliding",15),e.k0s()()),2&i){const t=s.$implicit;e.R7$(2),e.Y8G("ngForOf",t.data)}}function Yn(i,s){if(1&i&&(e.j41(0,"span"),e.DNE(1,Xn,3,1,"div",13),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.groupedByDate)}}function Vn(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col",35)(2,"span"),e.EFF(3,"No Data Found..."),e.k0s()()())}function An(i,s){1&i&&(e.j41(0,"ion-row")(1,"ion-col",22)(2,"span"),e.EFF(3,"Feature update in progress..."),e.k0s()()())}function zn(i,s){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"div",10)(2,"ion-row")(3,"ion-col",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCallstatus("dialed"))}),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCallstatus("received"))}),e.j41(7,"label",12),e.EFF(8," Received - 0 "),e.k0s()(),e.j41(9,"ion-col",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCallstatus("missed"))}),e.j41(10,"span"),e.EFF(11),e.k0s()()()(),e.DNE(12,Yn,2,1,"span",5)(13,Vn,4,0,"ion-row",5)(14,An,4,0,"ion-row",5),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngClass","dialed"==t.callStatus?"bg_textColor":""),e.R7$(2),e.SpI(" Dialed - ",t._sharedservice.allCallCounts.overall,""),e.R7$(),e.Y8G("ngClass","received"==t.callStatus?"bg_textColor":""),e.R7$(3),e.Y8G("ngClass","missed"==t.callStatus?"bg_textColor":""),e.R7$(2),e.SpI(" Missed - ",t._sharedservice.allCallCounts.missed,""),e.R7$(),e.Y8G("ngIf","received"!=t.callStatus),e.R7$(),e.Y8G("ngIf",0==(null==t.groupedByDate?null:t.groupedByDate.length)&&"received"!=t.callStatus),e.R7$(),e.Y8G("ngIf","received"==t.callStatus)}}function Un(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-infinite-scroll",36,2),e.bIt("ionInfinite",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.loadData(n))}),e.nrm(2,"ion-infinite-scroll-content",37),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("disabled",!("missed"==t.callStatus||"dialed"==t.callStatus))}}function Ln(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ","("+t.lead.callto+")","")}}function Hn(i,s){1&i&&(e.j41(0,"span"),e.EFF(1,"xxxxxxxxxx"),e.k0s())}function qn(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-header",38)(1,"ion-row"),e.nrm(2,"ion-col",39),e.j41(3,"ion-col",40)(4,"span",41),e.EFF(5,"Initiate Outbound Call"),e.k0s()(),e.j41(6,"ion-col",42),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(4);return e.Njj(n.dismiss())}),e.nrm(7,"ion-icon",43),e.k0s()()(),e.j41(8,"ion-row")(9,"ion-col",44)(10,"p",45),e.EFF(11),e.DNE(12,Ln,2,1,"span",46)(13,Hn,2,0,"ng-template",null,3,e.C5r),e.EFF(15," ? "),e.k0s()()(),e.j41(16,"div",47)(17,"ion-row",48)(18,"ion-col",49),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(4);return e.Njj(n.dismiss())}),e.j41(19,"span"),e.EFF(20,"Cancel"),e.k0s()(),e.j41(21,"ion-col",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.outboundCall(!0))}),e.j41(22,"span"),e.EFF(23,"Call"),e.k0s()()()()}if(2&i){const t=e.sdS(14),o=e.XpG();e.R7$(11),e.SpI("Do you want to place a call to ",o.lead.CustomerName," "),e.R7$(),e.Y8G("ngIf",!o.isRM||o.isRM&&("Fresh"==o.lead.Leadphase&&"8"==o.lead.followupreason||"Fresh"!=o.lead.Leadphase))("ngIfElse",t)}}let Jn=(()=>{var i;class s{constructor(o,n,a){this._sharedservice=o,this.activeRoute=n,this.router=a,this.today=new Date,this.filterParams={callStatus:"",fromDate:"",toDate:""},this.callStatus="missed",this.isAdmin=!1,this.execid="",this.count=0,this.isOnCallDetailsPage=!1,this.groupedByDate=[],this.showInfiniteScroll=!0}ngOnInit(){this.activeRoute.queryParams.subscribe(o=>{this.callStatus=o.callStatus,this.showInfiniteScroll=!0,this.showSpinner=!0,this.isRM="50001"==localStorage.getItem("Role")||"50002"==localStorage.getItem("Role")||"50009"==localStorage.getItem("Role")||"50010"==localStorage.getItem("Role"),this.execid=o.executid,this.htype=o.htype,this.isOnCallDetailsPage="true"===o.isOnCallDetailsPage,this.getallCallsData(!1)}),this.isAdmin="1"==localStorage.getItem("Role")}onCallstatus(o){this.showSpinner=!0,this.resetInfiniteScroll(),this.groupedByDate=[],this.callStatus=o,this.router.navigate([],{queryParams:{callStatus:o},queryParamsHandling:"merge"})}getallCallsData(o){const n={loginid:localStorage.getItem("UserId"),fromcalldatetime:(new Date).toLocaleDateString("en-CA"),tocalldatetime:(new Date).toLocaleDateString("en-CA"),execid:this.isAdmin?this.execid:"",callstage:"dialed"==this.callStatus?"overall":this.callStatus,limit:0,limitrows:20};return this.count=o?this.count+=20:0,n.limit=this.count,new Promise((a,r)=>{this._sharedservice.fetchAllCallLogs(n).subscribe({next:c=>{if(this.showSpinner=!1,"success"==c.status){this.allCallsData=o?this.allCallsData.concat(c.success):c.success,this.groupedByDate=[];const l={};this.allCallsData.forEach(p=>{const d=this.getDateOnly(p.starttime);l[d]=l[d]||[],l[d].push(p)}),this.groupedByDate=Object.keys(l).map(p=>({date:p,data:l[p]})),a(!0)}else this.showSpinner=!1,this.allCallsData=[],this.groupedByDate=[],a(!1)},error:c=>{this.showSpinner=!1,a(!1)}})})}getDateOnly(o){return o.split(" ")[0]}loadData(o){var n=this;return(0,k.A)(function*(){const r=(yield n.content.getScrollElement()).scrollTop,c=yield n.getallCallsData(!0);setTimeout((0,k.A)(function*(){o.target.complete(),c?n.content.scrollToPoint(0,r,0):o.target.disabled=!0}),200)})()}outboundCall(o){if(this.callslide.close(),1==o){var n,a,r,c;this.callConfirmationModal.dismiss();const l=null!==(n=this.lead)&&void 0!==n&&n.callto.startsWith("91")&&(null===(a=this.lead)||void 0===a?void 0:a.callto.length)>10?null===(r=this.lead)||void 0===r?void 0:r.callto.slice(2):null===(c=this.lead)||void 0===c?void 0:c.callto,p={execid:localStorage.getItem("UserId"),callto:l,leadid:this.lead.leadid,starttime:this.getCurrentDateTime(),modeofcall:"mobile-"+this.htype,leadtype:this.htype,assignee:this.lead.Exec_IDFK};this._sharedservice.outboundCall(p).subscribe(()=>{this.callConfirmationModal.dismiss()}),this.router.navigate([],{queryParams:{isOnCallDetailsPage:!0,leadId:this.lead.leadid,execid:this.lead.Exec_IDFK,leadTabData:"status",callStatus:"Call Connected",direction:"outboundCall",headerType:this.htype},queryParamsHandling:"merge"})}else this.lead=o,this.callConfirmationModal.present()}onSwipe(o,n){"start"==o.detail.side?window.open(`https://wa.me/+91 ${n.callto}`,"_system"):this.outboundCall(n)}getCurrentDateTime(){const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")} ${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}:${String(o.getSeconds()).padStart(2,"0")}`}selectDateFilter(){}resetInfiniteScroll(){this.showInfiniteScroll=!1,setTimeout(()=>{this.showInfiniteScroll=!0},10)}ngOnDestroy(){this._sharedservice.dismissAllOverlays()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.rXU(G.d),e.rXU(x.nX),e.rXU(x.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-call-logs"]],viewQuery:function(o,n){if(1&o&&(e.GBs(Fn,5),e.GBs(Pn,5)),2&o){let a;e.mGM(a=e.lsd())&&(n.callslide=a.first),e.mGM(a=e.lsd())&&(n.callConfirmationModal=a.first)}},inputs:{content:"content"},decls:6,vars:3,consts:[["callConfirmationModal",""],["callslide",""],["infiniteScroll",""],["num",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["threshold","100px",3,"disabled","ionInfinite",4,"ngIf"],[1,"callConfirmationModal"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"callStatus","pt-2"],[1,"flex","align-items-center","justify-content-center",3,"click","ngClass"],["for","dashboard-customDate"],["class","m-2",4,"ngFor","ngForOf"],[1,"m-2"],["class","mt-2",3,"ionSwipe",4,"ngFor","ngForOf"],[1,"mt-2",3,"ionSwipe"],["lines","none",1,"call-item"],[1,"m-1",2,"width","100%"],[2,"width","100%"],["size","8",1,"d-flex","flex-column"],[1,"ellipsis"],[1,"d-flex","align-items-center","justify-content-center"],["class","missed-call-icon d-flex align-items-center justify-content-center",4,"ngIf"],["class","re-connect-div d-flex align-items-center justify-content-center",4,"ngIf"],["class","dialed-call-div d-flex align-items-center justify-content-center",4,"ngIf"],["side","end"],[1,"d-flex","align-items-center"],["name","call",1,"call-icon"],[1,"missed-call-icon","d-flex","align-items-center","justify-content-center"],["src","../../assets/CRMimages/missed-call-icon.svg"],[1,"re-connect-div","d-flex","align-items-center","justify-content-center"],[1,"font-size10-familyPoppins"],[1,"dialed-call-div","d-flex","align-items-center","justify-content-center"],["name","call",1,"pe-1"],[1,"content_center"],["threshold","100px",3,"ionInfinite","disabled"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"active_btn"],["size","1"],["size","9",1,"ion-text-center","d-flex","ion-justify-content-center"],[1,"fs-6"],["size","2",1,"ion-text-center","d-flex","ion-justify-content-center","align-items-center",3,"click"],["name","close",1,"fs-4","text-white"],[1,"ion-text-center"],[2,"font-size","20px","color","rgba(65, 65, 65, 1)"],[4,"ngIf","ngIfElse"],[1,"cancellCall-btn","m-3"],[1,"notification-heading"],[1,"d-flex","align-items-center","justify-content-center","normal_btn",3,"click"],[1,"d-flex","align-items-center","justify-content-center","active_btn",3,"click"]],template:function(o,n){1&o&&(e.DNE(0,En,2,0,"div",4)(1,zn,15,8,"span",5)(2,Un,3,1,"ion-infinite-scroll",6),e.j41(3,"ion-modal",7,0),e.DNE(5,qn,24,3,"ng-template"),e.k0s()),2&o&&(e.Y8G("ngIf",n.showSpinner),e.R7$(),e.Y8G("ngIf",!n.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",n.showInfiniteScroll))},dependencies:[f.YU,f.Sq,f.bT,_.b_,_.hU,_.eU,_.iq,_.KW,_.Ax,_.Hp,_.uz,_.CE,_.A7,_.ln,_.Sb,f.vh],styles:["@media (prefers-color-scheme: dark){.bg_textColor[_ngcontent-%COMP%]{color:#e3f6ff!important;background:#0b7ab280!important;border:.8px solid #1467a5!important}.highlight-number[_ngcontent-%COMP%], .font-colorBlue[_ngcontent-%COMP%]{color:#54bfee!important}.active_text_borederColor[_ngcontent-%COMP%]{border:.8px solid #1467a5!important;color:#e3f6ff!important}}@media (prefers-color-scheme: light){.bg_textColor[_ngcontent-%COMP%]{background:#0b7ab2!important;color:#fff!important}.highlight-number[_ngcontent-%COMP%]{color:#0b7ab2}.font-colorBlue[_ngcontent-%COMP%]{color:#0b7ab2!important}.active_text_borederColor[_ngcontent-%COMP%]{border:1px solid #0b7ab2!important;color:#0b7ab2!important}}@media (prefers-color-scheme: dark){ion-toolbar[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]{--background: #000;background:#000!important}.callStatus[_ngcontent-%COMP%]{background:#000}.callStatusCard[_ngcontent-%COMP%]{border:.6px solid #474747}.callStatusCard[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:first-child{color:#f3f3f3}.callStatusCard[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:nth-child(2){color:#019deb}.callStatusCard[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{border-bottom:.6px solid #474747}.call-item[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f3f3f3}.call-icon[_ngcontent-%COMP%]{background:green}.call-item[_ngcontent-%COMP%]{border:.6px solid #474747}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f3f3f3}}@media (prefers-color-scheme: light){.callStatus[_ngcontent-%COMP%]{background:#f7f7f8}.call-icon[_ngcontent-%COMP%]{color:#fff}.call-icon[_ngcontent-%COMP%]{background-color:#019deb}.active_btn[_ngcontent-%COMP%]{background:#0b7ab2;box-shadow:0 0 16px #0000001f;color:#fff!important}.active_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .active_btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff!important}.normal_btn[_ngcontent-%COMP%]{border:1px solid #d8d8d8;color:#5b6a83;box-shadow:0 2px 10px #7c7c7c33}}.call-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50px;padding:6px}.callStatus[_ngcontent-%COMP%]{padding-bottom:5px;position:sticky;top:0;z-index:99}.callStatus[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{gap:5px}.callStatus[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px;border-radius:50px;border:.8px solid #e4e4e4}.callStatus[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#0b7ab2}.missed-call-icon[_ngcontent-%COMP%]{background-color:red;border-radius:50px;color:#fff;padding:2px 12px}.missed-call-icon[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:14px}.missed-call-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;font-size:10px}.callStatusCard[_ngcontent-%COMP%]{border-radius:10px}.pointerEvent[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.re-connect-div[_ngcontent-%COMP%]{background:#0c6d00;border-radius:50px;color:#fff;padding:4px 6px}.dialed-call-div[_ngcontent-%COMP%]{background:#0b7ab2;border-radius:50px;color:#fff;padding:4px 6px}ion-item.call-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-start: 0;--inner-padding-end: 0;--padding-end: 0}.ellipsis[_ngcontent-%COMP%]{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.call-item[_ngcontent-%COMP%]{border-radius:10px}ion-modal.callConfirmationModal[_ngcontent-%COMP%]{--height: auto;padding:36px;--border-radius: 4px;--backdrop-opacity: .8}.cancellCall-btn[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{gap:5px}.cancellCall-btn[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px;border-radius:4px}.calender_icon[_ngcontent-%COMP%]{position:fixed;bottom:70px;right:4px;z-index:99}.calender_icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;background:#c2c2cf;border-radius:22px;display:flex;align-items:center;justify-content:center;background:#004a6f;padding:7px;color:#fff}"]}),s})();const Kn=["childRef"],Wn=["mainscrollContainer"];function Qn(i,s){if(1&i&&(e.j41(0,"span",15),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.sharedService.unReadChatCount,"")}}function Zn(i,s){if(1&i&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.JRh(t.sharedService.allCallCounts.missed)}}function ei(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-row")(2,"ion-col",3),e.nrm(3,"ion-img",4),e.k0s(),e.nrm(4,"ion-col",3),e.j41(5,"ion-col",5)(6,"ion-icon",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openEndMenu())}),e.k0s()()(),e.j41(7,"ion-row",7)(8,"ion-col",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter("chat"))}),e.j41(9,"div",9)(10,"span"),e.EFF(11,"Chat"),e.k0s(),e.DNE(12,Qn,2,1,"span",10),e.k0s()(),e.j41(13,"ion-col",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter("call"))}),e.j41(14,"div",12)(15,"span"),e.EFF(16,"Call Log"),e.k0s(),e.DNE(17,Zn,2,1,"span",13),e.k0s()(),e.j41(18,"ion-col",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilter("assigned"))}),e.j41(19,"div",14)(20,"span"),e.EFF(21,"Assigned"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(8),e.Y8G("ngClass","chat"==t.filteredParams.chatCallAssign?"active":"normal"),e.R7$(4),e.Y8G("ngIf",t.sharedService.unReadChatCount>0),e.R7$(),e.Y8G("ngClass","call"==t.filteredParams.chatCallAssign?"active":""),e.R7$(4),e.Y8G("ngIf",t.sharedService.allCallCounts.missed>0),e.R7$(),e.Y8G("ngClass","assigned"==t.filteredParams.chatCallAssign?"active":"")}}function ti(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-chat1",21),e.bIt("scrollToTop",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.scrollTop())}),e.k0s()}}function ni(i,s){if(1&i&&e.nrm(0,"app-call-logs",22),2&i){e.XpG();const t=e.sdS(1);e.Y8G("content",t)}}function ii(i,s){1&i&&(e.j41(0,"ion-row",23)(1,"ion-col",24)(2,"span"),e.EFF(3,"Feature update in progress..."),e.k0s()()())}function oi(i,s){if(1&i){const t=e.RV6();e.j41(0,"ion-content",17,0),e.bIt("ionScroll",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onScroll(n))}),e.DNE(2,ti,1,0,"app-chat1",18)(3,ni,1,1,"app-call-logs",19)(4,ii,4,0,"ion-row",20),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf","chat"==t.filteredParams.chatCallAssign),e.R7$(),e.Y8G("ngIf","call"==t.filteredParams.chatCallAssign),e.R7$(),e.Y8G("ngIf","assigned"==t.filteredParams.chatCallAssign)}}let ai=(()=>{var i;class s{constructor(o,n,a,r){this.sharedService=o,this.activeRoute=n,this.router=a,this.menuCtrl=r,this.filteredParams={chatCallAssign:"",execid:"",callStatus:""},this.isOnCallDetailsPage=!1}ngOnInit(){this.activeRoute.queryParams.subscribe(o=>{this.getqueryParam(),this.isOnCallDetailsPage="true"===o.isOnCallDetailsPage})}getqueryParam(){const o=window.location.search,n={};new URLSearchParams(o).forEach((a,r)=>{n[r]=a}),Object.keys(this.filteredParams).forEach(a=>{n.hasOwnProperty(a)?this.filteredParams[a]=n[a]:"propid"==a&&"ranavPropId"in localStorage?this.filteredParams[a]="28773":"loginid"!==a&&"limit"!==a&&"limitrows"!==a&&(this.filteredParams[a]="")})}addQueryParams(){const o={};let n=!1;for(const a in this.filteredParams)if(this.filteredParams.hasOwnProperty(a)){const r=""!==this.filteredParams[a]?this.filteredParams[a]:null;this.activeRoute.snapshot.queryParams[a]!==r&&(n=!0),o[a]=r}this.router.navigate([],{queryParams:o,queryParamsHandling:"merge"})}onFilter(o){this.filteredParams.chatCallAssign=o,this.filteredParams.callStatus="call"==o?"dialed":"",this.addQueryParams()}onScroll(o){this.content.getScrollElement().then(a=>{const r=a.scrollTop,c=a.scrollHeight,l=a.offsetHeight;this.canScroll=c>l+10,this.sharedService.isBottom=!!this.canScroll&&r+l>=c-100})}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}scrollTop(){this.content.scrollToTop(500)}}return(i=s).\u0275fac=function(o){return new(o||i)(e.rXU(G.d),e.rXU(x.nX),e.rXU(x.Ix),e.rXU(_._t))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-notification"]],viewQuery:function(o,n){if(1&o&&(e.GBs(Kn,5),e.GBs(Wn,5)),2&o){let a;e.mGM(a=e.lsd())&&(n.child=a.first),e.mGM(a=e.lsd())&&(n.content=a.first)}},decls:3,vars:2,consts:[["mainscrollContainer",""],[4,"ngIf"],["scrollEvents","true",3,"ionScroll",4,"ngIf"],[1,"pb-0"],["src","../../assets/CRMimages/siteCRMlogo.png"],["size","2",1,"pb-0"],["name","menu",1,"menu_icon",3,"click"],[1,"notification-heading"],[3,"click","ngClass"],[1,"notif-type","d-flex","align-items-center","justify-content-center"],["class","notif-Chatcount",4,"ngIf"],[1,"filter-col",3,"click","ngClass"],[1,"notif-Call","d-flex","align-items-center","justify-content-center"],["class","notif-Callcount",4,"ngIf"],[1,"notif-Assigned","d-flex","align-items-center","justify-content-center"],[1,"notif-Chatcount"],[1,"notif-Callcount"],["scrollEvents","true",3,"ionScroll"],[3,"scrollToTop",4,"ngIf"],[3,"content",4,"ngIf"],["class","commingSoon",4,"ngIf"],[3,"scrollToTop"],[3,"content"],[1,"commingSoon"],[1,"d-flex","align-items-center","justify-content-center"]],template:function(o,n){1&o&&(e.DNE(0,ei,22,5,"ion-header",1)(1,oi,5,3,"ion-content",2),e.nrm(2,"app-common-footer")),2&o&&(e.Y8G("ngIf",!n.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!n.isOnCallDetailsPage))},dependencies:[f.YU,f.bT,_.hU,_.W9,_.eU,_.iq,_.KW,_.ln,S.a,Nn,Jn],styles:["@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--ion-background-color: #000 !important;--ion-text-color: #fff !important;--ion-color-step-50: #0d0d0d;--ion-color-step-100: #1a1a1a;--ion-item-background: #121212}ion-content[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--background: #000 !important;background:#000!important}ion-card[_ngcontent-%COMP%]{--background: #1a1a1a !important;color:#fff!important}.notification-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#f8f8f8}.notification-heading[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:2px solid #54bfee!important}.notification-heading[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#54bfee!important}.notification-heading[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .notif-Assignedcount[_ngcontent-%COMP%], .notification-heading[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .notif-Callcount[_ngcontent-%COMP%], .notification-heading[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .notif-Chatcount[_ngcontent-%COMP%]{color:#fff!important}.notification-heading[_ngcontent-%COMP%]   .notif-Assignedcount[_ngcontent-%COMP%], .notification-heading[_ngcontent-%COMP%]   .notif-Callcount[_ngcontent-%COMP%], .notification-heading[_ngcontent-%COMP%]   .notif-Chatcount[_ngcontent-%COMP%]{background:#008cc9;color:#fff!important}.commingSoon[_ngcontent-%COMP%]{height:79vh;background:#222427}}@media (prefers-color-scheme: light){.active[_ngcontent-%COMP%]{border-bottom:2px solid #1467a5!important;color:#1467a5}.notif-Assignedcount[_ngcontent-%COMP%], .notif-Callcount[_ngcontent-%COMP%], .notif-Chatcount[_ngcontent-%COMP%]{background:#003855}}ion-card[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{--background: #1a1a1a !important;color:#fff!important}.logo[_ngcontent-%COMP%]::part(image){border-radius:3px!important;height:30px}.notification-heading[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{gap:5px}.notification-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins}.notification-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{position:relative}.notif-type[_ngcontent-%COMP%]{position:relative;width:30px;margin:auto;display:flex;align-items:center;justify-content:center}.notif-Chatcount[_ngcontent-%COMP%]{position:absolute;top:-2px;left:33px;font-size:8px;padding:2px 5px;border-radius:10px;font-family:Poppins,sans-serif;white-space:nowrap;z-index:2;line-height:1.2;color:#fff}.notif-Call[_ngcontent-%COMP%], .notif-Assigned[_ngcontent-%COMP%]{width:99px}.notif-Callcount[_ngcontent-%COMP%]{position:absolute;top:-1px;left:79px;font-size:8px;padding:2px 5px;border-radius:10px;font-family:Poppins,sans-serif;white-space:nowrap;z-index:2;line-height:1.2;color:#fff}.notif-Assignedcount[_ngcontent-%COMP%]{position:absolute;top:-3px;right:14px;font-size:8px;padding:2px 5px;border-radius:10px;font-family:Poppins,sans-serif;white-space:nowrap;z-index:2;line-height:1.2;color:#fff}.pointerEvent[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]}),s})();var si=h(1667);let ri=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[f.MD,x.iI.forChild([{path:"",component:ai}]),T.kr,_.bv,y.G,si.rO,I.YN,M.DE]}),s})()}}]);