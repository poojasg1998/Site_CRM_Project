"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1844],{1844:(po,G,v)=>{v.r(G),v.d(G,{MandateCustomerdetailsModule:()=>ro});var F=v(177),D=v(3477),C=v(5933),w=v(9417),T=v(467),z=v(8032),d=v.n(z),L=v(1413),U=v(152),O=v(4581),N=v(897),A=v(9633),B=v(1267),V=v(129),Y=v(3473),e=v(4438),H=v(9451),J=v(148),K=v(8428),W=v(3317),X=v(7482),q=v(8833),R=v(7805),I=v(494),Z=v(5391);const Q=["unlockleadtomandateModal"],ee=["editLeadInfoModal"],te=["closeddeal"],ne=["reSubmitLead"],ie=["retailMandate"],se=["viewAssignLeadDetail"],oe=["mergeModal"],ae=["viewToMergedLeads"],le=["callConfirmationModal"],re=["suggModal"],ce=["visitAssign"],_e=["content"],de=i=>({bg_textColor:i});function pe(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",39)(1,"ion-col",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.isfromOnCallModal?s.onBack():s.callStatus="")}),e.j41(2,"ion-icon",41),e.EFF(3,"back"),e.k0s()(),e.j41(4,"ion-col",42),e.nrm(5,"ion-img",43),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.nrm(8,"ion-col",44),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("ngClass","Call Disconnected"==t.callStatus||""==t.callStatus||null==t.callStatus?"callDisconnectedBg_color":"Answered by agent"==t.callStatus||"Ringing"==t.callStatus?"callRingingBg_color":"callConnectedBg_color"),e.R7$(),e.Y8G("ngClass",t.isfromOnCallModal||"Call Connected"!=t.callStatus&&"CONNECTING"!=t.callStatus&&"Answered"!=t.callStatus?"":"pointer-event-none opacity4"),e.R7$(4),e.Y8G("src","Call Disconnected"==t.callStatus?"../../assets/CRMimages/call-disconnected-icon.svg":"../../assets/CRMimages/on-call-icon.svg"),e.R7$(2),e.JRh("Call Disconnected"==t.callStatus?"Disconnected":"On Call")}}function ue(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",52)(1,"ion-col",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return s.isRetail=!0,e.Njj(s.onHtype("retail"))}),e.j41(2,"div")(3,"span",54),e.EFF(4,"Retail"),e.k0s()()(),e.j41(5,"ion-col",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return s.isRetail=!1,e.Njj(s.onHtype("mandate"))}),e.j41(6,"div")(7,"span",54),e.EFF(8,"Mandate"),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",t.isRetail?"activeHtype":""),e.R7$(4),e.Y8G("ngClass",t.isRetail?"":"activeHtype")}}function me(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",45)(1,"ion-col",46),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onBack())}),e.nrm(2,"ion-icon",47),e.k0s(),e.j41(3,"ion-col",48),e.EFF(4),e.DNE(5,ue,9,2,"ion-row",49),e.k0s(),e.j41(6,"ion-col",50),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.openEndMenu())}),e.nrm(7,"ion-icon",51),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.SpI(" ","1"==t.localStorage.getItem("Role")||"50003"!=t.localStorage.getItem("Role")&&"50004"!=t.localStorage.getItem("Role")?"Lead Details":""," "),e.R7$(),e.Y8G("ngIf","1"!=t.localStorage.getItem("Role")&&"50003"==t.localStorage.getItem("Role")||"50004"==t.localStorage.getItem("Role"))}}function ge(i,a){1&i&&(e.j41(0,"div",73),e.nrm(1,"ion-img",74),e.k0s())}function fe(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",96)(1,"div",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.displayAssignLeadModal("retail"))}),e.j41(2,"span"),e.EFF(3,"Assign To Retail"),e.k0s()(),e.j41(4,"div",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.displayAssignLeadModal("mandate"))}),e.j41(5,"span"),e.EFF(6,"Assign To Mandate"),e.k0s()()()}}function he(i,a){if(1&i&&(e.j41(0,"ion-row")(1,"ion-col",98)(2,"span",99),e.EFF(3),e.nI1(4,"date"),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(3),e.SpI("Lead Recieved - ",e.i5U(4,1,null==t.show_cnt?null:t.show_cnt.datetime,"dd-MMM-yyyy hh:mm: a"),"")}}function ve(i,a){if(1&i&&(e.j41(0,"ion-col",98)(1,"span",99),e.EFF(2),e.nI1(3,"date"),e.k0s()()),2&i){const t=a.$implicit;e.R7$(2),e.SpI("Lead Assigned - ",e.i5U(3,1,null==t?null:t.assigneddate,"dd-MMM-yyyy hh:mm: a"),"")}}function Ce(i,a){if(1&i&&(e.j41(0,"ion-row"),e.DNE(1,ve,4,4,"ion-col",100),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function xe(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"/"),e.k0s())}function be(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,xe,2,0,"span",34),e.EFF(2),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.show_cnt?null:t.show_cnt.customer_name),e.R7$(),e.JRh(null==t.show_cnt?null:t.show_cnt.enquiry_altname)}}function Me(i,a){if(1&i&&(e.j41(0,"div",101)(1,"div",102),e.EFF(2),e.k0s(),e.j41(3,"div",103),e.nrm(4,"ion-img",104),e.k0s()()),2&i){const t=e.XpG(3);e.Y8G("ngClass","1"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"activeHot":"2"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"activeWarm":"activeCold"),e.R7$(2),e.SpI(" ","1"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"HOT":"2"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"WARM":"COLD"," "),e.R7$(2),e.Y8G("src","1"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"../../assets/CRMimages/activehoticon.svg":"2"===(null==t.show_cnt?null:t.show_cnt.lead_priority)?"../../assets/CRMimages/activewarmicon.svg":"../../assets/CRMimages/activecoldicon.svg")}}function ke(i,a){1&i&&e.nrm(0,"ion-img",105)}function we(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row")(2,"ion-col",107)(3,"span"),e.EFF(4,"Next Followup"),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",108)(7,"span"),e.EFF(8),e.k0s()()()()),2&i){const t=e.XpG(4);e.R7$(8),e.E5c(" ",null==t.closestObject[0]?null:t.closestObject[0].nextaction_date,"-",null==t.closestObject[0]?null:t.closestObject[0].nextaction_time,"(",null==t.closestObject[0]?null:t.closestObject[0].Exec_name,") ")}}function Fe(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row")(2,"ion-col",107)(3,"span"),e.EFF(4,"Next Action"),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",108)(7,"span"),e.EFF(8),e.k0s()()()()),2&i){const t=e.XpG(4);e.R7$(8),e.E5c(" ",null==t.closestObject[0]?null:t.closestObject[0].nextaction_date,"-",null==t.closestObject[0]?null:t.closestObject[0].nextaction_time,"(",null==t.closestObject[0]?null:t.closestObject[0].Exec_name,") ")}}function je(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row")(2,"ion-col",107)(3,"span"),e.EFF(4," Next Action"),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",108)(7,"span"),e.EFF(8),e.k0s()()()()),2&i){const t=e.XpG(4);e.R7$(8),e.E5c(" ",null==t.closestObject[0]?null:t.closestObject[0].nextaction_date,"-",null==t.closestObject[0]?null:t.closestObject[0].nextaction_time,"(",null==t.closestObject[0]?null:t.closestObject[0].Exec_name,") ")}}function ye(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",106)(2,"ion-col",107),e.EFF(3,"Source"),e.k0s()(),e.j41(4,"ion-row",106)(5,"ion-col",108),e.EFF(6),e.k0s()(),e.DNE(7,we,9,3,"span",34)(8,Fe,9,3,"span",34)(9,je,9,3,"span",34),e.k0s()),2&i){const t=e.XpG(3);e.R7$(6),e.JRh(null==t.show_cnt?null:t.show_cnt.customer_source),e.R7$(),e.Y8G("ngIf",(null==t.closestObject?null:t.closestObject.length)&&"4"===(null==t.closestObject[0]?null:t.closestObject[0].followup_status)),e.R7$(),e.Y8G("ngIf",(null==t.closestObject?null:t.closestObject.length)&&null===(null==t.closestObject[0]?null:t.closestObject[0].followup_status)&&(null==t.closestObject[0]?null:t.closestObject[0].nextaction_date)),e.R7$(),e.Y8G("ngIf",(null==t.closestObject?null:t.closestObject.length)&&null===(null==t.closestObject[0]?null:t.closestObject[0].followup)&&"Fresh"!==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage))}}function De(i,a){1&i&&e.nrm(0,"span")}function Re(i,a){if(1&i&&(e.j41(0,"ion-row",106)(1,"ion-col",107),e.DNE(2,De,1,0,"span",34),e.EFF(3," Next Followup"),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("ngIf","4"===t.followup)}}function Ie(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Re,4,1,"ion-row",110),e.j41(2,"ion-row",106)(3,"ion-col",108),e.EFF(4),e.nI1(5,"date"),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngIf","4"===t.followup&&t.followupdate&&t.followuptime),e.R7$(3),e.Lme(" ",e.i5U(5,3,t.followupdate,"dd-MMM-yyyy")," ",t.followuptime," ")}}function Pe(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Ie,6,6,"span",109),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",null==t.suggestedprop?null:t.suggestedprop.slice(0,1))}}function Ee(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Pe,2,1,"span",109),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function Se(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col",111),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toViewMergedLeads())}),e.j41(1,"span",112),e.EFF(2),e.nrm(3,"ion-img",113),e.k0s()()}if(2&i){const t=e.XpG(3);e.R7$(2),e.SpI(" ",t.mergedleads.length," Lead Merged ")}}function Ge(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"/"),e.k0s())}function Te(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Ge,2,0,"span",34),e.EFF(2),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.show_cnt?null:t.show_cnt.customer_mail),e.R7$(),e.JRh(null==t.show_cnt?null:t.show_cnt.enquiry_altmail)}}function $e(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"/"),e.k0s())}function Oe(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,$e,2,0,"span",34),e.EFF(2),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.show_cnt?null:t.show_cnt.customer_number),e.R7$(),e.JRh(null==t.show_cnt?null:t.show_cnt.enquiry_altnumber)}}function Ne(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col",39)(1,"span"),e.EFF(2),e.DNE(3,Oe,3,2,"span",34),e.k0s(),e.j41(4,"span",114),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onMergeIcon())}),e.EFF(5,"Merge "),e.nrm(6,"ion-img",115),e.k0s()()}if(2&i){const t=e.XpG(3);e.Y8G("ngClass",t.block?"pointer-event-none opacity4":""),e.R7$(2),e.SpI(" ",null==t.show_cnt?null:t.show_cnt.customer_number," "),e.R7$(),e.Y8G("ngIf",null==t.show_cnt?null:t.show_cnt.enquiry_altnumber)}}function Ae(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"xxxxxxxxxx"),e.k0s())}function Be(i,a){1&i&&(e.j41(0,"ion-row",91)(1,"ion-col")(2,"span"),e.EFF(3," Enquired Project"),e.k0s()()())}function Ve(i,a){if(1&i&&(e.j41(0,"ion-row",92)(1,"ion-col")(2,"span"),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(3),e.JRh(null!=t.show_cnt&&t.show_cnt.customer_properties?null==t.show_cnt?null:t.show_cnt.customer_properties:"--")}}function Ye(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"ion-row",75)(2,"ion-col",76),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onEditProfile(s.show_cnt.customer_IDPK))}),e.EFF(3," Edit "),e.j41(4,"div",77),e.nrm(5,"ion-img",78),e.k0s()(),e.nrm(6,"ion-col",79),e.j41(7,"ion-popover",80),e.DNE(8,fe,7,0,"ng-template"),e.k0s()(),e.j41(9,"div",81)(10,"span"),e.DNE(11,he,5,4,"ion-row",34)(12,Ce,2,1,"ion-row",34),e.j41(13,"ion-row",82)(14,"span"),e.EFF(15),e.k0s(),e.DNE(16,be,3,2,"span",34)(17,Me,5,3,"div",83),e.k0s(),e.j41(18,"ion-row")(19,"ion-col",84),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(28);return e.Njj(s.isAdmin&&"Junk"==s.activestagestatus[0].stage?s.alert():o.present())}),e.nrm(20,"ion-img",85),e.k0s(),e.j41(21,"ion-col",84),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.navigateToWhatsApp())}),e.nrm(22,"ion-img",86),e.k0s(),e.j41(23,"ion-col",84),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return s.getAllCallLogs(!1),e.Njj(o.present())}),e.DNE(24,ke,1,0,"ion-img",87),e.k0s()(),e.DNE(25,ye,10,4,"span",34)(26,Ee,2,1,"span",34),e.k0s(),e.j41(27,"ion-row",88),e.DNE(28,Se,4,1,"ion-col",89),e.k0s()(),e.j41(29,"div",90)(30,"ion-row",91)(31,"ion-col")(32,"span"),e.EFF(33,"Mail ID"),e.k0s()()(),e.j41(34,"ion-row",92)(35,"ion-col"),e.EFF(36),e.DNE(37,Te,3,2,"span",34),e.k0s()(),e.j41(38,"ion-row",91)(39,"ion-col")(40,"span"),e.EFF(41,"Contact Number"),e.k0s()()(),e.j41(42,"ion-row",92),e.DNE(43,Ne,7,3,"ion-col",93)(44,Ae,2,0,"ng-template",null,15,e.C5r),e.k0s(),e.DNE(46,Be,4,0,"ion-row",94)(47,Ve,4,1,"ion-row",95),e.j41(48,"ion-row",91)(49,"ion-col")(50,"span"),e.EFF(51,"Preferred Location"),e.k0s()()(),e.j41(52,"ion-row",92)(53,"ion-col")(54,"span"),e.EFF(55),e.k0s()()(),e.j41(56,"ion-row",91)(57,"ion-col")(58,"span"),e.EFF(59,"Property Type"),e.k0s()()(),e.j41(60,"ion-row",92)(61,"ion-col")(62,"span"),e.EFF(63),e.k0s()()(),e.j41(64,"ion-row",91)(65,"ion-col")(66,"span"),e.EFF(67,"Possession"),e.k0s()()(),e.j41(68,"ion-row",92)(69,"ion-col")(70,"span"),e.EFF(71),e.k0s()()(),e.j41(72,"ion-row",91)(73,"ion-col")(74,"span"),e.EFF(75,"Size"),e.k0s()()(),e.j41(76,"ion-row",92)(77,"ion-col")(78,"span"),e.EFF(79),e.k0s()()(),e.j41(80,"ion-row",91)(81,"ion-col")(82,"span"),e.EFF(83,"Budget"),e.k0s()()(),e.j41(84,"ion-row",92)(85,"ion-col")(86,"span"),e.EFF(87),e.k0s()()()()()}if(2&i){const t=e.sdS(45),n=e.XpG(2);e.R7$(11),e.Y8G("ngIf",n.isAdmin),e.R7$(),e.Y8G("ngIf",!n.isAdmin),e.R7$(3),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.enquiry_name?null==n.show_cnt?null:n.show_cnt.enquiry_name:null==n.show_cnt?null:n.show_cnt.customer_name," "),e.R7$(),e.Y8G("ngIf",null==n.show_cnt?null:n.show_cnt.enquiry_altname),e.R7$(),e.Y8G("ngIf",(null==n.show_cnt?null:n.show_cnt.lead_priority)>"0"&&n.isAdmin),e.R7$(7),e.Y8G("ngIf",!n.isAdmin&&("Fresh"!=(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)||"Fresh"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)&&"4"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].followupstatus))||n.isAdmin),e.R7$(),e.Y8G("ngIf",n.isAdmin),e.R7$(),e.Y8G("ngIf",!n.isAdmin),e.R7$(2),e.Y8G("ngIf",n.mergedleads&&0!==n.mergedleads.length),e.R7$(8),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.enquiry_mail?null==n.show_cnt?null:n.show_cnt.enquiry_mail:null==n.show_cnt?null:n.show_cnt.customer_mail," "),e.R7$(),e.Y8G("ngIf",null==n.show_cnt?null:n.show_cnt.enquiry_altmail),e.R7$(6),e.Y8G("ngIf","demo"!=n.localStorage.getItem("Name")&&((n.isRM||n.isCS)&&("Fresh"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)&&"8"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].followupreason)||"Fresh"!=(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage))||"1"==n.roleid))("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",!n.ismandate),e.R7$(),e.Y8G("ngIf",!n.ismandate),e.R7$(8),e.JRh(null!=n.show_cnt&&n.show_cnt.enquiry_location?null==n.show_cnt?null:n.show_cnt.enquiry_location:"--"),e.R7$(8),e.JRh(n.leadPropertyType?n.leadPropertyType:"--"),e.R7$(8),e.JRh(n.leadPossession?n.leadPossession:"--"),e.R7$(8),e.JRh(null!=n.show_cnt&&n.show_cnt.enquiry_bhksize?(null==n.show_cnt?null:n.show_cnt.enquiry_bhksize)+"BHK":"--"),e.R7$(8),e.JRh(null!=n.show_cnt&&n.show_cnt.enquiry_budget?null==n.show_cnt?null:n.show_cnt.enquiry_budget:"--")}}function Xe(i,a){1&i&&e.nrm(0,"img",122)}function qe(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row")(1,"div",39)(2,"span",120)(3,"span",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.getexecutiveId(s))}),e.EFF(4),e.k0s(),e.DNE(5,Xe,1,0,"img",121),e.k0s()()()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.selectedExecId!==t.executiveid||null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)?null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)&&n.selectedExecId===t.executiveid?"dealClosedStyle execName":4==t.reassign_visibility||2==t.reassign_visibility||3==t.reassign_visibility?"accessRestricted execName":"text_borderColor execName":"active_text_borederColor execName"),e.R7$(3),e.SpI(" ",t.RMID==n.userid?"Self":t.customer_assign_name," "),e.R7$(),e.Y8G("ngIf",(null==t?null:t.suggestedprop)&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage))}}function ze(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,qe,6,3,"ion-row",34),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngIf","Fresh"!=t.leadstage||"Fresh"==t.leadstage&&8==t.followupreason||t.RMID==n.userid||"1"==n.roleid||"2"==n.roleid||"1"==n.role_type)}}function Le(i,a){1&i&&(e.j41(0,"span",127),e.EFF(1," Access removed "),e.nrm(2,"br"),e.EFF(3," because the lead was re-assigned. "),e.k0s())}function Ue(i,a){1&i&&(e.j41(0,"span",127),e.EFF(1," Access removed "),e.nrm(2,"br"),e.EFF(3," because the lead was in overdue "),e.k0s())}function He(i,a){if(1&i&&(e.j41(0,"span",127),e.EFF(1," Access removed "),e.nrm(2,"br"),e.EFF(3),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" because the Visit was attended by ",t.visitaccompaniedby," ")}}function Je(i,a){1&i&&(e.j41(0,"span",144),e.EFF(1," NOT VISITED "),e.k0s())}function Ke(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," USV Fixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function We(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," USV Refixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function Ze(i,a){1&i&&(e.j41(0,"span",145),e.EFF(1," USV Done "),e.nrm(2,"br"),e.j41(3,"span",147),e.EFF(4,"Interested"),e.k0s()())}function Qe(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," USV Cancelled "),e.k0s())}function et(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," USV Done "),e.nrm(2,"br"),e.j41(3,"span",147),e.EFF(4,"Not Interested"),e.k0s()())}function tt(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," USV Done "),e.nrm(2,"br"),e.j41(3,"span",149),e.EFF(4,"Visit Status Not Updated"),e.k0s()())}function nt(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," RSV Fixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function it(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," RSV Refixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function st(i,a){1&i&&(e.j41(0,"span",145),e.EFF(1," RSV Done "),e.j41(2,"span",150),e.EFF(3,"Interested"),e.k0s()())}function ot(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," RSV Cancelled "),e.k0s())}function at(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," RSV Done "),e.nrm(2,"br"),e.j41(3,"span",151),e.EFF(4,"Not Interested"),e.k0s()())}function lt(i,a){1&i&&(e.j41(0,"span",144),e.EFF(1," RSV Done "),e.nrm(2,"br"),e.j41(3,"span",150),e.EFF(4,"Not Updated"),e.k0s()())}function rt(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," Negotiation Fixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function ct(i,a){if(1&i&&(e.j41(0,"span",145),e.EFF(1," Negotiation Refixed "),e.nrm(2,"br"),e.j41(3,"span",146),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2).$implicit;e.R7$(4),e.Lme("",t.nextdate," - ",t.nexttime,"")}}function _t(i,a){1&i&&(e.j41(0,"span",145),e.EFF(1," Negotiation Done "),e.j41(2,"span",150),e.EFF(3,"Interested"),e.k0s()())}function dt(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," Negotiation Cancelled "),e.k0s())}function pt(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1," Negotiation Done "),e.nrm(2,"br"),e.j41(3,"span",152),e.EFF(4,"Not Interested"),e.k0s()())}function ut(i,a){1&i&&(e.j41(0,"span",144),e.EFF(1," Negotiation Done "),e.nrm(2,"br"),e.j41(3,"span",152),e.EFF(4,"Not Updated"),e.k0s()())}function mt(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",153),e.bIt("click",function(){e.eBV(t);const s=e.XpG(6);return e.Njj(s.openModal(s.isAdmin?"resubmit":"closeddeal",""))}),e.EFF(1),e.k0s()}if(2&i){const t=e.XpG(6);e.R7$(),e.SpI(" ",t.isAdmin?"Requested For Deal Closure":"Approval Pending"," ")}}function gt(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",153),e.bIt("click",function(){e.eBV(t);const s=e.XpG(6);return e.Njj(s.openModal("closeddeal",""))}),e.EFF(1),e.k0s()}2&i&&(e.XpG(6),e.R7$(),e.SpI(" ","Deal Closed"," "))}function ft(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",154),e.bIt("click",function(){e.eBV(t);const s=e.XpG(6);return e.Njj(s.openModal("resubmit",""))}),e.EFF(1),e.k0s()}if(2&i){const t=e.XpG(6);e.R7$(),e.SpI(" ",t.isAdmin?"Rejected - Waiting for Response":"Request Rejected"," ")}}function ht(i,a){1&i&&(e.j41(0,"span",148),e.EFF(1),e.k0s()),2&i&&(e.R7$(),e.SpI(" ","Lead Pushed to Junk"," "))}function vt(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",155)(2,"ion-col",79)(3,"span"),e.EFF(4,"Stage"),e.k0s()(),e.j41(5,"ion-col",131)(6,"span"),e.EFF(7,"Assigned On"),e.k0s()()(),e.j41(8,"ion-row",156)(9,"ion-col",79)(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"ion-col",131)(13,"span"),e.EFF(14),e.nI1(15,"date"),e.k0s()()()()),2&i){const t=e.XpG(2).$implicit,n=e.XpG().$implicit;e.R7$(11),e.JRh(t.leadstage),e.R7$(3),e.JRh(e.i5U(15,2,n.assigneddate,"dd-MMM-yyyy hh:mm: a"))}}function Ct(i,a){if(1&i&&(e.j41(0,"span")(1,"span",157),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(5).$implicit;e.R7$(2),e.JRh(t.regsource)}}function xt(i,a){if(1&i&&(e.j41(0,"span")(1,"span",157),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(5).$implicit;e.R7$(2),e.JRh(t.regcpname)}}function bt(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",155)(2,"ion-col")(3,"span"),e.EFF(4,"Registered Name"),e.k0s()(),e.j41(5,"ion-col")(6,"span"),e.EFF(7,"Registered Source"),e.k0s()()(),e.j41(8,"ion-row",156)(9,"ion-col")(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"ion-col"),e.DNE(13,Ct,3,1,"span",34)(14,xt,3,1,"span",34),e.k0s()(),e.j41(15,"ion-row",155)(16,"ion-col")(17,"span"),e.EFF(18,"Bedroom "),e.k0s()(),e.j41(19,"ion-col")(20,"span"),e.EFF(21,"Bugget"),e.k0s()()(),e.j41(22,"ion-row",156)(23,"ion-col")(24,"span"),e.EFF(25),e.k0s()(),e.j41(26,"ion-col")(27,"span"),e.EFF(28),e.k0s()()()()),2&i){const t=e.XpG(4).$implicit;e.R7$(11),e.JRh(t.regname),e.R7$(2),e.Y8G("ngIf","Channel Partners-Walkin"!==t.regsource),e.R7$(),e.Y8G("ngIf","Channel Partners-Walkin"===t.regsource),e.R7$(11),e.SpI("",t.regbhk," BHK"),e.R7$(3),e.JRh(t.budget)}}function Mt(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,bt,29,5,"span",34),e.j41(2,"ion-row",155)(3,"ion-col")(4,"span"),e.EFF(5,"Walkin Time"),e.k0s()(),e.j41(6,"ion-col")(7,"span"),e.EFF(8," Stage "),e.k0s()()(),e.j41(9,"ion-row",156)(10,"ion-col")(11,"span"),e.EFF(12),e.nI1(13,"date"),e.k0s()(),e.j41(14,"ion-col")(15,"span"),e.EFF(16),e.k0s()()()()),2&i){const t=e.XpG(2).$implicit,n=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",n.regname),e.R7$(11),e.JRh(e.i5U(13,3,n.walkintime,"dd-MMM-yyyy hh:mm: a")),e.R7$(4),e.SpI(" ",t.leadstage," ")}}function kt(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",155)(2,"ion-col")(3,"span"),e.EFF(4,"Next Followup fixed on :"),e.k0s()()(),e.j41(5,"ion-row",156)(6,"ion-col")(7,"span"),e.EFF(8),e.nI1(9,"date"),e.k0s()()()()),2&i){const t=e.XpG(2).$implicit;e.R7$(8),e.Lme("",e.i5U(9,2,t.followupdate,"dd-MMM-yyyy")," \xa0",t.followuptime,"")}}function wt(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",160),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4).$implicit,o=e.XpG(4),l=e.sdS(35);return o.fetchmails(s.name,s.propid),e.Njj(l.present())}),e.EFF(1," Expired - Register Now "),e.k0s()}}function Ft(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",153),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(7),l=e.sdS(38);return o.fetchregistereddata(s.Lead_IDFK,s.registered_propertyid),e.Njj(l.present())}),e.EFF(1," REGISTERED "),e.k0s()}}function jt(i,a){1&i&&(e.j41(0,"span",145),e.EFF(1," Already Registered "),e.k0s())}function yt(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,wt,2,0,"span",158)(2,Ft,2,0,"span",159)(3,jt,2,0,"span",137),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(7);e.R7$(),e.Y8G("ngIf",n.isDateOver30Days(t.registered_date)),e.R7$(),e.Y8G("ngIf",!n.isDateOver30Days(t.registered_date)&&(t.Exec_IDFK==n.userid||"1"==n.userid)),e.R7$(),e.Y8G("ngIf",!n.isDateOver30Days(t.registered_date)&&t.Exec_IDFK!=n.userid&&"1"!=n.userid)}}function Dt(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,yt,4,3,"span",109),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngForOf",t.registered)}}function Rt(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",161),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2).$implicit,o=e.XpG(4),l=e.sdS(35);return o.fetchmails(s.name,s.propid),e.Njj(l.present())}),e.EFF(1," REGISTER NOW "),e.k0s()}}function It(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",129)(1,"ion-row",130)(2,"ion-col",131)(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"ion-col",132),e.DNE(6,Je,2,0,"span",133)(7,Ke,5,2,"span",134)(8,We,5,2,"span",134)(9,Ze,5,0,"span",134)(10,Qe,2,0,"span",135)(11,et,5,0,"span",135)(12,tt,5,0,"span",135)(13,nt,5,2,"span",134)(14,it,5,2,"span",134)(15,st,4,0,"span",134)(16,ot,2,0,"span",135)(17,at,5,0,"span",135)(18,lt,5,0,"span",136)(19,rt,5,2,"span",134)(20,ct,5,2,"span",134)(21,_t,4,0,"span",137)(22,dt,2,0,"span",135)(23,pt,5,0,"span",135)(24,ut,5,0,"span",136)(25,mt,2,1,"span",138)(26,gt,2,1,"span",138)(27,ft,2,1,"span",139)(28,ht,2,1,"span",135),e.k0s()(),e.DNE(29,vt,16,5,"span",34)(30,Mt,17,6,"span",34)(31,kt,10,5,"span",34),e.j41(32,"ion-row",140)(33,"ion-col"),e.DNE(34,Dt,2,1,"span",34)(35,Rt,2,0,"span",141),e.k0s()(),e.j41(36,"ion-row",142),e.bIt("click",function(){e.eBV(t);const s=e.XpG(5);return e.Njj(s.onfooter("activity"))}),e.j41(37,"ion-col",143)(38,"span"),e.EFF(39,"UPDATE VISIT"),e.k0s()()()()}if(2&i){const t=e.XpG().$implicit;e.Y8G("ngClass","0"===t.actions&&"0"===t.selection&&"0"===t.currentstage||"Fresh"===t.leadstage?"bg-color1":"1"===t.selection&&"1"===t.stagestatus&&"Fresh"!==t.leadstage||"1"===t.selection&&"2"===t.stagestatus&&"Fresh"!==t.leadstage||"1"===t.actions&&"0"===t.selection&&"1"===t.currentstage&&"Fresh"!==t.leadstage||"0"===t.actions&&"1"===t.selection&&"3"===t.stagestatus&&"Fresh"!==t.leadstage||"2"===t.selection&&"1"===t.stagestatus&&"Fresh"!==t.leadstage||"1"===t.actions&&"0"===t.selection&&"3"===t.currentstage&&"Fresh"!==t.leadstage||"2"===t.selection&&"2"===t.stagestatus||"3"===t.selection&&"1"===t.stagestatus||"3"===t.selection&&"2"===t.stagestatus||"4"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage||"7"===t.actions&&"5"===t.currentstage||"6"===t.actions&&"5"===t.currentstage?"bg-color2":"2"===t.actions&&"0"===t.selection&&"1"===t.currentstage||"3"===t.actions&&"0"===t.selection&&"1"===t.currentstage||"5"===t.actions&&"0"===t.selection&&"3"===t.currentstage||"3"===t.actions&&"0"===t.selection&&"3"===t.currentstage||("1"===t.actions||"0"===t.actions)&&"2"===t.selection&&"3"===t.stagestatus||"2"===t.actions&&"0"===t.selection&&"4"===t.currentstage||"3"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage||"0"===t.actions&&"3"===t.selection&&"3"===t.stagestatus||"8"===t.actions&&"5"===t.currentstage||"3"===t.actions&&"0"===t.selection&&"0"===t.currentstage?"bg-color3":""),e.R7$(4),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf","0"===t.actions&&"0"===t.selection&&"0"===t.currentstage),e.R7$(),e.Y8G("ngIf","1"===t.selection&&"1"===t.stagestatus&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","1"===t.selection&&"2"===t.stagestatus&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","1"===t.actions&&"0"===t.selection&&"1"===t.currentstage&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","2"===t.actions&&"0"===t.selection&&"1"===t.currentstage),e.R7$(),e.Y8G("ngIf","3"===t.actions&&"0"===t.selection&&"1"===t.currentstage),e.R7$(),e.Y8G("ngIf","0"===t.actions&&"1"===t.selection&&"3"===t.stagestatus&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","2"===t.selection&&"1"===t.stagestatus&&"Fresh"!==t.leadstage||"2"==t.selection&&"1"==t.stagestatus),e.R7$(),e.Y8G("ngIf","2"===t.selection&&"2"===t.stagestatus),e.R7$(),e.Y8G("ngIf","1"===t.actions&&"0"===t.selection&&"3"===t.currentstage&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","5"===t.actions&&"0"===t.selection&&"3"===t.currentstage),e.R7$(),e.Y8G("ngIf","3"===t.actions&&"0"===t.selection&&"3"===t.currentstage),e.R7$(),e.Y8G("ngIf",("1"===t.actions||"0"===t.actions)&&"2"===t.selection&&"3"===t.stagestatus),e.R7$(),e.Y8G("ngIf","3"===t.selection&&"1"===t.stagestatus),e.R7$(),e.Y8G("ngIf","3"===t.selection&&"2"===t.stagestatus),e.R7$(),e.Y8G("ngIf","4"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","2"===t.actions&&"0"===t.selection&&"4"===t.currentstage),e.R7$(),e.Y8G("ngIf","3"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf","0"===t.actions&&"3"===t.selection&&"3"===t.stagestatus),e.R7$(),e.Y8G("ngIf","7"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","6"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","8"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","3"===t.actions&&"0"===t.selection&&"0"===t.currentstage),e.R7$(),e.Y8G("ngIf","0"===t.actions&&"0"===t.selection&&"0"===t.currentstage||"Fresh"===t.leadstage),e.R7$(),e.Y8G("ngIf","Fresh"!==t.leadstage),e.R7$(),e.Y8G("ngIf",("0"==t.actions&&"0"==t.selection&&"0"==t.currentstage||"Fresh"==t.leadstage||"1"===t.actions&&"0"===t.selection&&"1"===t.currentstage&&"Fresh"!==t.leadstage||"2"===t.selection&&"1"===t.stagestatus&&"Fresh"!==t.leadstage||"1"===t.actions&&"0"===t.selection&&"3"===t.currentstage&&"Fresh"!==t.leadstage||"3"===t.selection&&"1"===t.stagestatus||"4"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage||"3"===t.actions&&"0"===t.selection&&"4"===t.currentstage&&"Fresh"!==t.leadstage)&&"4"===t.followup&&null!==t.followupdate),e.R7$(3),e.Y8G("ngIf",null==t.registered?null:t.registered.length),e.R7$(),e.Y8G("ngIf",!(null!=t.registered&&t.registered.length))}}function Pt(i,a){if(1&i&&(e.j41(0,"span",39),e.DNE(1,It,40,30,"div",128),e.k0s()),2&i){const t=a.$implicit,n=e.XpG().$implicit,s=e.XpG(3);e.Y8G("ngClass",!s.isAdmin||"2"!=n.reassign_visibility&&3!=n.reassign_visibility&&4!=n.reassign_visibility?"":"pointer-event-none opacity4"),e.R7$(),e.Y8G("ngIf","Junk"!=t.leadstage&&1!=s.roleid&&2!=s.roleid||"1"==s.roleid)}}function Et(i,a){1&i&&(e.j41(0,"div",162)(1,"span",163),e.EFF(2," No Properties Suggested"),e.k0s()())}function St(i,a){if(1&i&&(e.j41(0,"span",123),e.DNE(1,Le,4,0,"span",124)(2,Ue,4,0,"span",124)(3,He,4,1,"span",124)(4,Pt,2,2,"span",125)(5,Et,3,0,"div",126),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngIf",2==t.reassign_visibility&&n.isAdmin),e.R7$(),e.Y8G("ngIf",3==t.reassign_visibility&&n.isAdmin),e.R7$(),e.Y8G("ngIf",4==t.reassign_visibility&&n.isAdmin),e.R7$(),e.Y8G("ngForOf",t.suggestedprop),e.R7$(),e.Y8G("ngIf",!t.suggestedprop)}}function Gt(i,a){if(1&i&&(e.j41(0,"div")(1,"span")(2,"span")(3,"ion-row")(4,"ion-col",116)(5,"span",117),e.EFF(6,"Assigned To"),e.k0s()()(),e.j41(7,"div",118),e.DNE(8,ze,2,1,"span",109),e.k0s()(),e.DNE(9,St,6,5,"span",119),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(8),e.Y8G("ngForOf",t.leadsDetailsInfo),e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function Tt(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Fix a Plan"),e.k0s())}function $t(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Fixed Plan"),e.k0s())}function Ot(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return s.onStatusActivity("plan"),e.Njj(s.checkstage())}),e.DNE(1,Tt,2,0,"span",34)(2,$t,2,0,"span",34),e.k0s()}if(2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",t.selectedSuggestedProp&&null==t.selectedSuggestedProp.weekplan),e.R7$(),e.Y8G("ngIf",t.selectedSuggestedProp&&null!=t.selectedSuggestedProp.weekplan)}}function Nt(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.checkstage())}),e.nrm(1,"i",169),e.j41(2,"span"),e.EFF(3,"Fix a Plan"),e.k0s()()}}function At(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-col",167),e.DNE(2,Ot,3,2,"span",168)(3,Nt,4,0,"span",168),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",t.isPlanSection?"rightBorder":t.block?"pointer-event-none opacity4 blurText":"")("hidden",t.assignedrm&&"Fresh"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)&&"8"!=(null==t.assignedrm[0]?null:t.assignedrm[0].followupreason)),e.R7$(),e.Y8G("ngIf",t.assignedrm&&("USV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"RSV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"Final Negotiation"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage))),e.R7$(),e.Y8G("ngIf",t.assignedrm&&"Fresh"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)&&"8"==(null==t.assignedrm[0]?null:t.assignedrm[0].followupreason))}}function Bt(i,a){1&i&&e.nrm(0,"img",122)}function Vt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"span",176)(2,"span",177),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(5);return e.Njj(o.getexecutiveId(s))}),e.EFF(3),e.k0s(),e.DNE(4,Bt,1,0,"img",121),e.k0s()()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(5);e.Y8G("ngClass",n.selectedExecId!==t.executiveid||null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)?null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)&&n.selectedExecId===t.executiveid?"dealClosedStyle execName":null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)?"text_color_green text_borderColor execName":4==t.reassign_visibility||2==t.reassign_visibility||3==t.reassign_visibility?"accessRestricted execName":"text_borderColor execName":"active_text_borederColor execName"),e.R7$(3),e.SpI(" ",t.RMID==n.userid?"Self":t.customer_assign_name," "),e.R7$(),e.Y8G("ngIf",(null==t?null:t.suggestedprop)&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage))}}function Yt(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Vt,5,3,"div",21),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(5);e.R7$(),e.Y8G("ngIf","Fresh"!=t.leadstage||"Fresh"==t.leadstage&&8==t.followupreason||t.RMID==n.userid||"1"==n.roleid||"2"==n.roleid||"1"==n.role_type)}}function Xt(i,a){if(1&i&&(e.j41(0,"div",174)(1,"ion-row")(2,"ion-col",175)(3,"span",117),e.EFF(4,"Assigned To"),e.k0s()()(),e.j41(5,"div",118),e.DNE(6,Yt,2,1,"span",109),e.k0s()()),2&i){const t=e.XpG(4);e.R7$(6),e.Y8G("ngForOf",t.leadsDetailsInfo)}}function qt(i,a){if(1&i&&(e.j41(0,"span"),e.nrm(1,"i",182),e.k0s()),2&i){const t=e.XpG(),n=t.$implicit,s=t.index,o=e.XpG(5);e.R7$(),e.ZvI("fa fa-check-circle iconmarks selectMarks",s,""),e.Y8G("ngClass",o.propid===n.propid?"selectMarks":"")}}function zt(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",181),e.bIt("click",function(){const s=e.eBV(t),o=s.$implicit,l=s.index,r=e.XpG(5);return r.tabclick(l,o),r.selectedItem=l,e.Njj(r.addquerryParam(o))}),e.DNE(1,qt,2,4,"span",34),e.EFF(2),e.k0s()}if(2&i){const t=a.$implicit,n=a.index,s=e.XpG(5);e.ZvI("btn btnTab commonbtnss actionbtnss actionss",n,""),e.Y8G("ngClass",s.propid===t.propid?"actionss":""),e.R7$(),e.Y8G("ngIf",null==s.assignedrm[0]?null:s.assignedrm[0].suggestedprop),e.R7$(),e.SpI("\xa0 ",t.name," ")}}function Lt(i,a){if(1&i&&(e.j41(0,"div",178)(1,"ion-row")(2,"div",179),e.DNE(3,zt,3,6,"button",180),e.EFF(4,"\xa0 "),e.k0s()()()),2&i){const t=e.XpG(4);e.R7$(3),e.Y8G("ngForOf",null==t.assignedrm[0]?null:t.assignedrm[0].suggestedprop)}}function Ut(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Lead Closed by ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function Ht(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Deal Closing Requested sent by ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function Jt(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Deal Closing Pending request sent to ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function Kt(i,a){1&i&&(e.j41(0,"span",185),e.EFF(1,"Closing Request Rejected by Admin"),e.k0s())}function Wt(i,a){if(1&i&&(e.j41(0,"div")(1,"div",183),e.DNE(2,Ut,2,1,"span",184)(3,Ht,2,1,"span",184)(4,Jt,2,1,"span",184)(5,Kt,2,0,"span",184),e.k0s()()),2&i){const t=e.XpG(8);e.R7$(2),e.Y8G("ngIf",t.activestagestatus&&"Deal Closed"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Deal Closing Requested"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Deal Closing Pending"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Closing Request Rejected"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage))}}function Zt(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",186)(2,"ion-col",187),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG(9);e.R7$(3),e.SpI(" ","1"===t.userid?"Deal Closed":"Booking Request Approved"," ")}}function Qt(i,a){if(1&i&&(e.j41(0,"ion-row",197)(1,"ion-col",195),e.EFF(2),e.k0s()()),2&i){const t=a.$implicit;e.R7$(2),e.SpI(" ",t.remarks," ")}}function en(i,a){if(1&i&&(e.j41(0,"span")(1,"ion-row",193)(2,"ion-col",194),e.EFF(3," Booking Request Is Rejected "),e.k0s()(),e.j41(4,"ion-row")(5,"ion-col",195),e.EFF(6,"Reason For Rejection"),e.k0s()(),e.DNE(7,Qt,3,1,"ion-row",196),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(7),e.Y8G("ngForOf",t.suggested)}}function tn(i,a){if(1&i&&(e.qex(0),e.j41(1,"ion-col",198)(2,"span",199)(3,"span",200),e.nrm(4,"img",201),e.k0s()()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.Y8G("photoGallery","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name),e.R7$(),e.Y8G("src","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name,e.B4B)}}function nn(i,a){if(1&i&&(e.qex(0),e.j41(1,"ion-col",198)(2,"a",202),e.nrm(3,"ion-img",203),e.j41(4,"div",204),e.EFF(5),e.k0s()()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(2),e.Mz_("href","https://superadmin-azure.right2shout.in/images/crm/closurefiles/",t.file_name,"",e.B4B),e.R7$(3),e.SpI(" ",t.file_name,"")}}function sn(i,a){if(1&i&&(e.qex(0),e.DNE(1,tn,5,2,"ng-container",34)(2,nn,6,3,"ng-container",34),e.bVm()),2&i){const t=a.$implicit,n=e.XpG(11);e.R7$(),e.Y8G("ngIf","jpg"===n.getExstendsion(t.file_name)),e.R7$(),e.Y8G("ngIf","pdf"===n.getExstendsion(t.file_name))}}function on(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",205),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(10);return e.Njj(o.openModal("resubmit",s.closedlead_id))}),e.j41(1,"ion-col",206),e.EFF(2," Edit "),e.nrm(3,"ion-img",207),e.k0s()()}}function an(i,a){if(1&i&&(e.j41(0,"div",189),e.DNE(1,en,8,1,"span",34),e.j41(2,"ion-row")(3,"ion-col")(4,"span",190),e.EFF(5," Selected Unit: "),e.k0s(),e.j41(6,"span",191),e.EFF(7),e.k0s()()(),e.j41(8,"ion-row")(9,"ion-col")(10,"span",190),e.EFF(11,"Unit Number:"),e.k0s(),e.j41(12,"span",191),e.EFF(13),e.k0s()()(),e.j41(14,"ion-row")(15,"ion-col")(16,"span",190),e.EFF(17,"Dimension:"),e.k0s(),e.j41(18,"span",191),e.EFF(19),e.k0s()()(),e.j41(20,"ion-row")(21,"ion-col")(22,"span",190),e.EFF(23,"Rate Per Sq Ft:"),e.k0s(),e.j41(24,"span",191),e.EFF(25),e.k0s()()(),e.j41(26,"ion-row")(27,"ion-col")(28,"span",190),e.EFF(29," Uploaded Documents:"),e.k0s()()(),e.j41(30,"ion-row"),e.DNE(31,sn,3,2,"ng-container",109),e.k0s(),e.DNE(32,on,4,0,"ion-row",192),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(4).$implicit;e.R7$(),e.Y8G("ngIf","8"===n.actions&&"5"===n.currentstage),e.R7$(6),e.JRh(t.bhk),e.R7$(6),e.JRh(t.unit_number),e.R7$(6),e.JRh(t.dimension),e.R7$(6),e.JRh(t.rate_per_sqft),e.R7$(6),e.Y8G("ngForOf",t.images),e.R7$(),e.Y8G("ngIf","8"===n.actions&&"5"===n.currentstage||"6"===n.actions&&"5"===n.currentstage)}}function ln(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,an,33,7,"div",188),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.Y8G("ngForOf",t.requestedunits)}}function rn(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,Zt,4,1,"span",34)(2,ln,2,1,"span",34),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","6"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","8"===t.actions&&"5"===t.currentstage||"6"===t.actions&&"5"===t.currentstage)}}function cn(i,a){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"span",235)(2,"span",200),e.nrm(3,"img",201),e.k0s()(),e.j41(4,"ion-icon",236),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(10);return e.Njj(o.removeImage(s))}),e.k0s(),e.bVm()}if(2&i){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("photoGallery","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name),e.R7$(),e.Y8G("src","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name,e.B4B)}}function _n(i,a){if(1&i&&(e.qex(0),e.j41(1,"a",202),e.nrm(2,"ion-img",237),e.j41(3,"div",238),e.EFF(4),e.k0s()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Mz_("href","https://superadmin-azure.right2shout.in/images/crm/closurefiles/",t.file_name,"",e.B4B),e.R7$(3),e.SpI(" ",t.file_name,"")}}function dn(i,a){if(1&i&&(e.j41(0,"ion-col",233)(1,"div",234),e.DNE(2,cn,5,2,"ng-container",34)(3,_n,5,3,"ng-container",34),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG(10);e.R7$(2),e.Y8G("ngIf","jpg"===n.getExstendsion(t.file_name)),e.R7$(),e.Y8G("ngIf","pdf"===n.getExstendsion(t.file_name))}}function pn(i,a){1&i&&e.nrm(0,"ion-col",239)}function un(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",189)(1,"ion-row",209)(2,"ion-col",210),e.EFF(3," Booking Request"),e.k0s()(),e.j41(4,"div")(5,"ion-row")(6,"ion-col",211),e.EFF(7,"Selected Unit:"),e.k0s()(),e.j41(8,"ion-row",212)(9,"ion-select",213),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.bhk,s)||(o.bhk=s),e.Njj(s)}),e.j41(10,"ion-select-option",214),e.EFF(11,"1 BHK"),e.k0s(),e.j41(12,"ion-select-option",215),e.EFF(13,"2 BHK"),e.k0s(),e.j41(14,"ion-select-option",216),e.EFF(15,"3 BHK"),e.k0s(),e.j41(16,"ion-select-option",217),e.EFF(17,"4 BHK"),e.k0s(),e.j41(18,"ion-select-option",218),e.EFF(19,"5 BHK"),e.k0s()()(),e.j41(20,"ion-row")(21,"ion-col",211),e.EFF(22,"Unit Number:"),e.k0s()(),e.j41(23,"ion-row",212)(24,"ion-input",219),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.unit_number,s)||(o.unit_number=s),e.Njj(s)}),e.k0s()(),e.j41(25,"ion-row")(26,"ion-col",211),e.EFF(27,"Dimension:"),e.k0s()(),e.j41(28,"ion-row",212)(29,"ion-input",220),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.dimension,s)||(o.dimension=s),e.Njj(s)}),e.k0s()(),e.j41(30,"ion-row")(31,"ion-col",211),e.EFF(32,"Rate Per Sqft:"),e.k0s()(),e.j41(33,"ion-row",212)(34,"ion-input",221),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.rate_per_sqft,s)||(o.rate_per_sqft=s),e.Njj(s)}),e.k0s()(),e.j41(35,"ion-row")(36,"ion-col",211),e.EFF(37,"Executive Remark"),e.k0s()(),e.j41(38,"ion-row",212)(39,"ion-input",222),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.rate_per_sqft,s)||(o.rate_per_sqft=s),e.Njj(s)}),e.k0s()(),e.j41(40,"ion-row")(41,"ion-col",211),e.EFF(42,"Uploaded Documents:"),e.k0s()(),e.j41(43,"ion-grid")(44,"ion-row"),e.DNE(45,dn,4,2,"ion-col",223)(46,pn,1,0,"ion-col",224),e.j41(47,"ion-col",198)(48,"div",225)(49,"label",226),e.nrm(50,"ion-img",227),e.j41(51,"input",228),e.bIt("change",function(s){e.eBV(t);const o=e.XpG().$implicit,l=e.XpG(8);return e.Njj(l.onFileSelected(s,o.Lead_IDFK,o.Exec_IDFK,o.property))}),e.k0s()()()()()(),e.j41(52,"ion-row")(53,"ion-col",211),e.EFF(54," Reason For Rejection: "),e.k0s()(),e.j41(55,"ion-row",229)(56,"ion-col")(57,"ion-textarea",230,16),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(9);return e.DH7(o.remark,s)||(o.remark=s),e.Njj(s)}),e.k0s()()(),e.j41(59,"ion-row",90)(60,"ion-col",231),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(8);return e.Njj(o.requestrejection(s.Lead_IDFK,s.Exec_IDFK,s.property))}),e.EFF(61," Reject "),e.k0s(),e.j41(62,"ion-col",232),e.bIt("click",function(){e.eBV(t);const s=e.sdS(58),o=e.XpG().$implicit,l=e.XpG(8);return e.Njj(s.value&&0!==s.value.trim().length?"":l.requestapproval(o.Lead_IDFK,o.Exec_IDFK,o.property))}),e.EFF(63," Approve "),e.k0s()()()()}if(2&i){const t=e.sdS(58),n=e.XpG().$implicit,s=e.XpG(2).index,o=e.XpG(6);e.R7$(9),e.R50("ngModel",n.bhk),e.R7$(15),e.R50("ngModel",n.unit_number),e.R7$(5),e.R50("ngModel",n.dimension),e.R7$(5),e.R50("ngModel",n.rate_per_sqft),e.R7$(5),e.R50("ngModel",n.rate_per_sqft),e.R7$(6),e.Y8G("ngForOf",n.images),e.R7$(),e.Y8G("ngIf",s>0&&s%2==0),e.R7$(11),e.R50("ngModel",o.remark),e.R7$(3),e.Y8G("ngClass",t.value&&0!==t.value.trim().length?"approve-btn":"reject-btn"),e.R7$(2),e.Y8G("ngClass",t.value&&0!==t.value.trim().length?"reject-btn":"approve-btn")}}function mn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,un,64,10,"div",208),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","7"===t.actions&&"5"===t.currentstage)}}function gn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Wt,6,4,"div",34)(2,rn,3,2,"div",34)(3,mn,2,1,"span",109),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(6);e.R7$(),e.Y8G("ngIf",(null==n.activestagestatus?null:n.activestagestatus.length)&&("Deal Closing Requested"==(null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)||"Deal Closed"==(null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)||"Closing Request Rejected"==(null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)||"Deal Closing Pending"==(null==n.activestagestatus[0]?null:n.activestagestatus[0].stage))&&"0"==n.feedbackId&&n.userid==n.selectedExecId||n.assignedrm&&(50013==n.assignedrm[0].roleid||50014==n.assignedrm[0].roleid)&&"1"==n.userid),e.R7$(),e.Y8G("ngIf","6"===t.actions&&"5"===t.currentstage||"8"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngForOf",n.requestedunits)}}function fn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,gn,4,3,"span",34),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(6);e.R7$(),e.Y8G("ngIf",n.selectedSuggestedProp&&n.selectedSuggestedProp.propid===t.propid)}}function hn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,fn,2,1,"span",109),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t.suggestedprop)}}function vn(i,a){if(1&i&&(e.j41(0,"div",178),e.DNE(1,hn,2,1,"span",109),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function Cn(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Lead Closed by ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function xn(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Deal Closing Requested sent by ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function bn(i,a){if(1&i&&(e.j41(0,"span",185),e.EFF(1),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.SpI("Deal Closing Pending request sent to ",null==t.assignedrm[0]?null:t.assignedrm[0].accompany,"")}}function Mn(i,a){1&i&&(e.j41(0,"span",185),e.EFF(1,"Closing Request Rejected by Admin"),e.k0s())}function kn(i,a){if(1&i&&(e.j41(0,"div")(1,"div",183),e.DNE(2,Cn,2,1,"span",184)(3,xn,2,1,"span",184)(4,bn,2,1,"span",184)(5,Mn,2,0,"span",184),e.k0s()()),2&i){const t=e.XpG(8);e.R7$(2),e.Y8G("ngIf",t.activestagestatus&&"Deal Closed"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Deal Closing Requested"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Deal Closing Pending"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.assignedrm),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Closing Request Rejected"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage))}}function wn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",240),e.nrm(2,"ion-img",241),e.j41(3,"p",242),e.EFF(4," Closure Approval Pending"),e.k0s(),e.j41(5,"p",243),e.EFF(6," Your property closure request has been sent."),e.k0s(),e.j41(7,"p",244),e.EFF(8," You can now "),e.j41(9,"u",245),e.bIt("click",function(){e.eBV(t);const s=e.XpG(9);return e.Njj(s.openModal("closeddeal",""))}),e.EFF(10,"view booking details."),e.k0s()()()()}}function Fn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div"),e.nrm(2,"ion-img",246),e.j41(3,"ion-row")(4,"ion-col",247),e.EFF(5,"Closure Request Approved"),e.k0s()(),e.j41(6,"ion-row")(7,"ion-col",248),e.EFF(8,"Your property closure request has been approved."),e.k0s()(),e.j41(9,"ion-row")(10,"ion-col",248),e.EFF(11," You can now "),e.j41(12,"u",245),e.bIt("click",function(){e.eBV(t);const s=e.XpG(9);return e.Njj(s.openModal("closeddeal",""))}),e.EFF(13,"view booking details."),e.k0s()()()()()}}function jn(i,a){if(1&i&&(e.j41(0,"span",260),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.JRh(t.remarks)}}function yn(i,a){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"span",235)(2,"span",200),e.nrm(3,"img",201),e.k0s()(),e.j41(4,"ion-icon",236),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(12);return e.Njj(o.removeImage(s))}),e.k0s(),e.bVm()}if(2&i){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("photoGallery","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name),e.R7$(),e.Y8G("src","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name,e.B4B)}}function Dn(i,a){if(1&i&&(e.qex(0),e.j41(1,"a",202),e.nrm(2,"ion-img",237),e.j41(3,"span",261),e.EFF(4),e.k0s()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Mz_("href","https://superadmin-azure.right2shout.in/images/crm/closurefiles/",t.file_name,"",e.B4B),e.R7$(3),e.JRh(t.file_name)}}function Rn(i,a){if(1&i&&(e.j41(0,"ion-col",233)(1,"div",234),e.DNE(2,yn,5,2,"ng-container",34)(3,Dn,5,3,"ng-container",34),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG(12);e.R7$(2),e.Y8G("ngIf","jpg"===n.getExstendsion(t.file_name)),e.R7$(),e.Y8G("ngIf","pdf"===n.getExstendsion(t.file_name))}}function In(i,a){1&i&&e.nrm(0,"ion-col",239)}function Pn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",212)(1,"ion-row",250)(2,"ion-col",194),e.EFF(3," Closure Request Is Rejected "),e.k0s()(),e.j41(4,"ion-row")(5,"ion-col",175)(6,"span",251),e.EFF(7,"Reason For Rejection:"),e.k0s()()(),e.j41(8,"ion-row",252)(9,"ion-col",253),e.DNE(10,jn,2,1,"span",254),e.k0s()(),e.j41(11,"ion-row")(12,"ion-col")(13,"span",251),e.EFF(14,"Selected Unit:"),e.k0s(),e.j41(15,"ion-select",213),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.bhk,s)||(o.bhk=s),e.Njj(s)}),e.j41(16,"ion-select-option",214),e.EFF(17," 1 BHK "),e.k0s(),e.j41(18,"ion-select-option",215),e.EFF(19," 2 BHK "),e.k0s(),e.j41(20,"ion-select-option",216),e.EFF(21," 3 BHK "),e.k0s(),e.j41(22,"ion-select-option",217),e.EFF(23," 4 BHK "),e.k0s(),e.j41(24,"ion-select-option",218),e.EFF(25," 5 BHK "),e.k0s()()()(),e.j41(26,"ion-row")(27,"ion-col")(28,"span",251),e.EFF(29,"Unit Number:"),e.k0s(),e.j41(30,"ion-input",255),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.unit_number,s)||(o.unit_number=s),e.Njj(s)}),e.k0s()()(),e.j41(31,"ion-row")(32,"ion-col")(33,"span",251),e.EFF(34,"Dimension:"),e.k0s(),e.j41(35,"ion-input",256),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.dimension,s)||(o.dimension=s),e.Njj(s)}),e.k0s()()(),e.j41(36,"ion-row")(37,"ion-col")(38,"span",251),e.EFF(39,"Rate Per Sqft:"),e.k0s(),e.j41(40,"ion-input",257),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG().$implicit;return e.DH7(o.rate_per_sqft,s)||(o.rate_per_sqft=s),e.Njj(s)}),e.k0s()()(),e.j41(41,"ion-row")(42,"ion-col")(43,"span",251),e.EFF(44," Uploaded Documents:"),e.k0s()()(),e.j41(45,"ion-grid")(46,"ion-row"),e.DNE(47,Rn,4,2,"ion-col",223)(48,In,1,0,"ion-col",224),e.j41(49,"ion-col",198)(50,"div",225)(51,"label",226),e.nrm(52,"ion-img",227),e.j41(53,"input",228),e.bIt("change",function(s){e.eBV(t);const o=e.XpG().$implicit,l=e.XpG(10);return e.Njj(l.onFileSelected(s,o.Lead_IDFK,o.Exec_IDFK,o.property))}),e.k0s()()()()()(),e.j41(54,"ion-row",77)(55,"ion-col",258)(56,"ion-button",259),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=s.$implicit,l=s.index,r=e.XpG(10);return e.Njj(r.resubmitdata(o.Lead_IDFK,o.Exec_IDFK,o.property,l))}),e.EFF(57,"Resend Closure Request"),e.k0s()()()()}if(2&i){const t=e.XpG(),n=t.$implicit,s=t.index;e.R7$(10),e.Y8G("ngForOf",n.suggested),e.R7$(5),e.R50("ngModel",n.bhk),e.R7$(15),e.R50("ngModel",n.unit_number),e.R7$(5),e.R50("ngModel",n.dimension),e.R7$(5),e.R50("ngModel",n.rate_per_sqft),e.R7$(7),e.Y8G("ngForOf",n.images),e.R7$(),e.Y8G("ngIf",s>0&&s%2==0)}}function En(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Pn,58,7,"div",249),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(10);e.R7$(),e.Y8G("ngIf",n.selectedSuggestedProp.propid===t.property)}}function Sn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,En,2,1,"span",109),e.k0s()),2&i){const t=e.XpG(9);e.R7$(),e.Y8G("ngForOf",t.requestedunits)}}function Gn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,wn,11,0,"div",34)(2,Fn,14,0,"div",34)(3,Sn,2,1,"span",34),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","7"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","6"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","8"===t.actions&&"5"===t.currentstage)}}function Tn(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,kn,6,4,"div",34)(2,Gn,4,3,"span",34),e.k0s()),2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngIf",("50013"==t.roleid||"50014"==t.roleid)&&(null==t.activestagestatus?null:t.activestagestatus.length)&&("Deal Closing Requested"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)||"Deal Closed"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)||"Closing Request Rejected"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)||"Deal Closing Pending"==(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage))&&"0"==t.feedbackId&&t.userid==t.selectedExecId||t.assignedrm&&("50013"==t.assignedrm[0].roleid||"50014"==t.assignedrm[0].roleid)&&"1"==t.userid),e.R7$(),e.Y8G("ngIf",!t.isCS)}}function $n(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Tn,3,2,"span",34),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(6);e.R7$(),e.Y8G("ngIf",(n.selectedSuggestedProp&&n.selectedSuggestedProp.propid)===t.propid)}}function On(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,$n,2,1,"span",109),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t.suggestedprop)}}function Nn(i,a){if(1&i&&(e.j41(0,"div",178),e.DNE(1,On,2,1,"span",109),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function An(i,a){1&i&&(e.j41(0,"div")(1,"div",183),e.EFF(2,"Lead Moved to Junk"),e.k0s()())}function Bn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",262)(1,"div",183),e.EFF(2," Lead Moved to Junk"),e.k0s(),e.j41(3,"ion-button",263),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.revertStage())}),e.EFF(4," Revert "),e.k0s()()}}function Vn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("Follow Up"))}),e.EFF(2," Follow Up"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",t.followform?"bg_textColor":"")}}function Yn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("USV"))}),e.EFF(2,"USV"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",t.usvform?"bg_textColor":"")}}function Xn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("RSV"))}),e.EFF(2,"RSV"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",t.rsvform?"bg_textColor":"")}}function qn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("Final Negotiation"))}),e.EFF(2,"FN"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",t.finalnegoform?"bg_textColor":"")}}function zn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("Lead Closed"))}),e.EFF(2,"Closed"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",t.leadclosedform?"bg_textColor":"")}}function Ln(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",266)(1,"span",267),e.bIt("click",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.actionChange("Move to Junk"))}),e.EFF(2," Junk"),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("ngClass",e.eq3(1,de,t.junkform))}}function Un(i,a){if(1&i&&(e.j41(0,"ion-row",174),e.DNE(1,Vn,3,1,"div",265)(2,Yn,3,1,"div",265)(3,Xn,3,1,"div",265)(4,qn,3,1,"div",265)(5,zn,3,1,"div",265)(6,Ln,3,3,"div",265),e.k0s()),2&i){const t=e.XpG(6);e.R7$(),e.Y8G("ngIf",t.followup),e.R7$(),e.Y8G("ngIf",t.USV),e.R7$(),e.Y8G("ngIf",t.RSV),e.R7$(),e.Y8G("ngIf",t.Negotiation),e.R7$(),e.Y8G("ngIf",t.leadclose&&"1"!=t.feedbackId),e.R7$(),e.Y8G("ngIf",t.junkmove)}}function Hn(i,a){if(1&i&&e.nrm(0,"app-follow-up-form",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function Jn(i,a){if(1&i&&e.nrm(0,"app-mandate-usv-form",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function Kn(i,a){if(1&i&&e.nrm(0,"app-mandate-rsv-form",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function Wn(i,a){if(1&i&&e.nrm(0,"app-mandate-negoform",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function Zn(i,a){if(1&i&&e.nrm(0,"app-mandate-close-form",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function Qn(i,a){if(1&i&&e.nrm(0,"app-junkform",268),2&i){const t=e.XpG(6);e.Y8G("selectedExecId",t.selectedExecId)("selectedSuggestedProp",t.selectedSuggestedProp)}}function ei(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,Un,7,6,"ion-row",170)(2,Hn,1,2,"app-follow-up-form",264)(3,Jn,1,2,"app-mandate-usv-form",264)(4,Kn,1,2,"app-mandate-rsv-form",264)(5,Wn,1,2,"app-mandate-negoform",264)(6,Zn,1,2,"app-mandate-close-form",264)(7,Qn,1,2,"app-junkform",264),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.Y8G("ngIf",t.followup||t.USV||t.RSV||t.Negotiation||t.leadclose||t.junkmove),e.R7$(),e.Y8G("ngIf",t.followform),e.R7$(),e.Y8G("ngIf",t.usvform),e.R7$(),e.Y8G("ngIf",t.rsvform),e.R7$(),e.Y8G("ngIf",t.finalnegoform),e.R7$(),e.Y8G("ngIf",t.leadclosedform),e.R7$(),e.Y8G("ngIf",t.junkform)}}function ti(i,a){if(1&i&&(e.j41(0,"span",39),e.DNE(1,ei,8,7,"div",34),e.k0s()),2&i){const t=e.XpG(4);e.Y8G("ngClass",t.block?"pointer-event-none opacity4":""),e.R7$(),e.Y8G("ngIf",!t.isSuggestedPropBoolean&&!1===t.showRejectionForm&&t.isShowStages)}}function ni(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",269),e.nrm(1,"img",270),e.j41(2,"div",271),e.EFF(3,"Access Restricted"),e.k0s(),e.j41(4,"div",272),e.EFF(5,"This executive currently does not have access to this lead. Once enabled, the executive will regain full access for the lead"),e.k0s(),e.nrm(6,"div",273),e.j41(7,"div",274),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return s.showSpinner=!0,e.Njj(s.enableAccess())}),e.EFF(8,"Enable Access"),e.k0s()()}}function ii(i,a){if(1&i&&(e.j41(0,"div",39),e.DNE(1,Xt,7,1,"div",170)(2,Lt,5,1,"div",171)(3,vn,2,1,"div",171)(4,Nn,2,1,"div",171)(5,An,3,0,"div",34)(6,Bn,5,0,"div",172)(7,ti,2,2,"span",21)(8,ni,9,0,"div",173),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("ngClass",t.visitAssigModalDismiss||"inbound"!=(null==t.onCallLeadData?null:t.onCallLeadData.direction)&&"Answered by customer"!=t.callStatus&&""!=t.callStatus?"pointer-event-none opacity4":""),e.R7$(),e.Y8G("ngIf",t.isAdminExceStatus),e.R7$(),e.Y8G("ngIf",(null==t.assignedrm?null:t.assignedrm.length)&&(null==t.assignedrm[0]||null==t.assignedrm[0].suggestedprop?null:t.assignedrm[0].suggestedprop.length)>1),e.R7$(),e.Y8G("ngIf",t.isAdmin),e.R7$(),e.Y8G("ngIf",!t.isAdmin),e.R7$(),e.Y8G("ngIf","1"!==t.roleid&&(null==t.activestagestatus?null:t.activestagestatus.length)&&"Junk"===(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)),e.R7$(),e.Y8G("ngIf",t.activestagestatus&&"Junk"===(null==t.activestagestatus[0]?null:t.activestagestatus[0].stage)&&t.leadMoveJunkExec&&"1"===t.roleid&&"0"==t.feedbackId),e.R7$(),e.Y8G("ngIf",!(!1===t.USV&&!1===t.RSV&&!1===t.Negotiation&&!1===t.leadclose&&!1===t.followup&&!1===t.junkmove||t.assignedrm&&(4==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility)||2==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility)||3==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility))&&t.isAdmin)),e.R7$(),e.Y8G("ngIf",t.assignedrm&&(4==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility)||2==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility)||3==(null==t.assignedrm[0]?null:t.assignedrm[0].reassign_visibility))&&t.isAdmin)}}function si(i,a){if(1&i&&(e.j41(0,"span",278),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI("",null==t.assignedrm[0]?null:t.assignedrm[0].customer_assign_name,"'s History")}}function oi(i,a){if(1&i&&(e.j41(0,"ion-row",286)(1,"ion-col")(2,"span"),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.Saveddate)}}function ai(i,a){1&i&&e.nrm(0,"span",295)}function li(i,a){if(1&i&&(e.j41(0,"ion-row",287)(1,"ion-col",288),e.nrm(2,"span",289),e.DNE(3,ai,1,0,"span",290),e.k0s(),e.j41(4,"ion-col",291),e.EFF(5),e.nI1(6,"date"),e.k0s(),e.j41(7,"ion-col",292)(8,"p",293),e.EFF(9),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"p",294),e.EFF(13),e.k0s()()()),2&i){const t=e.XpG(),n=t.$implicit,s=t.index,o=e.XpG(5);e.R7$(3),e.Y8G("ngIf",s+1<o.leadtrack.length),e.R7$(2),e.SpI(" ",e.i5U(6,5,n.Saveddate,"hh:mm a")," "),e.R7$(4),e.SpI(" ","got this new lead from Admin"==n.autoremarks||"got this lead from Admin"==n.autoremarks||"got this new lead from Admin Auto-Assigned"==n.autoremarks||"got this lead from Admin auto assigned"==n.autoremarks||"got this new lead from Admin auto"==n.autoremarks?n.executivename:n.updatebyname," "),e.R7$(2),e.JRh(n.autoremarks),e.R7$(2),e.JRh(n.Remarks)}}function ri(i,a){if(1&i&&(e.j41(0,"div",283),e.DNE(1,oi,4,1,"ion-row",284)(2,li,14,8,"ion-row",285),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngIf","message_date"==t.item_type),e.R7$(),e.Y8G("ngIf","message_date"!=t.item_type)}}function ci(i,a){1&i&&(e.j41(0,"div")(1,"ion-row")(2,"ion-col",296)(3,"span"),e.EFF(4,"No History Found..."),e.k0s()()()())}function _i(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,ri,3,2,"div",282)(2,ci,5,0,"div",34),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.leadtrack),e.R7$(),e.Y8G("ngIf",0==(null==t.leadtrack?null:t.leadtrack.length))}}function di(i,a){1&i&&(e.j41(0,"ion-col",77)(1,"span",299),e.EFF(2,"No records found....."),e.k0s()())}function pi(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",303)(1,"ion-col",304),e.nrm(2,"audio",104,17),e.j41(4,"ion-icon",305),e.bIt("click",function(s){e.eBV(t);const o=e.sdS(3),l=e.XpG(6);return e.Njj(l.toggleAudio(o,s))}),e.k0s()(),e.j41(5,"ion-col")(6,"div",299),e.EFF(7),e.k0s(),e.j41(8,"div",299),e.EFF(9),e.nI1(10,"date"),e.k0s()(),e.j41(11,"ion-col",306)(12,"span",307),e.EFF(13),e.k0s()()()}if(2&i){const t=a.$implicit;e.R7$(2),e.Y8G("src",t.filename,e.B4B),e.R7$(5),e.JRh(t.leadname),e.R7$(2),e.Lme("",e.i5U(10,6,t.starttime,"hh:mm a")," / ",t.direction,""),e.R7$(3),e.Y8G("ngClass","BUSY"==t.callstatus?"font-colorBlue":"ANSWER"==t.callstatus?"text_color_green":""),e.R7$(),e.JRh(t.callstatus)}}function ui(i,a){if(1&i&&(e.j41(0,"ion-card",300)(1,"ion-card-content",179)(2,"ion-grid",179)(3,"ion-row",301)(4,"ion-col")(5,"span"),e.EFF(6),e.nI1(7,"date"),e.k0s()()(),e.DNE(8,pi,14,9,"ion-row",302),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(6),e.JRh(e.i5U(7,2,t.date,"y-MM-dd")),e.R7$(2),e.Y8G("ngForOf",t.calls)}}function mi(i,a){if(1&i&&(e.j41(0,"ion-row"),e.DNE(1,di,3,0,"ion-col",297)(2,ui,9,5,"ion-card",298),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",0==t.groupedByDate.length),e.R7$(),e.Y8G("ngForOf",t.groupedByDate)}}function gi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",275)(1,"ion-row",276)(2,"ion-col",277),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onCallLeadHistory("leads"))}),e.j41(3,"span",278),e.EFF(4,"Lead History"),e.k0s()(),e.j41(5,"ion-col",279),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onCallLeadHistory("calls"))}),e.j41(6,"span",278),e.EFF(7,"Call History"),e.k0s()(),e.j41(8,"ion-col",280),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onCallLeadHistory("executive"))}),e.DNE(9,si,2,1,"span",281),e.k0s()(),e.DNE(10,_i,3,2,"span",34)(11,mi,3,2,"ion-row",34),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("ngClass","leads"==t.isCallHistory?"backgroundLightColor":""),e.R7$(3),e.Y8G("ngClass",t.isAdmin||t.executeid==t.localStorage.getItem("UserId")||"1"==t.role_type?"calls"==t.isCallHistory?"backgroundLightColor":"":"pointer-event-none opacity4 blurText"),e.R7$(3),e.Y8G("ngClass","executive"==t.isCallHistory?"backgroundLightColor":""),e.R7$(),e.Y8G("ngIf",t.assignedrm&&t.assignedrm.length>0),e.R7$(),e.Y8G("ngIf","leads"==t.isCallHistory||"executive"==t.isCallHistory),e.R7$(),e.Y8G("ngIf","calls"==t.isCallHistory)}}function fi(i,a){1&i&&e.nrm(0,"img",122)}function hi(i,a){if(1&i){const t=e.RV6();e.j41(0,"span",120)(1,"span",177),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(4);return e.Njj(o.getexecutiveId(s))}),e.EFF(2),e.k0s(),e.DNE(3,fi,1,0,"img",121),e.k0s()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(4);e.R7$(2),e.SpI(" ",t.RMID==n.userid?"Self":t.customer_assign_name," "),e.R7$(),e.Y8G("ngIf",(null==t?null:t.suggestedprop)&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage))}}function vi(i,a){if(1&i&&(e.j41(0,"span",314),e.DNE(1,hi,4,2,"span",315),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(4);e.Y8G("ngClass",n.selectedExecId!==t.executiveid||null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)?null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)&&n.selectedExecId===t.executiveid?"dealClosedStyle":null!=t&&t.suggestedprop&&"5"===(null==t||null==t.suggestedprop[0]?null:t.suggestedprop[0].currentstage)?"text_color_green text_borderColor":"text_borderColor":"active_text_borederColor"),e.R7$(),e.Y8G("ngIf","Fresh"!=t.leadstage||"Fresh"==t.leadstage&&8==t.followupreason||t.RMID==n.userid||"1"==n.roleid||"2"==n.roleid||"1"==n.role_type)}}function Ci(i,a){1&i&&e.nrm(0,"img",316)}function xi(i,a){1&i&&e.nrm(0,"img",316)}function bi(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(7);e.R7$(),e.SpI(" , ",t.visitPlanNextTime," ")}}function Mi(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.DNE(3,bi,2,1,"span",34),e.k0s()),2&i){const t=e.XpG(6);e.R7$(),e.SpI("",e.i5U(2,2,t.visitPlanNextDate,"dd-MMMM-yy")," "),e.R7$(2),e.Y8G("ngIf",t.visitPlanNextTime)}}function ki(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.DNE(2,Mi,4,5,"span",34),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ","Final Negotiation"==t.activestagestatus[0].stage?"FN":t.activestagestatus[0].stage," Fixed on "),e.R7$(),e.Y8G("ngIf",t.visitPlanNextDate)}}function wi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"ion-row")(2,"ion-col",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(5);return e.Njj(s.editvisitPlan("edit"))}),e.j41(3,"span",320),e.EFF(4,"Edit Plan"),e.k0s()(),e.j41(5,"ion-col",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(5);return e.Njj(s.confirmPlan())}),e.j41(6,"span",320),e.EFF(7,"Confirm Plan"),e.k0s()()()()}}function Fi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",77)(1,"ion-row",321)(2,"ion-col",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG(5);return e.Njj(s.editvisitPlan("change"))}),e.j41(3,"span",320),e.EFF(4," Change The Plan "),e.k0s()()()()}}function ji(i,a){if(1&i&&(e.j41(0,"div",317)(1,"div")(2,"p",318),e.DNE(3,ki,3,2,"span",34),e.k0s(),e.j41(4,"p",319),e.EFF(5),e.k0s()(),e.DNE(6,wi,8,0,"div",34)(7,Fi,5,0,"div",297),e.k0s()),2&i){const t=e.XpG(4);e.R7$(3),e.Y8G("ngIf",t.activestagestatus),e.R7$(2),e.SpI(" ",t.selectedSuggestedProp.name," were Fixed "),e.R7$(),e.Y8G("ngIf",0==t.visitPlanDone),e.R7$(),e.Y8G("ngIf",1==t.visitPlanDone)}}function yi(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-datetime",335),e.bIt("ionChange",function(s){e.eBV(t),e.XpG();const o=e.sdS(8);return e.XpG(4).onDateChange(s),e.Njj(o.dismiss())}),e.k0s()}if(2&i){const t=e.XpG(5);e.Y8G("isDateEnabled",t.isWeekday)("min",t.today)}}function Di(i,a){1&i&&(e.j41(0,"div",336),e.EFF(1,"Please select a time between 8 AM and 8 PM."),e.k0s())}function Ri(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",322)(1,"ion-row")(2,"p",261),e.EFF(3," Visit Date "),e.k0s()(),e.j41(4,"ion-row",323)(5,"div",324)(6,"ion-input",325),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(4);return e.DH7(o.visitPlandate,s)||(o.visitPlandate=s),e.Njj(s)}),e.k0s(),e.j41(7,"ion-popover",326,18),e.DNE(9,yi,1,2,"ng-template"),e.k0s()()(),e.j41(10,"ion-row",327)(11,"p",261),e.EFF(12," Visit Time "),e.k0s()(),e.j41(13,"ion-row",323)(14,"div",328)(15,"div",329)(16,"input",330),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(4);return e.DH7(o.visitPlantime,s)||(o.visitPlantime=s),e.Njj(s)}),e.bIt("ngModelChange",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.validateTime())}),e.k0s()()()(),e.nrm(17,"ngx-material-timepicker",null,19),e.DNE(19,Di,2,0,"div",331),e.j41(20,"ion-row",332)(21,"ion-col",111),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.editplan=!1)}),e.j41(22,"div",333),e.EFF(23,"Cancel"),e.k0s()(),e.j41(24,"ion-col",77)(25,"div",334),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.fixPlan())}),e.EFF(26,"Confirm"),e.k0s()()()()}if(2&i){const t=e.sdS(18),n=e.XpG(4);e.Y8G("hidden","ytc"==n.selectedPlanType),e.R7$(6),e.R50("ngModel",n.visitPlandate),e.R7$(10),e.Y8G("ngxTimepicker",t),e.R50("ngModel",n.visitPlantime),e.R7$(3),e.Y8G("ngIf",n.timeError)}}function Ii(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"div",174)(2,"ion-row")(3,"ion-col",175)(4,"span",117),e.EFF(5,"Assigned To"),e.k0s()()(),e.j41(6,"div",118),e.DNE(7,vi,2,2,"span",308),e.k0s()(),e.j41(8,"ion-row",309)(9,"ion-col")(10,"div",310),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.selectedplan("weekend"))}),e.EFF(11,"Weekend "),e.DNE(12,Ci,1,0,"img",311),e.k0s()(),e.j41(13,"ion-col")(14,"div",310),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.selectedplan("weekdays"))}),e.EFF(15,"Weekdays "),e.DNE(16,xi,1,0,"img",311),e.k0s()()(),e.DNE(17,ji,8,4,"div",312)(18,Ri,27,5,"div",313),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("ngClass",t.visitAssigModalDismiss||"inbound"!=(null==t.onCallLeadData?null:t.onCallLeadData.direction)&&("Call Connected"==t.callStatus||"CONNECTING"==t.callStatus||"Executive Busy"==t.callStatus||"BUSY"==t.callStatus)?"pointer-event-none opacity4":""),e.R7$(7),e.Y8G("ngForOf",t.leadsDetailsInfo),e.R7$(3),e.Y8G("ngClass","weekend"==t.selectedPlanType?"active_text_borederColor":"text_borederColor"),e.R7$(2),e.Y8G("ngIf",t.visitpanelselection&&"2"==(null==t.visitpanelselection[0]?null:t.visitpanelselection[0].weekplan)),e.R7$(2),e.Y8G("ngClass","weekdays"==t.selectedPlanType?"active_text_borederColor":"text_borederColor"),e.R7$(2),e.Y8G("ngIf",t.visitpanelselection&&"1"==(null==t.visitpanelselection[0]?null:t.visitpanelselection[0].weekplan)),e.R7$(),e.Y8G("ngIf",""!=t.selectedPlanType&&!t.editplan),e.R7$(),e.Y8G("ngIf",1==t.editplan)}}function Pi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",164)(1,"div")(2,"ion-row",165)(3,"ion-col",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onStatusActivity("status"))}),e.j41(4,"span"),e.EFF(5,"Status"),e.k0s()(),e.DNE(6,At,4,4,"span",34),e.j41(7,"ion-col",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onStatusActivity("activity"))}),e.j41(8,"span"),e.EFF(9,"Activity"),e.k0s()()(),e.DNE(10,ii,9,9,"div",21),e.k0s(),e.DNE(11,gi,12,6,"div",166)(12,Ii,19,8,"div",21),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngClass",t.isAdminExceStatus?"rightBorder":t.block?"pointer-event-none opacity4 blurText":""),e.R7$(3),e.Y8G("ngIf",(t.assignedrm&&("USV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"SV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"RSV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"Final Negotiation"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage))||t.assignedrm&&"Fresh"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)&&"8"==(null==t.assignedrm[0]?null:t.assignedrm[0].followupreason))&&"3"!=t.assignedrm[0].leadstatus),e.R7$(),e.Y8G("ngClass",t.isAdminExeActivity?"leftBorder":""),e.R7$(3),e.Y8G("ngIf",t.isAdminExceStatus),e.R7$(),e.Y8G("ngIf",t.isAdminExeActivity),e.R7$(),e.Y8G("ngIf",t.isPlanSection&&t.assignedrm&&("USV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"SV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"RSV"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)||"Final Negotiation"==(null==t.assignedrm[0]?null:t.assignedrm[0].leadstage)))}}function Ei(i,a){1&i&&e.nrm(0,"ion-img",337)}function Si(i,a){1&i&&e.nrm(0,"ion-img",338)}function Gi(i,a){1&i&&e.nrm(0,"ion-img",339)}function Ti(i,a){1&i&&e.nrm(0,"ion-img",340)}function $i(i,a){1&i&&(e.j41(0,"p",67),e.EFF(1,"Property Details"),e.k0s())}function Oi(i,a){1&i&&(e.j41(0,"p",67),e.EFF(1,"Assignees"),e.k0s())}function Ni(i,a){1&i&&e.nrm(0,"ion-img",341)}function Ai(i,a){1&i&&e.nrm(0,"ion-img",342)}function Bi(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-content",55,14),e.bIt("ionScroll",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onScroll(s))}),e.j41(2,"ion-refresher",56),e.bIt("ionRefresh",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.refresh(s))}),e.nrm(3,"ion-refresher-content",57),e.k0s(),e.DNE(4,ge,2,0,"div",58),e.j41(5,"div",59),e.DNE(6,Ye,88,20,"div",34),e.nrm(7,"input",60),e.DNE(8,Gt,10,2,"div",34)(9,Pi,13,6,"div",61),e.k0s(),e.j41(10,"div",62)(11,"ion-row",63)(12,"ion-col",64),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onfooter("info"))}),e.DNE(13,Ei,1,0,"ion-img",65)(14,Si,1,0,"ion-img",66),e.j41(15,"p",67),e.EFF(16,"Lead Profile"),e.k0s()(),e.j41(17,"ion-col",64),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onfooter("propertyInfo"))}),e.DNE(18,Gi,1,0,"ion-img",68)(19,Ti,1,0,"ion-img",69)(20,$i,2,0,"p",70)(21,Oi,2,0,"p",70),e.k0s(),e.j41(22,"ion-col",64),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onfooter("activity"))}),e.DNE(23,Ni,1,0,"ion-img",71)(24,Ai,1,0,"ion-img",72),e.j41(25,"p",67),e.EFF(26,"Update Status"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.showSpinner),e.R7$(2),e.Y8G("ngIf",t.isProfile),e.R7$(2),e.Y8G("ngIf",t.isProperty),e.R7$(),e.Y8G("ngIf",t.isStatusActivity),e.R7$(),e.Y8G("ngClass",t.visitAssigModalDismiss?"pointer-event-none":""),e.R7$(3),e.Y8G("ngIf",!t.isProfile),e.R7$(),e.Y8G("ngIf",t.isProfile),e.R7$(4),e.Y8G("ngIf",!t.isProperty),e.R7$(),e.Y8G("ngIf",t.isProperty),e.R7$(),e.Y8G("ngIf",!t.isAdmin),e.R7$(),e.Y8G("ngIf",t.isAdmin),e.R7$(2),e.Y8G("ngIf",!t.isStatusActivity),e.R7$(),e.Y8G("ngIf",t.isStatusActivity)}}function Vi(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-icon",343),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.displaySuggProperty())}),e.k0s()}}function Yi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",344),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return s.getExecList(),e.Njj(s.displayAssignLeadModal("mandate"))}),e.nrm(1,"ion-img",345),e.k0s()}}function Xi(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.show_cnt?null:t.show_cnt.customer_number,"")}}function qi(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"xxxxxxxxxx"),e.k0s())}function zi(i,a){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"ion-input",381),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.DH7(o.show_cnt.customer_number,s)||(o.show_cnt.customer_number=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.show_cnt.customer_number)}}function Li(i,a){1&i&&e.nrm(0,"ion-input",382)}function Ui(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-input",383),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.DH7(o.show_cnt.enquiry_altnumber,s)||(o.show_cnt.enquiry_altnumber=s),e.Njj(s)}),e.bIt("ionInput",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.alternateNumbercheck(s))}),e.k0s()}if(2&i){const t=e.XpG(2);e.R50("ngModel",t.show_cnt.enquiry_altnumber)}}function Hi(i,a){1&i&&e.nrm(0,"ion-input",384)}function Ji(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.locality)}}function Ki(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.priority)}}function Wi(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.size)}}function Zi(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function Qi(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-row")(3,"ion-col",346),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(7);return e.Njj(s.dismiss())}),e.nrm(4,"ion-icon",47),e.k0s(),e.j41(5,"ion-col",347)(6,"span",348),e.EFF(7,"Update Customer Details"),e.k0s()(),e.nrm(8,"ion-col",44),e.k0s()()(),e.j41(9,"ion-content")(10,"div",349)(11,"div",350)(12,"ion-row")(13,"ion-col",143)(14,"span",348),e.EFF(15,"Enquired Details"),e.k0s()()(),e.j41(16,"ion-row",351)(17,"ion-col")(18,"span",352),e.EFF(19,"Name"),e.k0s()(),e.j41(20,"ion-col")(21,"span",352),e.EFF(22,"Mobile Number"),e.k0s()()(),e.j41(23,"ion-row",353)(24,"ion-col",354)(25,"span",355),e.EFF(26),e.k0s()(),e.j41(27,"ion-col"),e.DNE(28,Xi,2,1,"span",356)(29,qi,2,0,"ng-template",null,15,e.C5r),e.k0s()(),e.j41(31,"ion-row",351)(32,"ion-col")(33,"span",352),e.EFF(34,"Mail ID"),e.k0s()()(),e.j41(35,"ion-row",353)(36,"ion-col")(37,"span",355),e.EFF(38),e.k0s()()(),e.j41(39,"ion-row",351)(40,"ion-col")(41,"span",352),e.EFF(42,"Location"),e.k0s()(),e.j41(43,"ion-col")(44,"span",352),e.EFF(45,"Project"),e.k0s()()(),e.j41(46,"ion-row",353)(47,"ion-col")(48,"span",355),e.EFF(49),e.k0s()(),e.j41(50,"ion-col")(51,"span",355),e.EFF(52),e.k0s()()(),e.j41(53,"ion-row",351)(54,"ion-col")(55,"span",352),e.EFF(56,"Property Type"),e.k0s()(),e.j41(57,"ion-col")(58,"span",352),e.EFF(59,"Size"),e.k0s()()(),e.j41(60,"ion-row",353)(61,"ion-col")(62,"span",355),e.EFF(63),e.k0s()(),e.j41(64,"ion-col")(65,"span",355),e.EFF(66),e.k0s()()(),e.j41(67,"ion-row",351)(68,"ion-col")(69,"span",352),e.EFF(70,"Possession"),e.k0s()(),e.j41(71,"ion-col")(72,"span",352),e.EFF(73,"Budget"),e.k0s()()(),e.j41(74,"ion-row",353)(75,"ion-col")(76,"span",355),e.EFF(77),e.k0s()(),e.j41(78,"ion-col")(79,"span",355),e.EFF(80),e.k0s()()()(),e.j41(81,"div",357)(82,"ion-row")(83,"ion-col")(84,"p"),e.EFF(85,"Primary Name"),e.k0s()()(),e.j41(86,"ion-row")(87,"ion-col")(88,"ion-input",358),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.getName,s)||(o.getName=s),e.Njj(s)}),e.k0s()()()(),e.j41(89,"div",357)(90,"ion-row")(91,"ion-col")(92,"p"),e.EFF(93,"Alternate Name"),e.k0s()()(),e.j41(94,"ion-row")(95,"ion-col")(96,"ion-input",359),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_altname,s)||(o.show_cnt.enquiry_altname=s),e.Njj(s)}),e.bIt("oninput",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.alternateNumbercheck(s))}),e.k0s()()()(),e.j41(97,"div",357)(98,"ion-row")(99,"ion-col")(100,"p"),e.EFF(101,"Primary Number"),e.k0s()()(),e.j41(102,"ion-row")(103,"ion-col",360),e.DNE(104,zi,2,1,"span",356)(105,Li,1,0,"ng-template",null,15,e.C5r),e.k0s()()(),e.j41(107,"div",357)(108,"ion-row")(109,"ion-col")(110,"p"),e.EFF(111,"Alternate Number"),e.k0s()()(),e.j41(112,"ion-row")(113,"ion-col"),e.DNE(114,Ui,1,1,"ion-input",361)(115,Hi,1,0,"ion-input",362),e.k0s()()(),e.j41(116,"div",357)(117,"ion-row")(118,"ion-col")(119,"p"),e.EFF(120,"Primary Email ID"),e.k0s()()(),e.j41(121,"ion-row")(122,"ion-col")(123,"ion-input",363),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.getMail,s)||(o.getMail=s),e.Njj(s)}),e.k0s()()()(),e.j41(124,"div",357)(125,"ion-row")(126,"ion-col")(127,"p"),e.EFF(128,"Alternate Email ID"),e.k0s()()(),e.j41(129,"ion-row")(130,"ion-col")(131,"ion-input",364),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_altmail,s)||(o.show_cnt.enquiry_altmail=s),e.Njj(s)}),e.k0s(),e.nrm(132,"ion-input",365),e.k0s()()(),e.j41(133,"div",357)(134,"ion-row")(135,"ion-col")(136,"p"),e.EFF(137,"Preferred Location"),e.k0s()()(),e.j41(138,"ion-row")(139,"ion-col")(140,"ion-select",366),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.localityid,s)||(o.show_cnt.localityid=s),e.Njj(s)}),e.DNE(141,Ji,2,2,"ion-select-option",367),e.k0s()()()(),e.j41(142,"div",357)(143,"ion-row")(144,"ion-col")(145,"p"),e.EFF(146,"Lead Priority"),e.k0s()()(),e.j41(147,"ion-row")(148,"ion-col")(149,"ion-select",368),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.lead_priority,s)||(o.show_cnt.lead_priority=s),e.Njj(s)}),e.DNE(150,Ki,2,2,"ion-select-option",367),e.k0s()()()(),e.j41(151,"div",357)(152,"ion-row")(153,"ion-col")(154,"p"),e.EFF(155,"Preferred Type"),e.k0s()()(),e.j41(156,"ion-row")(157,"ion-col")(158,"ion-select",368),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_proptype,s)||(o.show_cnt.enquiry_proptype=s),e.Njj(s)}),e.j41(159,"ion-select-option",369),e.EFF(160,"Apartment"),e.k0s(),e.j41(161,"ion-select-option",370),e.EFF(162,"Villa"),e.k0s(),e.j41(163,"ion-select-option",371),e.EFF(164,"Plot"),e.k0s(),e.j41(165,"ion-select-option",372),e.EFF(166,"villament"),e.k0s()()()()(),e.j41(167,"div",357)(168,"ion-row")(169,"ion-col")(170,"p"),e.EFF(171,"Possession With"),e.k0s()()(),e.j41(172,"ion-row")(173,"ion-col")(174,"ion-select",368),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_possession,s)||(o.show_cnt.enquiry_possession=s),e.Njj(s)}),e.j41(175,"ion-select-option",369),e.EFF(176,"Immediate"),e.k0s(),e.j41(177,"ion-select-option",370),e.EFF(178,"6 Months"),e.k0s(),e.j41(179,"ion-select-option",371),e.EFF(180,"1 Year"),e.k0s(),e.j41(181,"ion-select-option",372),e.EFF(182," < 2 years"),e.k0s()()()()(),e.j41(183,"div",357)(184,"ion-row")(185,"ion-col")(186,"p"),e.EFF(187,"Preferred Size"),e.k0s()()(),e.j41(188,"ion-row")(189,"ion-col")(190,"ion-select",373),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_bhksize,s)||(o.show_cnt.enquiry_bhksize=s),e.Njj(s)}),e.DNE(191,Wi,2,2,"ion-select-option",367),e.k0s()()()(),e.j41(192,"div",357)(193,"ion-row")(194,"ion-col")(195,"p"),e.EFF(196,"Preferred Budget"),e.k0s()()(),e.j41(197,"ion-row")(198,"ion-col")(199,"ion-select",374),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.enquiry_budget,s)||(o.show_cnt.enquiry_budget=s),e.Njj(s)}),e.DNE(200,Zi,2,2,"ion-select-option",367),e.k0s()()()(),e.j41(201,"div",375)(202,"ion-row")(203,"ion-col")(204,"p"),e.EFF(205,"Address"),e.k0s()()(),e.j41(206,"ion-row")(207,"ion-col",376)(208,"ion-textarea",377),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.show_cnt.address,s)||(o.show_cnt.address=s),e.Njj(s)}),e.k0s()()()()()(),e.j41(209,"ion-footer",378)(210,"ion-toolbar")(211,"div",357)(212,"ion-row")(213,"ion-col",379),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(7);return e.Njj(s.dismiss())}),e.j41(214,"div"),e.EFF(215,"Cancel"),e.k0s()(),e.j41(216,"ion-col",380),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.updateProfile())}),e.j41(217,"div"),e.EFF(218,"Update"),e.k0s()()()()()()}if(2&i){const t=e.sdS(30),n=e.XpG();e.R7$(26),e.JRh(null==n.show_cnt?null:n.show_cnt.customer_name),e.R7$(2),e.Y8G("ngIf",(n.isRM||n.isCS)&&("Fresh"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)&&"8"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].followupreason)||"Fresh"!=(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage))||"1"==n.roleid)("ngIfElse",t),e.R7$(10),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_mail?null==n.show_cnt?null:n.show_cnt.customer_mail:"--"," "),e.R7$(11),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_location?null==n.show_cnt?null:n.show_cnt.customer_location:"--"," "),e.R7$(3),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_properties?null==n.show_cnt?null:n.show_cnt.customer_properties:"--"," "),e.R7$(11),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_proptype?null==n.show_cnt?null:n.show_cnt.customer_proptype:"--"," "),e.R7$(3),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_size?null==n.show_cnt?null:n.show_cnt.customer_size:"--"," "),e.R7$(11),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_timeline?null==n.show_cnt?null:n.show_cnt.customer_timeline:"--"," "),e.R7$(3),e.SpI(" ",null!=n.show_cnt&&n.show_cnt.customer_budget?null==n.show_cnt?null:n.show_cnt.customer_budget:"--"," "),e.R7$(8),e.R50("ngModel",n.getName),e.R7$(8),e.R50("ngModel",n.show_cnt.enquiry_altname),e.R7$(8),e.Y8G("ngIf",(n.isRM||n.isCS)&&("Fresh"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)&&"8"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].followupreason)||"Fresh"!=(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage))||"1"==n.roleid)("ngIfElse",t),e.R7$(10),e.Y8G("ngIf","demo"!==n.localStorage.getItem("Name")&&!n.isRM),e.R7$(),e.Y8G("ngIf","demo"==n.localStorage.getItem("Name")||n.isRM),e.R7$(8),e.Y8G("placeholder",n.show_cnt.customer_mail||n.show_cnt.enquiry_mail?"":"--"),e.R50("ngModel",n.getMail),e.R7$(8),e.R50("ngModel",n.show_cnt.enquiry_altmail),e.R7$(),e.Y8G("hidden",!0),e.R7$(8),e.R50("ngModel",n.show_cnt.localityid),e.Y8G("placeholder",n.show_cnt.proptypeid?"":"--"),e.R7$(),e.Y8G("ngForOf",n.locality),e.R7$(8),e.R50("ngModel",n.show_cnt.lead_priority),e.Y8G("placeholder",n.show_cnt.lead_priority?"":"--"),e.R7$(),e.Y8G("ngForOf",n.leadpriority),e.R7$(8),e.R50("ngModel",n.show_cnt.enquiry_proptype),e.Y8G("placeholder",n.show_cnt.enquiry_proptype?"":"--"),e.R7$(16),e.R50("ngModel",n.show_cnt.enquiry_possession),e.Y8G("placeholder",n.show_cnt.enquiry_possession?"":"--"),e.R7$(16),e.Y8G("placeholder",n.show_cnt.enquiry_bhksize?"":"--"),e.R50("ngModel",n.show_cnt.enquiry_bhksize),e.R7$(),e.Y8G("ngForOf",n.size_array),e.R7$(8),e.R50("ngModel",n.show_cnt.enquiry_budget),e.Y8G("placeholder",n.show_cnt.enquiry_budget?"":"--"),e.R7$(),e.Y8G("ngForOf",n.budget_array),e.R7$(8),e.R50("ngModel",n.show_cnt.address),e.Y8G("placeholder",n.show_cnt.address?"":"--")}}function es(i,a){if(1&i&&(e.j41(0,"div")(1,"ion-select-option",385),e.EFF(2),e.k0s()()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("value",t.property_idfk),e.R7$(),e.JRh(t.property_info_name)}}function ts(i,a){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"div",397)(2,"ion-row")(3,"ion-col",398)(4,"span",299),e.EFF(5,"Select a property"),e.k0s()()(),e.j41(6,"ion-row")(7,"ion-col",399)(8,"ion-select",400),e.bIt("ionChange",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.getselectedprop(s))}),e.DNE(9,es,3,2,"div",109),e.k0s()()()(),e.j41(10,"ion-row")(11,"ion-col",393)(12,"span",299),e.EFF(13,"Select Team"),e.k0s()()(),e.j41(14,"ion-row")(15,"ion-col",401)(16,"p-dropdown",402),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.DH7(o.selectedExecTeam,s)||(o.selectedExecTeam=s),e.Njj(s)}),e.bIt("onChange",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onExecTeamSelect(s))}),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(9),e.Y8G("ngForOf",t.projectNames),e.R7$(7),e.R50("ngModel",t.selectedExecTeam),e.Y8G("options",t.execTeam)}}function ns(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(2);e.Y8G("value",t),e.R7$(),e.SpI(" ","mandate"===n.assignteam?t.name:t.Name," ")}}function is(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",386)(1,"ion-row",387)(2,"ion-col",388)(3,"span",389),e.EFF(4,"Assign Lead"),e.k0s()(),e.j41(5,"ion-col",390),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.modeldismis_reset())}),e.nrm(6,"ion-icon",391),e.k0s()(),e.j41(7,"div",392)(8,"div",90),e.DNE(9,ts,17,3,"span",34),e.j41(10,"ion-row")(11,"ion-col",393),e.EFF(12,"Select Executive"),e.k0s()(),e.j41(13,"ion-row")(14,"ion-select",394),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.selectedEXEC,s)||(o.selectedEXEC=s),e.Njj(s)}),e.bIt("ionChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.executiveSelect(s))}),e.DNE(15,ns,2,2,"ion-select-option",367),e.k0s()(),e.j41(16,"ion-row")(17,"ion-col",395)(18,"ion-button",396),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.assignLead())}),e.EFF(19,"Assign Now"),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(9),e.Y8G("ngIf","Fresh"==t.activestagestatus[0].stage||"1"==t.activestagestatus[0].stagestatus&&"USV"==t.activestagestatus[0].stage),e.R7$(5),e.Y8G("multiple","Fresh"==t.activestagestatus[0].stage||"1"==t.activestagestatus[0].stagestatus&&"USV"==t.activestagestatus[0].stage),e.R50("ngModel",t.selectedEXEC),e.R7$(),e.Y8G("ngForOf","mandate"===t.assignteam?t.mandateExecutives:t.retailExecutives)}}function ss(i,a){if(1&i&&(e.qex(0),e.j41(1,"span",235)(2,"span",200),e.nrm(3,"img",201),e.k0s()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("photoGallery","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name),e.R7$(),e.Y8G("src","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name,e.B4B)}}function os(i,a){if(1&i&&(e.qex(0),e.j41(1,"a",202),e.nrm(2,"ion-img",237),e.j41(3,"span",413),e.EFF(4),e.k0s()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Mz_("href","https://superadmin-azure.right2shout.in/images/crm/closurefiles/",t.file_name,"",e.B4B),e.R7$(3),e.JRh(t.file_name)}}function as(i,a){if(1&i&&(e.j41(0,"ion-col",233)(1,"div",234),e.DNE(2,ss,4,2,"ng-container",34)(3,os,5,3,"ng-container",34),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(2),e.Y8G("ngIf","jpg"===n.getExstendsion(t.file_name)),e.R7$(),e.Y8G("ngIf","pdf"===n.getExstendsion(t.file_name))}}function ls(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",205),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.openModal("resubmit",""))}),e.j41(1,"ion-col",206),e.EFF(2," Edit "),e.nrm(3,"ion-img",207),e.k0s()()}}function rs(i,a){if(1&i&&(e.j41(0,"div",409)(1,"ion-row")(2,"ion-col")(3,"span",410),e.EFF(4,"Selected Unit:"),e.k0s(),e.j41(5,"span",411),e.EFF(6),e.k0s()()(),e.j41(7,"ion-row")(8,"ion-col")(9,"span",410),e.EFF(10,"Unit Number:"),e.k0s(),e.j41(11,"span",412),e.EFF(12),e.k0s()()(),e.j41(13,"ion-row")(14,"ion-col")(15,"span",410),e.EFF(16,"Dimension:"),e.k0s(),e.j41(17,"span",412),e.EFF(18),e.k0s()()(),e.j41(19,"ion-row")(20,"ion-col")(21,"span",410),e.EFF(22,"Rate Per Sq Ft:"),e.k0s(),e.j41(23,"span",412),e.EFF(24),e.k0s()()(),e.j41(25,"ion-row")(26,"ion-col")(27,"span",410),e.EFF(28," Uploaded Documents:"),e.k0s()()(),e.j41(29,"ion-row"),e.DNE(30,as,4,2,"ion-col",223),e.k0s(),e.DNE(31,ls,4,0,"ion-row",192),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(6),e.JRh(t.bhk),e.R7$(6),e.JRh(t.unit_number),e.R7$(6),e.JRh(t.dimension),e.R7$(6),e.JRh(t.rate_per_sqft),e.R7$(6),e.Y8G("ngForOf",t.images),e.R7$(),e.Y8G("ngIf",n.isAdmin)}}function cs(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",403)(1,"ion-col",404)(2,"ion-title",405),e.EFF(3,"Booking details "),e.k0s()(),e.j41(4,"ion-col",304)(5,"ion-icon",406),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(13);return e.Njj(s.dismiss())}),e.k0s()()(),e.j41(6,"ion-content",407),e.DNE(7,rs,32,6,"div",408),e.k0s()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.requestedunits)}}function _s(i,a){1&i&&(e.j41(0,"div",73),e.nrm(1,"ion-spinner",417),e.k0s())}function ds(i,a){1&i&&(e.j41(0,"span",420),e.EFF(1," Booking Request is Approved "),e.k0s())}function ps(i,a){1&i&&(e.j41(0,"span",420),e.EFF(1," Booking Request is Rejected "),e.k0s())}function us(i,a){1&i&&(e.j41(0,"span",420),e.EFF(1," Requested For Deal Closure "),e.k0s())}function ms(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,ds,2,0,"span",419)(2,ps,2,0,"span",419)(3,us,2,0,"span",419),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngIf","6"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","8"===t.actions&&"5"===t.currentstage),e.R7$(),e.Y8G("ngIf","7"===t.actions&&"5"===t.currentstage)}}function gs(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,ms,4,3,"span",109),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t.suggestedprop)}}function fs(i,a){if(1&i&&(e.j41(0,"ion-col",418),e.DNE(1,gs,2,1,"span",109),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.assignedrm)}}function hs(i,a){1&i&&(e.j41(0,"ion-row",193)(1,"ion-col",194),e.EFF(2," Booking Request Is Rejected "),e.k0s()())}function vs(i,a){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"span",235)(2,"span",200),e.nrm(3,"img",201),e.k0s()(),e.j41(4,"ion-icon",236),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(6);return e.Njj(o.removeImage(s))}),e.k0s(),e.bVm()}if(2&i){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("photoGallery","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name),e.R7$(),e.Y8G("src","https://superadmin-azure.right2shout.in/images/crm/closurefiles/"+t.file_name,e.B4B)}}function Cs(i,a){if(1&i&&(e.qex(0),e.j41(1,"a",202),e.nrm(2,"ion-img",237),e.j41(3,"div",238),e.EFF(4),e.k0s()(),e.bVm()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Mz_("href","https://superadmin-azure.right2shout.in/images/crm/closurefiles/",t.file_name,"",e.B4B),e.R7$(3),e.SpI(" ",t.file_name,"")}}function xs(i,a){if(1&i&&(e.j41(0,"ion-col",233)(1,"div",234),e.DNE(2,vs,5,2,"ng-container",34)(3,Cs,5,3,"ng-container",34),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG(6);e.R7$(2),e.Y8G("ngIf","jpg"===n.getExstendsion(t.file_name)),e.R7$(),e.Y8G("ngIf","pdf"===n.getExstendsion(t.file_name))}}function bs(i,a){1&i&&e.nrm(0,"ion-col",239)}function Ms(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col")(1,"ion-textarea",424,16),e.mxI("ngModelChange",function(s){const o=e.eBV(t).$implicit;return e.DH7(o.remarks,s)||(o.remarks=s),e.Njj(s)}),e.bIt("input",function(){e.eBV(t);const s=e.XpG(7);return e.Njj(s.enableButton())}),e.k0s()()}if(2&i){const t=a.$implicit;e.R7$(),e.R50("ngModel",t.remarks)}}function ks(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col")(1,"ion-button",423),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2).$implicit,o=e.XpG(5);return e.Njj(o.requestrejection(s.Lead_IDFK,s.Exec_IDFK,s.property))}),e.EFF(2," Reject "),e.k0s()()}if(2&i){const t=e.XpG(7);e.R7$(),e.Y8G("disabled",!t.enablebuttonReject)("ngClass",t.enablebuttonReject?"approve-btn":"reject-btn")}}function ws(i,a){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"ion-row")(2,"ion-col",211),e.EFF(3," Reason For Rejection: "),e.k0s()(),e.j41(4,"ion-row",229),e.DNE(5,Ms,3,1,"ion-col",109),e.k0s(),e.j41(6,"ion-row"),e.DNE(7,ks,3,2,"ion-col",34),e.j41(8,"ion-col")(9,"ion-button",423),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(5);return e.Njj(o.editNow(s.Lead_IDFK,s.Exec_IDFK,s.property,s.closedlead_id))}),e.EFF(10," Approve "),e.k0s()()()()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(2).$implicit,s=e.XpG(3);e.R7$(5),e.Y8G("ngForOf",t.suggested),e.R7$(2),e.Y8G("ngIf",!(s.isAdmin&&"8"===n.actions&&"5"===n.currentstage)),e.R7$(2),e.Y8G("disabled",!(s.isAdmin&&"8"===n.actions&&"5"===n.currentstage||s.enablebuttonApprove))("ngClass",s.isAdmin&&"8"===n.actions&&"5"===n.currentstage||s.enablebuttonApprove?"approve-btn":"reject-btn")}}function Fs(i,a){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"ion-row",77)(2,"ion-col",258)(3,"ion-button",259),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(2).index,l=e.XpG(3);return e.Njj(l.resubmitdata(s.Lead_IDFK,s.Exec_IDFK,s.property,o))}),e.EFF(4,"Resend Closure Request"),e.k0s()()()()}}function js(i,a){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"div",189),e.DNE(2,hs,3,0,"ion-row",421),e.j41(3,"div")(4,"ion-row")(5,"ion-col",211),e.EFF(6,"Selected Unit:"),e.k0s()(),e.j41(7,"ion-row",212)(8,"ion-select",422),e.mxI("ngModelChange",function(s){const o=e.eBV(t).$implicit;return e.DH7(o.bhk,s)||(o.bhk=s),e.Njj(s)}),e.j41(9,"ion-select-option",214),e.EFF(10,"1BHK"),e.k0s(),e.j41(11,"ion-select-option",215),e.EFF(12,"2BHK"),e.k0s(),e.j41(13,"ion-select-option",216),e.EFF(14,"3BHK"),e.k0s(),e.j41(15,"ion-select-option",217),e.EFF(16,"4BHK"),e.k0s(),e.j41(17,"ion-select-option",218),e.EFF(18,"5BHK"),e.k0s()()(),e.j41(19,"ion-row")(20,"ion-col",211),e.EFF(21,"Unit Number:"),e.k0s()(),e.j41(22,"ion-row",212)(23,"ion-input",219),e.mxI("ngModelChange",function(s){const o=e.eBV(t).$implicit;return e.DH7(o.unit_number,s)||(o.unit_number=s),e.Njj(s)}),e.k0s()(),e.j41(24,"ion-row")(25,"ion-col",211),e.EFF(26,"Dimension:"),e.k0s()(),e.j41(27,"ion-row",212)(28,"ion-input",220),e.mxI("ngModelChange",function(s){const o=e.eBV(t).$implicit;return e.DH7(o.dimension,s)||(o.dimension=s),e.Njj(s)}),e.k0s()(),e.j41(29,"ion-row")(30,"ion-col",211),e.EFF(31,"Rate Per Sqft:"),e.k0s()(),e.j41(32,"ion-row",212)(33,"ion-input",221),e.mxI("ngModelChange",function(s){const o=e.eBV(t).$implicit;return e.DH7(o.rate_per_sqft,s)||(o.rate_per_sqft=s),e.Njj(s)}),e.k0s()(),e.j41(34,"ion-row")(35,"ion-col",211),e.EFF(36,"Uploaded Documents:"),e.k0s()(),e.j41(37,"ion-grid")(38,"ion-row"),e.DNE(39,xs,4,2,"ion-col",223)(40,bs,1,0,"ion-col",224),e.j41(41,"ion-col",198)(42,"div",225)(43,"label",226),e.nrm(44,"ion-img",227),e.j41(45,"input",228),e.bIt("change",function(s){const o=e.eBV(t).$implicit,l=e.XpG(5);return e.Njj(l.onFileSelected(s,o.Lead_IDFK,o.Exec_IDFK,o.property))}),e.k0s()()()()()(),e.DNE(46,ws,11,4,"span",34)(47,Fs,5,0,"span",34),e.k0s()()()}if(2&i){const t=a.$implicit,n=e.XpG(2),s=n.$implicit,o=n.index,l=e.XpG(3);e.R7$(2),e.Y8G("ngIf","8"===s.actions&&"5"===s.currentstage),e.R7$(6),e.R50("ngModel",t.bhk),e.R7$(15),e.R50("ngModel",t.unit_number),e.R7$(5),e.R50("ngModel",t.dimension),e.R7$(5),e.R50("ngModel",t.rate_per_sqft),e.R7$(6),e.Y8G("ngForOf",t.images),e.R7$(),e.Y8G("ngIf",o>0&&o%2==0),e.R7$(6),e.Y8G("ngIf",l.isAdmin),e.R7$(),e.Y8G("ngIf",!l.isAdmin)}}function ys(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,js,48,9,"span",109),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.requestedunits)}}function Ds(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,ys,2,1,"span",34),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngIf",n.selectedSuggestedProp.propid===t.propid)}}function Rs(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,Ds,2,1,"span",109),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t.suggestedprop)}}function Is(i,a){if(1&i){const t=e.RV6();e.DNE(0,_s,2,0,"div",58),e.j41(1,"ion-header")(2,"ion-toolbar")(3,"ion-row")(4,"ion-col",346),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(16);return s.getexecutiveLeadCloseDetail(),e.Njj(o.dismiss())}),e.nrm(5,"ion-icon",47),e.k0s(),e.DNE(6,fs,2,1,"ion-col",414),e.nrm(7,"ion-col",415),e.k0s()()(),e.j41(8,"ion-content",416),e.DNE(9,Rs,2,1,"span",109),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("ngIf",t.showSpinner),e.R7$(6),e.Y8G("ngForOf",t.requestedunits),e.R7$(3),e.Y8G("ngForOf",t.assignedrm)}}function Ps(i,a){if(1&i&&(e.j41(0,"div",428)(1,"ion-row",429)(2,"ion-col",430)(3,"div")(4,"span",431),e.EFF(5,"Lead Name"),e.k0s()(),e.j41(6,"div"),e.EFF(7),e.k0s()(),e.j41(8,"ion-col",432)(9,"div")(10,"span",431),e.EFF(11,"Relationship"),e.k0s()(),e.j41(12,"div"),e.EFF(13),e.k0s()()(),e.j41(14,"ion-row",429)(15,"ion-col",430)(16,"div")(17,"span",431),e.EFF(18,"Mail"),e.k0s()(),e.j41(19,"div"),e.EFF(20),e.k0s()(),e.j41(21,"ion-col",432)(22,"div")(23,"span",431),e.EFF(24,"Contact number"),e.k0s()(),e.j41(25,"div"),e.EFF(26),e.k0s()()()()),2&i){const t=a.$implicit;e.R7$(7),e.JRh(t.mergedName),e.R7$(6),e.JRh(t.relationship),e.R7$(7),e.JRh(t.mergedMail),e.R7$(6),e.JRh(t.mergedNumber)}}function Es(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",425)(1,"ion-col",388)(2,"span",54),e.EFF(3,"Merged Leads"),e.k0s()(),e.j41(4,"ion-col",346),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(19);return e.Njj(s.dismiss())}),e.nrm(5,"ion-icon",426),e.k0s()(),e.j41(6,"ion-content"),e.DNE(7,Ps,27,4,"div",427),e.k0s()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.mergedleads)}}function Ss(i,a){1&i&&(e.j41(0,"div",73),e.nrm(1,"ion-spinner",417),e.k0s())}function Gs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",445),e.bIt("click",function(){const s=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.onFilteredLead(s))}),e.j41(1,"ion-row",446)(2,"ion-col")(3,"div"),e.EFF(4),e.k0s(),e.j41(5,"div")(6,"span",447),e.EFF(7,"Lead Name"),e.k0s()()(),e.j41(8,"ion-col")(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div")(12,"span",447),e.EFF(13,"Contact number"),e.k0s()()()()()}if(2&i){const t=a.$implicit;e.R7$(4),e.JRh(t.customer_name),e.R7$(6),e.JRh(t.customer_number)}}function Ts(i,a){if(1&i&&(e.j41(0,"ion-content",443),e.DNE(1,Gs,14,2,"div",444),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredLeads)}}function $s(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",448)(1,"ion-row",446)(2,"ion-col")(3,"div"),e.EFF(4),e.k0s(),e.j41(5,"div")(6,"span",447),e.EFF(7,"Lead Name"),e.k0s()()(),e.j41(8,"ion-col")(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div")(12,"span",447),e.EFF(13,"Contact number"),e.k0s()()()(),e.j41(14,"ion-row",446)(15,"ion-col")(16,"div"),e.EFF(17),e.k0s(),e.j41(18,"div")(19,"span",447),e.EFF(20,"Lead Stage"),e.k0s()()(),e.j41(21,"ion-col")(22,"div"),e.EFF(23),e.k0s(),e.j41(24,"div")(25,"span",447),e.EFF(26,"Executive Name"),e.k0s()()()(),e.j41(27,"ion-row",446)(28,"ion-col")(29,"span"),e.EFF(30,"Relationship between Them"),e.k0s()()(),e.j41(31,"ion-row",449)(32,"ion-col",399)(33,"p-dropdown",450),e.bIt("onChange",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.relationshipSelect(s))}),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.DH7(o.selectedRelation,s)||(o.selectedRelation=s),e.Njj(s)}),e.k0s()()()()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(4),e.JRh(t.customer_name),e.R7$(6),e.JRh(t.customer_number),e.R7$(7),e.JRh(t.Lead_stage),e.R7$(6),e.JRh(t.execname),e.R7$(10),e.Y8G("options",n.relationShips),e.R50("ngModel",n.selectedRelation)}}function Os(i,a){1&i&&(e.j41(0,"ion-row",451)(1,"ion-col",143)(2,"span"),e.EFF(3,"No Data Found..."),e.k0s()()())}function Ns(i,a){if(1&i){const t=e.RV6();e.DNE(0,Ss,2,0,"div",58),e.j41(1,"div",433)(2,"ion-row",425)(3,"ion-col",388)(4,"span",54),e.EFF(5,"Merge the Lead"),e.k0s()(),e.j41(6,"ion-col",346),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onCloseMergeModal())}),e.nrm(7,"ion-icon",391),e.k0s()(),e.j41(8,"div",90)(9,"ion-row")(10,"ion-col")(11,"ion-searchbar",434),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.leadSearchTerm,s)||(o.leadSearchTerm=s),e.Njj(s)}),e.bIt("ionInput",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.searchClient(s))}),e.k0s()()(),e.j41(12,"ion-row")(13,"ion-col",435)(14,"span",436),e.EFF(15," You're merging these contacts. This will combine their info into one entry. Review the details below and select the preferred contact number. "),e.k0s()()()(),e.DNE(16,Ts,2,1,"ion-content",437)(17,$s,34,6,"div",438)(18,Os,4,0,"ion-row",439),e.k0s(),e.j41(19,"ion-footer",440)(20,"ion-row")(21,"ion-col",441)(22,"ion-button",442),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onMergeLead())}),e.EFF(23,"Merge"),e.k0s()()()()}if(2&i){const t=e.XpG();e.Y8G("ngIf",t.showSpinner),e.R7$(11),e.R50("ngModel",t.leadSearchTerm),e.R7$(5),e.Y8G("ngIf",0!==t.filteredLeads.length),e.R7$(),e.Y8G("ngForOf",t.filteredLead),e.R7$(),e.Y8G("ngIf",0===t.filteredLeads.length&&t.leadSearchTerm),e.R7$(3),e.Y8G("ngClass",t.isActiveMerge?"textBgColor":""),e.R7$(),e.Y8G("disabled",!t.isActiveMerge)}}function As(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-row",452)(1,"ion-col")(2,"span",54),e.EFF(3,"Assigned lead"),e.k0s()(),e.j41(4,"ion-col",453),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(25);return s.visitAssigModalDismiss=!0,e.Njj(o.dismiss())}),e.j41(5,"span"),e.nrm(6,"ion-icon",454),e.k0s()()(),e.j41(7,"div",455)(8,"ion-row")(9,"ion-col",376)(10,"span",195),e.EFF(11," Select Property "),e.k0s()()(),e.j41(12,"ion-row")(13,"ion-col",456)(14,"p-dropdown",457),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.selectedProperty,s)||(o.selectedProperty=s),e.Njj(s)}),e.k0s()()()(),e.j41(15,"ion-row"),e.nrm(16,"ion-col"),e.j41(17,"ion-col",458)(18,"ion-button",459),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.unlockleadtomandate())}),e.EFF(19,"Assign Now"),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(14),e.Y8G("options",t.projectNames),e.R50("ngModel",t.selectedProperty)}}function Bs(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ","( "+(null==t.show_cnt?null:t.show_cnt.customer_number)+" )","")}}function Vs(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"xxxxxxxxxx"),e.k0s())}function Ys(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-row",460),e.nrm(2,"ion-col",415),e.j41(3,"ion-col",461)(4,"h3"),e.EFF(5,"Initiate Outbound Call"),e.k0s()(),e.j41(6,"ion-col",462),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(28);return e.Njj(s.dismiss())}),e.nrm(7,"ion-icon",391),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-row")(10,"ion-col",143)(11,"p",463),e.EFF(12),e.DNE(13,Bs,2,1,"span",356)(14,Vs,2,0,"ng-template",null,15,e.C5r),e.EFF(16," ? "),e.k0s()()()(),e.j41(17,"ion-footer")(18,"ion-row")(19,"ion-col",464),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(28);return e.Njj(s.dismiss())}),e.j41(20,"ion-button",333),e.EFF(21," Cancel"),e.k0s()(),e.j41(22,"ion-col",464),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.outboundCall())}),e.j41(23,"ion-button",465),e.EFF(24," Call "),e.k0s()()()()}if(2&i){const t=e.sdS(15),n=e.XpG();e.R7$(12),e.SpI("Do you want to place a call to ",null==n.show_cnt?null:n.show_cnt.customer_name," "),e.R7$(),e.Y8G("ngIf",(n.isRM||n.isCS)&&("Fresh"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage)&&"8"==(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].followupreason)||"Fresh"!=(null==n.activestagestatus||null==n.activestagestatus[0]?null:n.activestagestatus[0].stage))||"1"==n.roleid)("ngIfElse",t)}}function Xs(i,a){1&i&&e.nrm(0,"app-on-call-lead-update")}function qs(i,a){1&i&&(e.j41(0,"div",73),e.nrm(1,"ion-spinner",417),e.k0s())}function zs(i,a){1&i&&(e.j41(0,"ion-row")(1,"ion-col",77)(2,"span",54),e.EFF(3,"No call logs found..."),e.k0s()()())}function Ls(i,a){if(1&i&&(e.j41(0,"ion-card",470)(1,"ion-card-content",179)(2,"ion-grid")(3,"ion-row")(4,"ion-col",471)(5,"p",472),e.EFF(6," Call Type"),e.k0s(),e.j41(7,"p",473),e.EFF(8),e.k0s(),e.j41(9,"p",474),e.EFF(10,"Start Time"),e.k0s(),e.j41(11,"p",475),e.EFF(12),e.k0s()(),e.j41(13,"ion-col",476)(14,"p",472),e.EFF(15," Duration"),e.k0s(),e.j41(16,"p",473),e.EFF(17),e.k0s(),e.j41(18,"span")(19,"p",474),e.EFF(20,"End Time"),e.k0s(),e.j41(21,"p",475),e.EFF(22),e.k0s()()()()()(),e.j41(23,"div",477)(24,"audio",478),e.nrm(25,"source",479),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(8),e.JRh(t.direction),e.R7$(4),e.SpI(" ",t.starttime,""),e.R7$(5),e.JRh(t.answeredtime),e.R7$(5),e.SpI(" ",t.endtime,""),e.R7$(3),e.Y8G("src",t.filename,e.B4B)}}function Us(i,a){if(1&i){const t=e.RV6();e.DNE(0,qs,2,0,"div",58),e.j41(1,"ion-header",466)(2,"ion-row",467),e.nrm(3,"ion-col",44),e.j41(4,"ion-col",77)(5,"span",54),e.EFF(6,"Call Recordings"),e.k0s()(),e.j41(7,"ion-col",346),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(32);return e.Njj(s.dismiss())}),e.nrm(8,"ion-icon",468),e.k0s()()(),e.j41(9,"ion-content"),e.DNE(10,zs,4,0,"ion-row",34)(11,Ls,26,5,"ion-card",469),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("ngIf",t.showSpinner),e.R7$(10),e.Y8G("ngIf",0==(null==t.allCallLogs?null:t.allCallLogs.length)),e.R7$(),e.Y8G("ngForOf",t.allCallLogs)}}function Hs(i,a){1&i&&(e.j41(0,"div",73),e.nrm(1,"ion-spinner",417),e.k0s())}function Js(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.FS9("value",t.builder_mail),e.R7$(),e.SpI(" ",t.builder_mail," ")}}function Ks(i,a){if(1&i&&(e.j41(0,"ion-select-option",385),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.FS9("value",t.builder_mail),e.R7$(),e.SpI(" ",t.builder_mail," ")}}function Ws(i,a){if(1&i){const t=e.RV6();e.DNE(0,Hs,2,0,"div",58),e.j41(1,"ion-header")(2,"ion-toolbar")(3,"ion-row")(4,"ion-col",346),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(35);return e.Njj(s.dismiss())}),e.nrm(5,"ion-icon",47),e.k0s(),e.j41(6,"ion-col",418)(7,"span",480),e.EFF(8,"Client Registration"),e.k0s()(),e.nrm(9,"ion-col",415),e.k0s()()(),e.j41(10,"ion-content",416)(11,"div",481)(12,"ion-row")(13,"ion-col")(14,"ion-select",482),e.DNE(15,Js,2,2,"ion-select-option",367),e.k0s()()(),e.j41(16,"ion-row")(17,"ion-col")(18,"ion-select",483),e.DNE(19,Ks,2,2,"ion-select-option",367),e.k0s()()(),e.j41(20,"ion-row")(21,"ion-col")(22,"div"),e.nrm(23,"textarea",484),e.k0s()()()()(),e.j41(24,"ion-footer")(25,"ion-toolbar",481)(26,"ion-row")(27,"ion-col",97),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clientregisteration())}),e.j41(28,"div",485),e.EFF(29," Send "),e.k0s()()()()()}if(2&i){const t=e.XpG();e.Y8G("ngIf",t.showSpinner),e.R7$(15),e.Y8G("ngForOf",t.mails),e.R7$(4),e.Y8G("ngForOf",t.mails)}}function Zs(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-row")(3,"ion-col",346),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(38);return e.Njj(s.dismiss())}),e.nrm(4,"ion-icon",47),e.k0s(),e.j41(5,"ion-col",418)(6,"span",480),e.EFF(7,"Property Visit Update"),e.k0s()(),e.nrm(8,"ion-col",415),e.k0s()()(),e.j41(9,"ion-content",416)(10,"div",486)(11,"div",487),e.nrm(12,"ion-img",488),e.j41(13,"ion-row",327)(14,"ion-col",489),e.EFF(15,"Sent To :"),e.k0s(),e.j41(16,"ion-col",490),e.EFF(17),e.k0s()(),e.j41(18,"ion-row")(19,"ion-col",489),e.EFF(20,"Send Cc :"),e.k0s(),e.j41(21,"ion-col",491),e.EFF(22),e.k0s()(),e.j41(23,"ion-row")(24,"ion-col",492)(25,"span",99),e.EFF(26),e.nI1(27,"date"),e.k0s()()()(),e.j41(28,"ion-row")(29,"div",493),e.nrm(30,"p",494),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(17),e.JRh(null==t.clientregistereddata?null:t.clientregistereddata.sendto),e.R7$(5),e.JRh(null==t.clientregistereddata?null:t.clientregistereddata.sendcc),e.R7$(4),e.JRh(e.i5U(27,4,t.clientregistereddata.datetime,"dd-MMM-yyyy hh:mm: a")),e.R7$(4),e.Y8G("innerHTML",t.clientregistereddata.mailbody,e.npT)}}function Qs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",386)(1,"ion-row")(2,"ion-col",388)(3,"span",389),e.EFF(4,"Properties for Suggestions"),e.k0s()(),e.j41(5,"ion-col",495),e.bIt("click",function(){e.eBV(t),e.XpG();const s=e.sdS(41);return e.Njj(s.dismiss())}),e.nrm(6,"ion-icon",391),e.k0s()(),e.j41(7,"div")(8,"ion-row")(9,"ion-col")(10,"ng-multiselect-dropdown",496),e.bIt("onSelect",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onSelectSuggProp(s))})("onDeSelect",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.deSelectSuggProp(s))}),e.k0s()()()(),e.j41(11,"ion-row")(12,"ion-col",497),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.addpropertiestolist())}),e.j41(13,"ion-button",498),e.EFF(14,"Add to List"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(10),e.Y8G("placeholder","Select Properties")("settings",t.dropdownSettings)("data",t.properties)}}function eo(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"ion-title",54),e.EFF(2,"Assign Lead"),e.k0s(),e.j41(3,"ion-buttons",499),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(44);return s.selectedProperty=null,s.selectedExec=null,e.Njj(o.dismiss())}),e.nrm(4,"ion-icon",391),e.k0s()(),e.j41(5,"form",500,20),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.assignFixedLead())}),e.j41(7,"ion-row")(8,"ion-col",501)(9,"span",195),e.EFF(10," Select Property "),e.k0s()()(),e.j41(11,"ion-row")(12,"ion-col",456)(13,"p-dropdown",502),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.selectedProperty,s)||(o.selectedProperty=s),e.Njj(s)}),e.bIt("onChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onPropSelectOfVisitsAssign(s))}),e.k0s()()(),e.j41(14,"ion-row")(15,"ion-col",501)(16,"span",195),e.EFF(17," Select Executives "),e.k0s()()(),e.j41(18,"ion-row")(19,"ion-col",503)(20,"p-dropdown",504),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.selectedExec,s)||(o.selectedExec=s),e.Njj(s)}),e.k0s()()(),e.j41(21,"ion-row"),e.nrm(22,"ion-col"),e.j41(23,"ion-col")(24,"ion-button",505),e.EFF(25," Assign Now"),e.k0s()()()()}if(2&i){const t=e.sdS(6),n=e.XpG();e.R7$(13),e.Y8G("options",n.projectNames),e.R50("ngModel",n.selectedProperty),e.R7$(7),e.Y8G("options",n.mandateExecList),e.R50("ngModel",n.selectedExec),e.R7$(4),e.Y8G("disabled",t.invalid)}}function to(i,a){if(1&i&&(e.j41(0,"ion-grid",509)(1,"div",510)(2,"span",511),e.EFF(3),e.k0s()(),e.j41(4,"div",512)(5,"ion-grid",179)(6,"ion-row")(7,"ion-col",513)(8,"div",514),e.EFF(9,"Assigned"),e.k0s()(),e.j41(10,"ion-col",179)(11,"div",515),e.EFF(12,"Not Assigned"),e.k0s()()(),e.j41(13,"ion-row")(14,"ion-col",516)(15,"div")(16,"span"),e.EFF(17,"Total"),e.k0s(),e.j41(18,"p"),e.EFF(19),e.k0s()(),e.j41(20,"div")(21,"span"),e.EFF(22,"Leads"),e.k0s(),e.j41(23,"p"),e.EFF(24),e.k0s()(),e.j41(25,"div")(26,"span"),e.EFF(27,"Overdue Visits"),e.k0s(),e.j41(28,"p"),e.EFF(29),e.k0s()()(),e.j41(30,"ion-col",517)(31,"div",518)(32,"div")(33,"span"),e.EFF(34,"Already in Fresh"),e.k0s(),e.j41(35,"p"),e.EFF(36),e.k0s()(),e.j41(37,"div")(38,"span"),e.EFF(39,"Already in Active"),e.k0s(),e.j41(40,"p"),e.EFF(41),e.k0s()(),e.j41(42,"div")(43,"span"),e.EFF(44,"Overload Limit"),e.k0s(),e.j41(45,"p"),e.EFF(46),e.k0s()()(),e.j41(47,"div",519)(48,"div",520)(49,"span"),e.EFF(50,"GR Swara Leads"),e.k0s(),e.j41(51,"p"),e.EFF(52),e.k0s()(),e.j41(53,"div",520)(54,"span"),e.EFF(55,"Active Visits"),e.k0s(),e.j41(56,"p"),e.EFF(57),e.k0s()()()()(),e.j41(58,"ion-row",521)(59,"ion-col",522)(60,"div",523)(61,"span"),e.EFF(62,"Untouched "),e.k0s()()()(),e.j41(63,"ion-row",524)(64,"ion-col",525)(65,"div",526)(66,"span"),e.EFF(67," Leads"),e.k0s(),e.j41(68,"p"),e.EFF(69),e.k0s()()(),e.j41(70,"ion-col",525)(71,"div",526)(72,"span"),e.EFF(73," Visits"),e.k0s(),e.j41(74,"p"),e.EFF(75),e.k0s()()()()()()()),2&i){const t=a.$implicit;e.R7$(3),e.JRh(t.execname),e.R7$(16),e.JRh(t.fresh+t.reassignedLeads+t.reassignedVisits),e.R7$(5),e.JRh(t.fresh+t.reassignedLeads),e.R7$(5),e.JRh(t.reassignedVisits),e.R7$(7),e.JRh(t.alreadyinfresh),e.R7$(5),e.JRh(t.alreadyinactive),e.R7$(5),e.JRh(t.leads_skipped_executive_capacity),e.R7$(6),e.JRh(t.gr_swara_leads_skipped),e.R7$(5),e.JRh(t.reassignedVisitExist),e.R7$(12),e.JRh(t.untouched_leads),e.R7$(6),e.JRh(t.untouched_visits)}}function no(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-row",506)(2,"ion-col",388),e.EFF(3,"Re-Assign Leads Details"),e.k0s(),e.j41(4,"ion-col",507),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onWillDismiss(""))}),e.nrm(5,"ion-icon",391),e.k0s()()(),e.j41(6,"ion-content"),e.DNE(7,to,76,11,"ion-grid",508),e.k0s()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.reassignedResponseInfo)}}let io=(()=>{var i;class a{constructor(n,s,o,l,r,c,_,u,f,g,b){this._sharedservice=n,this._retailservice=s,this.menuCtrl=o,this._echoService=l,this._location=r,this._mandateService=c,this.activeroute=_,this.router=u,this.cdf=f,this.popoverController=g,this.animationCtrl=b,this.feedbackId="0",this.isProfile=!0,this.isProperty=!1,this.isStatusActivity=!1,this.showSpinner=!0,this.isAdmin=!1,this.isAdminExceStatus=!0,this.isAdminExeActivity=!1,this.isPlanSection=!1,this.leadtrack=[],this.show_cnt=[],this.showRejectionForm=!1,this.executeid="",this.selectedExecId="",this.isSuggestedPropBoolean=!1,this.localStorage=localStorage,this.mergedleads=[],this.size_array=[{id:"1",size:"1BHK"},{id:"2",size:"2BHK"},{id:"3",size:"3BHK"},{id:"4",size:"4BHK"},{id:"5",size:"5BHK"}],this.budget_array=["50L - 60L","60L - 70L","70L - 80L","80L - 90L","90L - 1Cr","Above 1Cr"],this.leadpriority=[{id:"1",priority:"Hot"},{id:"2",priority:"Warm"},{id:"3",priority:"Cold"}],this.isVisitassign=!1,this.callStatus="",this.isOnCallDetailsPage=!1,this.isfromOnCallModal=!1,this.isRM=!1,this.isCS=!1,this.isSuggestedProp=!1,this.dropdownSettings={},this.isCallHistory="",this.block=!1,this.role_type="",this.isAccompanyBy=!1,this.visitAssigModalDismiss=!1,this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.f2fform=!1,this.usvform=!1,this.svform=!1,this.rsvform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.commonformbtn=!1,this.junkformbtn=!1,this.followup=!0,this.USV=!0,this.RSV=!0,this.SV=!0,this.Negotiation=!0,this.leadclose=!0,this.junkmove=!0,this.leadMoveJunkExec=!0,this.callCounts=2,this.activeTabIndex=0,this.closurefiles=[],this.uploads=[],this.selectedMandatePropId="",this.selectedExecIds=[],this.enterAnimation=m=>{const p=m.shadowRoot,h=this.animationCtrl.create().addElement(p.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),M=this.animationCtrl.create().addElement(p.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return this.animationCtrl.create().addElement(m).easing("ease-out").duration(500).addAnimation([h,M])},this.leaveAnimation=m=>this.enterAnimation(m).direction("reverse"),this.enablebuttonReject=!1,this.enablebuttonApprove=!0,this.selectedPlanType="",this.visitPlanDone=!1,this.editplan=!1,this.isWeekend=!0,this.isWeekdays=!1,this.isYetToConfirm=!1,this.isWeekday=m=>{const h=new Date(m).getUTCDay();return this.cdf.detectChanges(),"weekdays"==this.selectedPlanType?0!==h&&6!==h:0===h||6===h},this.timeError=!1,this.confirmbtnClicked=!1,this.filteredLead=[],this.relationShips=[{name:"Father",code:"Father"},{name:"Mother",code:"Mother"},{name:"Sister",code:"Sister"},{name:"Brother",code:"Brother"},{name:"Husband",code:"Husband"},{name:"Wife",code:"Wife"},{name:"Others",code:"Others"}],this.searchSubject=new L.B,this.filteredLeads=[],this.isActiveMerge=!1,this.isRetail=!1,this.allCallLogs=[],this.groupedByDate=[],this.isAtBottom=!1,this.execTeam=[{name:"Relationship Executives",code:"50002"},{name:"Customersupport Executives",code:"50014"}],this.count=0,this.showInfiniteScroll=!0,this.today=(new Date).toISOString()}getLiveCallsData(n){this._sharedservice.fetchLiveCall(localStorage.getItem("UserId")).subscribe({next:s=>{var o,l,r,c,_,u,f,g;"success"==s.status?(this.callStatus=n==s.success[0].Lead_IDFK?s.success[0].dialstatus:"",this.onCallLeadData=s.success[0],n!=s.success[0].Lead_IDFK&&this.router.url.includes("mandate-customers")&&d().fire({title:"Call Details",text:"You\u2019re already on a call with another client",icon:"warning",heightAuto:!1,allowOutsideClick:!1,confirmButtonText:"Go to client details page"}).then(b=>{b.isConfirmed&&(this._sharedservice.isMenuOpen=!1,this.onCallDetails())}),this._sharedservice.isMenuOpen=!1):this._sharedservice.isMenuOpen=!0,"Desktop-mandate"==(null===(o=this.onCallLeadData)||void 0===o?void 0:o.modeofcall)||"mobile-mandate"==(null===(l=this.onCallLeadData)||void 0===l?void 0:l.modeofcall)||"Mobile-Mandate"==(null===(r=this.onCallLeadData)||void 0===r?void 0:r.modeofcall)||"Mobile-mandate"==(null===(c=this.onCallLeadData)||void 0===c?void 0:c.modeofcall)?this.headerType="mandate":("Desktop-retail"==(null===(_=this.onCallLeadData)||void 0===_?void 0:_.modeofcall)||"mobile-retail"==(null===(u=this.onCallLeadData)||void 0===u?void 0:u.modeofcall)||"Mobile-Retail"==(null===(f=this.onCallLeadData)||void 0===f?void 0:f.modeofcall)||"Mobile-retail"==(null===(g=this.onCallLeadData)||void 0===g?void 0:g.modeofcall))&&(this.headerType="retail")},error:()=>{this.showSpinner=!1}})}onCallDetails(){setTimeout(()=>{this.router.navigate([],{queryParams:{isOnCallDetailsPage:!0,leadId:this.onCallLeadData.Lead_IDFK,execid:this.onCallLeadData.assignee,leadTabData:"status",headerType:this.headerType},queryParamsHandling:"merge"})},500)}ngOnInit(){this.activeroute.queryParams.subscribe(n=>{this.roleid=localStorage.getItem("Role"),this.isRM="50001"==this.localStorage.getItem("Role")||"50002"==this.localStorage.getItem("Role")||"50009"==this.localStorage.getItem("Role")||"50010"==this.localStorage.getItem("Role"),this.isCS="50014"==localStorage.getItem("Role")||"50013"==localStorage.getItem("Role"),this.callStatus="",this.leadId=n.leadId,this.htype=n.htype,this.isCallHistory=n.isCallHistory,this.executeid=n.execid,this.selectedExecId=n.execid,this.isSuggestedProp="1"==this.localStorage.getItem("prop_suggestion")||"1"==localStorage.getItem("Role")||"2"==localStorage.getItem("Role"),this.isOnCallDetailsPage="true"==n.isOnCallDetailsPage,this.isfromOnCallModal=!!n.fromOnCallModal,this.getLiveCallsData(n.leadId),this.searchSubject.pipe((0,U.B)(300)).subscribe(s=>{this.fetchData(s)}),this.feedbackId=n.feedback?n.feedback:"0",this.initializeParams(),this.getcustomerview(),this.getlocalitylist(),this.triggerhistory(),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableCheckAll:!1,allowSearchFilter:!0},this.getFixedMandateProperties()}),this._echoService.listenToChannel("database-changes",".DatabaseNotification",n=>{localStorage.getItem("UserId")==n.Executive&&(this.callStatus=n.Call_status_new,"Call Disconnected"!=n.Call_status_new?this._sharedservice.isMenuOpen=!1:(this._sharedservice.isMenuOpen=!0,d().close()),setTimeout(()=>{this.getLiveCallsData(this.leadId),("BUSY"==n.Call_status_new||"Executive Busy"==n.Call_status_new)&&this.updateStatus()},1e3))})}updateStatus(){const n=new Date,s=n.toISOString().split("T")[0],o=n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});let l,r;var c,_;if("Fresh"!==this.activestagestatus[0].stage?"1"==this.activestagestatus[0].stagestatus?l="1":"2"==this.activestagestatus[0].stagestatus?l="2":"3"==this.activestagestatus[0].stagestatus&&(l="3"):l=null==this.activestagestatus[0].stagestatus?"0":this.activestagestatus[0].stagestatus,"BUSY"==this.callStatus)r={leadid:null===(c=this.assignedrm)||void 0===c?void 0:c[0].customer_IDPK,actiondate:s,actiontime:o,leadstatus:this.activestagestatus[0].stage,stagestatus:l,followupsection:"2",followupremarks:"remark",userid:localStorage.getItem("UserId"),assignid:this.onCallLeadData.assignee,autoremarks:"Status changed to RNR, because the client did not answer the call.",property:null===(_=this.selectedSuggestedProp)||void 0===_?void 0:_.propid,feedbackid:0};else if("Executive Busy"==this.callStatus){var u,f;r={leadid:null===(u=this.assignedrm)||void 0===u?void 0:u[0].customer_IDPK,actiondate:s,actiontime:o,leadstatus:this.activestagestatus[0].stage,stagestatus:l,followupsection:"100",followupremarks:localStorage.getItem("Name")+" was busy",userid:localStorage.getItem("UserId"),assignid:this.onCallLeadData.assignee,autoremarks:localStorage.getItem("Name")+" did not pick the Call.",property:null===(f=this.selectedSuggestedProp)||void 0===f?void 0:f.propid,feedbackid:0}}"mandate"==this.htype?this._mandateService.addfollowuphistory(r).subscribe(g=>{"True"==g.status&&(this.showSpinner=!1,"Executive Busy"==this.callStatus?this.executiveBusyAlert():"BUSY"==this.callStatus&&this.clientBusyAlert())}):"retail"==this.htype&&this._retailservice.addfollowuphistory(r).subscribe(g=>{"True"==g.status&&("Executive Busy"==this.callStatus?this.executiveBusyAlert():"BUSY"==this.callStatus&&this.clientBusyAlert())},g=>{console.log("Failed to Update")})}clientBusyAlert(){d().fire({title:"Follow-up Updated Successfully",text:"Client did not answer the call. A new reminder has been set as RNR",icon:"success",heightAuto:!1,showConfirmButton:!0}).then(n=>{1==n.value&&this._location.back()})}executiveBusyAlert(){var n;let s;var o,l,r,c,_;"Fresh"!==(null===(n=this.activestagestatus)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.stage)?"1"==(null===(o=this.activestagestatus)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.stagestatus)?s="1":"2"==(null===(l=this.activestagestatus)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.stagestatus)?s="2":"3"==(null===(r=this.activestagestatus)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.stagestatus)&&(s="3"):s=null==(null===(c=this.activestagestatus)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.stagestatus)?"0":null===(_=this.activestagestatus)||void 0===_||null===(_=_[0])||void 0===_?void 0:_.stagestatus;const u=new Date,f=u.toISOString().split("T")[0],g=u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});d().fire({imageUrl:"../../../assets/CRMimages/animation/phone.gif",imageWidth:150,imageHeight:150,title:"You Missed it",text:"You initiated a call but didn\u2019t pick up.",confirmButtonText:"Initiate Call",showCloseButton:!0,showDenyButton:!0,denyButtonText:"Move To Inactive",heightAuto:!1,showConfirmButton:!0,showCancelButton:!1}).then(b=>{if(1==b.value)setTimeout(()=>{this.outboundCall()},500);else if(b.isDenied){var x,m,p,h,M,k,j={leadid:null===(x=this.assignedrm)||void 0===x||null===(x=x[0])||void 0===x?void 0:x.customer_IDPK,actiondate:f,actiontime:g,leadstatus:null===(m=this.activestagestatus)||void 0===m||null===(m=m[0])||void 0===m?void 0:m.stage,stagestatus:s,followupsection:"4",followupremarks:`${this.assignedrm[0].customer_name} was not reachable`,userid:localStorage.getItem("UserId"),assignid:null!==(p=this.onCallLeadData)&&void 0!==p&&p.assignee?null===(h=this.onCallLeadData)||void 0===h?void 0:h.assignee:null===(M=this.onCallLeadData)||void 0===M?void 0:M.Exec_IDFK,autoremarks:"Status changed to Not Connected, as the call could not be established with the client.",property:null===(k=this.selectedSuggestedProp)||void 0===k?void 0:k.propid,feedbackid:0};this.showSpinner=!0,this._mandateService.addfollowuphistory(j).subscribe(y=>{this.showSpinner=!1,"True"==y.status?location.reload():d().fire({icon:"error",title:"Update Failed",heightAuto:!1,text:"Something went wrong. Please try again.",confirmButtonText:"OK",allowOutsideClick:!1})})}else location.reload()})}initializeParams(){this.activeroute.queryParamMap.subscribe(n=>{if(this.isProfile=!0,this.userid=localStorage.getItem("UserId"),this.username=localStorage.getItem("Name"),this.selectedExecId=n.get("execid"),this.isAdmin="1"===localStorage.getItem("Role"),this.role_type=localStorage.getItem("RoleType"),this.block=this.userid!=this.selectedExecId&&!this.isAdmin&&"1"!=this.role_type,this.isRetail="retail"==n.get("htype"),this.propid=n.get("propid"),"28773"==n.get("propid")?this._mandateService.setHoverState("ranav_group"):this._mandateService.setHoverState(""),n.get("leadId")&&(this.id=n.get("leadId")),this.leadAssign=n.get("execid"),"1"==localStorage.getItem("Role")?(this.isAdmin=!0,this.isAdminExeActivity=!1):(this.isAdmin=!1,this.isAdminExeActivity=!0),this.ismandate="mandate"===n.get("htype"),"info"===n.get("status"))this.isProfile=!0,this.isProperty=!1,this.isStatusActivity=!1;else if("propertyInfo"===n.get("status"))this.isProfile=!1,this.isProperty=!0,this.isStatusActivity=!1;else if("activity"===n.get("status")){var s,o,l;this.isProfile=!1,this.isProperty=!1,this.isStatusActivity=!0,this.isAdminExceStatus=!0,this.isAdminExeActivity=!1,n.get("statusSection")&&(this.assignedrm&&("USV"==(null===(s=this.assignedrm[0])||void 0===s?void 0:s.leadstage)||"RSV"==(null===(o=this.assignedrm[0])||void 0===o?void 0:o.leadstage)||"Final Negotiation"==(null===(l=this.assignedrm[0])||void 0===l?void 0:l.leadstage))||"plan"!==n.get("statusSection")?this.isPlanSection="plan"===n.get("statusSection"):this.onStatusActivity("status"),this.isAdminExeActivity="activity"===n.get("statusSection"),this.isAdminExceStatus="status"===n.get("statusSection"))}else this.isAdminExeActivity=!1,this.isAdminExceStatus=!1,this.isPlanSection=!1,this.isStatusActivity=!1;null==localStorage.getItem("Role")?this.router.navigateByUrl("/login"):this.isAdmin="1"==localStorage.getItem("Role")})}getlocalitylist(){this._mandateService.getlocality().subscribe(n=>{var s;this.locality=n.Localities,this.selectedlocality=null===(s=this.show_cnt)||void 0===s?void 0:s.localityid})}getcustomerview(){this._mandateService.getcustomeredit(this.id).subscribe(n=>{var s,o,l,r,c,_,u,f,g,b,x,m,p,h,M,k,j,y,P,E;if(this.showSpinner=!1,this.show_cnt=n.Customerview[0],this.mergedleads=null===(s=n.Customerview[0])||void 0===s?void 0:s.mergedleads,this.show_cnt_subarray=null===(o=n.Customerview[0])||void 0===o?void 0:o.assignedrm,this.facemodel=n.Customerview[0],null!==(l=n.Customerview[0])&&void 0!==l&&l.latestaction&&(this.closestObject=n.Customerview[0].latestaction),this.locality&&null!==(r=this.show_cnt)&&void 0!==r&&r.localityid){var S;let co=this.locality.filter(_o=>_o.id==this.show_cnt["  "]);this.selectedlocality=null===(S=co[0])||void 0===S?void 0:S.id}"1"==(null===(c=this.show_cnt)||void 0===c?void 0:c.enquiry_possession)?this.leadPossession="Immediate":"2"==(null===(_=this.show_cnt)||void 0===_?void 0:_.enquiry_possession)?this.leadPossession="6 Months":"3"==(null===(u=this.show_cnt)||void 0===u?void 0:u.enquiry_possession)?this.leadPossession="1 Year":"4"==(null===(f=this.show_cnt)||void 0===f?void 0:f.enquiry_possession)&&(this.leadPossession="< 2 years"),"1"==(null===(g=this.show_cnt)||void 0===g?void 0:g.enquiry_proptype)?this.leadPropertyType="Apartment":"2"==(null===(b=this.show_cnt)||void 0===b?void 0:b.enquiry_proptype)?this.leadPropertyType="Villa":"3"==(null===(x=this.show_cnt)||void 0===x?void 0:x.enquiry_proptype)?this.leadPropertyType="Plot":"4"==(null===(m=this.show_cnt)||void 0===m?void 0:m.enquiry_proptype)&&(this.leadPropertyType="Villament"),$("#proptypeselect").val((null===(p=this.show_cnt)||void 0===p?void 0:p.enquiry_proptype)||""),$("#sizeselect").val((null===(h=this.show_cnt)||void 0===h?void 0:h.enquiry_bhksize)||""),$("#budgetselect").val((null===(M=this.show_cnt)||void 0===M?void 0:M.enquiry_budget)||""),$("#possessionselect").val((null===(k=this.show_cnt)||void 0===k?void 0:k.enquiry_possession)||""),$("#priorityselect").val((null===(j=this.show_cnt)||void 0===j?void 0:j.lead_priority)||""),$("#customer_location").val((null===(y=this.show_cnt)||void 0===y?void 0:y.localityid)||""),$("#customer_address").val((null===(P=this.show_cnt)||void 0===P?void 0:P.address)||""),null==(null===(E=this.show_cnt)||void 0===E?void 0:E.customer_phase)?this.show_cnt.customer_phase="Fresh lead":this.showRejectionForm=!1}),this._mandateService.getassignedrm(this.id,this.userid,this.leadAssign,this.feedbackId).subscribe(n=>{var s,o,l,r,c,_,u,f,g,b,x,m;if("1"==n.lead&&this.selectedExecId==this.userid&&("50003"===localStorage.getItem("Role")||"50004"===localStorage.getItem("Role"))&&this.confirmLeadConversionToMandate(),this.assignedrm=n.RMname,this.leadsDetailsInfo=n.RMname,this.usvstagedetection=n.RMname[0].leadstage,this.usvstagestatusdetection=n.RMname[0].leadstatus,this.assignedrm=this.assignedrm.filter(p=>p.RMID==this.selectedExecId),this.selectedSuggestedProp=null===(s=this.assignedrm)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.suggestedprop)||void 0===s?void 0:s.filter(p=>p.propid==this.propid),this.selectedSuggestedProp=null===(o=this.selectedSuggestedProp)||void 0===o?void 0:o[0],this.assignedrm&&this.assignedrm.length>0&&this.assignedrm[0].rnrcount>=5&&1!=this.roleid&&"2"!=this.roleid&&d().fire({text:"Access Denied , Do contact the Admin",icon:"error",heightAuto:!1}).then(()=>{this.router.navigate(["mandate-lead-stages"],{queryParams:{status:"inactive",type:"Inactive",isDropDown:"false",followup:"2",htype:"mandate"}})}),setTimeout(()=>{if(this.isAccompanyBy=!1,this.userid==this.selectedExecId||"1"==this.roleid||"2"==this.roleid||("1"!=this.role_type||"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid)&&"1"==this.role_type||"1"==this.feedbackId){if(this.userid==this.selectedExecId&&"1"!=this.roleid&&"2"!=this.roleid&&"1"==this.role_type&&"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid&&"1"!=this.feedbackId)if(this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID)this.isAccompanyBy=!0;else{$(".allActivities").removeClass("active");const p=document.getElementById("updateActivitiesTab");p&&p.click()}else if(this.userid!=this.selectedExecId&&"1"!=this.roleid&&"2"!=this.roleid&&("1"==this.role_type&&"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid||"1"!=this.role_type)&&"1"!=this.feedbackId)if(this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID||"1"==this.role_type)this.isAccompanyBy=!0;else{$(".allActivities").removeClass("active");const p=document.getElementById("updateActivitiesTab");p&&p.click()}}else $(".updateActivities").removeClass("active"),$(".allActivities").removeClass("active"),setTimeout(()=>{const p=document.getElementById("allActivitiesTab");p&&p.click()},100)},1e3),(null===(l=this.assignedrm[0].suggestedprop)||void 0===l?void 0:l.length)>1){let p,h;this.isSuggestedPropBoolean=!1,this.assignedrm[0].suggestedprop.forEach((M,k)=>{p=M,h=k}),1==p.selection&&"USV"==p.leadstage&&0==p.actions||2==p.selection&&"RSV"==p.leadstage&&1==p.actions?(this.selectedItem=h,setTimeout(()=>{this.getstages()},100)):(this.selectedItem=0,setTimeout(()=>{this.getstages()},100))}else this.selectedItem=0,this.getstages();this.assignedrm&&this.assignedrm[0].suggestedprop&&(this.visitpanelselection=this.assignedrm[0].suggestedprop.filter(p=>null!=p.weekplan),this.visitpanelselection.length>0&&"1"==this.visitpanelselection[0].weekplan?this.selectedPlanType="weekdays":this.visitpanelselection.length>0&&"2"==this.visitpanelselection[0].weekplan?this.selectedPlanType="weekend":this.visitpanelselection.length>0&&"0"==this.visitpanelselection[0].weekplan&&(this.selectedPlanType="ytc")),setTimeout(()=>{this.selectedplan(this.selectedPlanType)},100),"USV"==this.usvstagedetection&&"3"==this.usvstagestatusdetection&&"0"==(null===(r=n[0])||void 0===r?void 0:r.visitstatus)&&this.actionChange(this.usvstagedetection),(this.selectedSuggestedProp&&"7"==(null===(c=this.selectedSuggestedProp)||void 0===c?void 0:c.actions)&&"5"==(null===(_=this.selectedSuggestedProp)||void 0===_?void 0:_.currentstage)||"8"==(null===(u=this.selectedSuggestedProp)||void 0===u?void 0:u.actions)&&"5"==(null===(f=this.selectedSuggestedProp)||void 0===f?void 0:f.currentstage)||"6"==(null===(g=this.selectedSuggestedProp)||void 0===g?void 0:g.actions)&&"5"==(null===(b=this.selectedSuggestedProp)||void 0===b?void 0:b.currentstage))&&(this.showRejectionForm=!0,this.verifyrequest(this.assignedrm[0].customer_IDPK,null===(x=this.selectedSuggestedProp)||void 0===x?void 0:x.propid,this.assignedrm[0].RMID,null===(m=this.selectedSuggestedProp)||void 0===m?void 0:m.name)),this.getAllCallLogs(!1)})}confirmLeadConversionToMandate(){d().fire({title:"Do you want to convert lead to Mandate.",icon:"warning",heightAuto:!1,allowOutsideClick:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"OK",cancelButtonText:"NO"}).then(n=>{n.isConfirmed?(this.unlockleadtomandateModal.present(),this.mandateprojectsfetch()):this.router.navigate(["assigned-leads-detail"],{queryParams:{htype:"retail"},queryParamsHandling:"merge"})})}unlockleadtomandate(){var n;let s={leadid:this.id,propid:null===(n=this.selectedProperty)||void 0===n?void 0:n.property_idfk,execid:this.userid};this._mandateService.unlockleadtomandate(s).subscribe(o=>{"True"==o.status&&(this.unlockleadtomandateModal.dismiss(),location.reload())})}verifyrequest(n,s,o,l){this.closepropertyname=l,this._mandateService.fetchrequestedvalues({leadid:n,propid:s,execid:o}).subscribe(c=>{var _;this.requestedunits=null==c||null===(_=c.requestedvals)||void 0===_?void 0:_.map(u=>(u.bhk=u.bhk.trim(),u))})}tabclick(n,s){this.isSuggestedPropBoolean=!1,this._mandateService.setHoverState("28773"==(null==s?void 0:s.propid)?"ranav_group":""),this.followform=!1,this.usvform=!1,this.rsvform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.getstages(),this.getFixedMandateProperties()}addquerryParam(n){this.router.navigate([],{queryParams:{propid:n.propid},queryParamsHandling:"merge"})}actionChange(n){$("#sectionselector").val(""),"Follow Up"==n?(this.followform=!0,this.followupform=!0,this.followupformbtn=!0,this.f2fform=!1,this.usvform=!1,this.svform=!1,this.rsvform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.junkformbtn=!1,this.commonformbtn=!1,$("#customer_phase4").val("Follow Up"),$("#sectionselector").val("Follow Up")):"USV"==n?(this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.usvform=!0,this.f2fform=!1,this.svform=!1,this.rsvform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.junkformbtn=!1,$("#customer_phase4").val("USV"),$("#sectionselector").val("USV")):"RSV"==n?(this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.rsvform=!0,this.svform=!1,this.usvform=!1,this.f2fform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.junkformbtn=!1,$("#customer_phase4").val("RSV"),$("#sectionselector").val("RSV")):"Final Negotiation"==n?(this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.finalnegoform=!0,this.rsvform=!1,this.svform=!1,this.usvform=!1,this.f2fform=!1,this.leadclosedform=!1,this.junkform=!1,this.junkformbtn=!1,$("#customer_phase4").val("Final Negotiation"),$("#sectionselector").val("Final Negotiation")):"Lead Closed"==n?(this.leadclosedform=!0,this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.finalnegoform=!1,this.rsvform=!1,this.svform=!1,this.usvform=!1,this.f2fform=!1,this.junkform=!1,this.junkformbtn=!1,$("#customer_phase4").val("Lead Closed"),$("#sectionselector").val("Lead Closed")):"Move to Junk"==n?(this.junkform=!0,this.junkformbtn=!0,this.f2fform=!1,this.followform=!1,this.followupform=!1,this.followupformbtn=!1,this.rsvform=!1,this.svform=!1,this.usvform=!1,this.f2fform=!1,this.finalnegoform=!1,this.commonformbtn=!1,this.leadclosedform=!1,$("#customer_phase4").val("Move to Junk"),$("#sectionselector").val("Move to Junk")):(this.followupform=!1,this.junkform=!1,this.commonformbtn=!0,this.followupformbtn=!1,this.junkformbtn=!1),console.log(this.selectedSuggestedProp)}getstages(){this.showSpinner=!0,this.showRejectionForm=!1;var n=localStorage.getItem("UserId");this.USV=!1,this.followup=!0,this.junkmove=!0,this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this._mandateService.getactiveleadsstatus(this.id,n,this.selectedExecId,this.propid,this.feedbackId).subscribe(s=>{if(this.showSpinner=!1,"True"==s.status){if(this.activestagestatus=s.activeleadsstatus,console.log(this.activestagestatus,"  this.activestagestatus"),this.currentstage=this.activestagestatus[0].stage,"1"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].followupstatus||"1"==this.activestagestatus[0].stagestatus&&null==this.activestagestatus[0].followupstatus?this.currentstagestatus="Fixed":"2"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].followupstatus||"2"==this.activestagestatus[0].stagestatus&&null==this.activestagestatus[0].followupstatus?this.currentstagestatus="Refixed":"3"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].followupstatus||"3"==this.activestagestatus[0].stagestatus&&null==this.activestagestatus[0].followupstatus?this.currentstagestatus="Done":"1"==this.activestagestatus[0].stagestatus&&"4"==this.activestagestatus[0].followupstatus?this.currentstagestatus="Fixed - Followup":"2"==this.activestagestatus[0].stagestatus&&"4"==this.activestagestatus[0].followupstatus?this.currentstagestatus="Refixed - Followup":"3"==this.activestagestatus[0].stagestatus&&"4"==this.activestagestatus[0].followupstatus&&(this.currentstagestatus="Done - Followup"),this.isShowStages="Closing Request Rejected"!=this.activestagestatus[0].stage&&"Lead Closed"!=this.activestagestatus[0].stage,"Lead Closed"==this.activestagestatus[0].stage||"Move to Junk"==this.activestagestatus[0].stage)this.USV=!1,this.execview&&(this.showRejectionForm=!0);else if("Deal Closed"==this.activestagestatus[0].stage)"50014"!=this.roleid&&"50013"!=this.roleid&&this.assignedrm&&50013!=this.assignedrm[0].roleid&&50014!=this.assignedrm[0].roleid?(this.showRejectionForm=!0,this.verifyrequest(this.id,this.selectedSuggestedProp.propid,this.selectedExecId,this.selectedSuggestedProp.name)):(this.USV=!1,this.followup=!0,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0);else if("Deal Closing Pending"==this.activestagestatus[0].stage)"50014"!=this.roleid&&"50013"!=this.roleid&&this.assignedrm&&50013!=this.assignedrm[0].roleid&&50014!=this.assignedrm[0].roleid?(this.USV=!1,this.followup=!0,this.RSV=!1,this.Negotiation=!1,this.leadclose=!0,this.junkmove=!0):(this.USV=!1,this.followup=!0,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0);else if("Deal Closing Requested"!=this.activestagestatus[0].stage||"0 "!=this.activestagestatus[0].followupstatus&&null!=this.activestagestatus[0].followupstatus&&"4"!=this.activestagestatus[0].followupstatus)if("Closing Request Rejected"!=this.activestagestatus[0].stage||"0 "!=this.activestagestatus[0].followupstatus&&null!=this.activestagestatus[0].followupstatus&&"4"!=this.activestagestatus[0].followupstatus)"Fresh"==this.activestagestatus[0].stage&&"4"==this.activestagestatus[0].followupstatus?(this.USV=!0,this.followup=!0,this.junkmove=!0,this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1):"USV"==this.activestagestatus[0].stage&&"1"==this.activestagestatus[0].stagestatus||"USV"==this.activestagestatus[0].stage&&"2"==this.activestagestatus[0].stagestatus||"USV"==this.activestagestatus[0].stage&&"4"==this.activestagestatus[0].stagestatus||"USV"==this.activestagestatus[0].stage&&null==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.followup=!0,this.USV=!0,this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0):"USV"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"1"==this.activestagestatus[0].visitstatus?(this.USV=!1,this.followup=!0,this.RSV=!0,this.Negotiation=!0,this.leadclose=!0,this.junkmove=!0):"USV"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.followup=!0,this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0,this.USV=!0,this.usvform=!0,this._mandateService.getassignedrm(this.id,this.userid,this.leadAssign,this.feedbackId,"1"==localStorage.getItem("RoleType")?localStorage.getItem("UserId"):"").subscribe(b=>{var x,m,p=null===(x=b[0])||void 0===x?void 0:x.walkintime.split(" ")[0],h=null===(m=b[0])||void 0===m?void 0:m.walkintime.split(" ").pop();$("#USVvisiteddate").val(p),$("#USVvisitedtime").val(h)})):"RSV"==this.activestagestatus[0].stage&&"1"==this.activestagestatus[0].stagestatus||"RSV"==this.activestagestatus[0].stage&&"2"==this.activestagestatus[0].stagestatus||"RSV"==this.activestagestatus[0].stage&&"4"==this.activestagestatus[0].stagestatus||"RSV"==this.activestagestatus[0].stage&&null==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.USV=!1,this.SV=!1,this.Negotiation=!1,this.leadclose=!1,this.RSV=!0,this.junkmove=!0,this.followup=!0):"RSV"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"1"==this.activestagestatus[0].visitstatus?(this.USV=!1,this.RSV=!0,this.Negotiation=!0,this.leadclose=!0,this.followup=!0,this.junkmove=!0):"RSV"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.followup=!0,this.SV=!1,this.USV=!1,this.RSV=!0,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0,this.usvform=!1,this.rsvform=!0):"Final Negotiation"==this.activestagestatus[0].stage&&"1"==this.activestagestatus[0].stagestatus||"Final Negotiation"==this.activestagestatus[0].stage&&"2"==this.activestagestatus[0].stagestatus||"Final Negotiation"==this.activestagestatus[0].stage&&"4"==this.activestagestatus[0].stagestatus||"Final Negotiation"==this.activestagestatus[0].stage&&null==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.USV=!1,this.SV=!1,this.RSV=!1,this.leadclose=!1,this.Negotiation=!0,this.followup=!0,this.junkmove=!0):"Final Negotiation"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"1"==this.activestagestatus[0].visitstatus?(this.USV=!1,this.RSV=!0,this.leadclose=!0,this.Negotiation=!0,this.followup=!0,this.junkmove=!0):"Final Negotiation"==this.activestagestatus[0].stage&&"3"==this.activestagestatus[0].stagestatus&&"0"==this.activestagestatus[0].visitstatus?(this.followup=!1,this.SV=!1,this.USV=!1,this.RSV=!1,this.leadclose=!1,this.junkmove=!1,this.usvform=!1,this.finalnegoform=!0,this.Negotiation=!0):"Junk"==this.activestagestatus[0].stage?1==this.roleid?(this.USV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.followup=!1,this.junkmove=!1,this.leadMoveJunkExec=!0):"1"!=this.roleid&&"2"!=this.roleid&&(""==this.feedbackId?(this.followup=!1,this.junkmove=!1,this.USV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.leadMoveJunkExec=!1):(this.followup=!0,this.junkmove=!0,this.USV=!0,this.RSV=!0,this.Negotiation=!0,this.leadclose=!0,this.leadMoveJunkExec=!0)):"Fresh"==this.activestagestatus[0].stage&&null==this.activestagestatus[0].followupstatus&&(this.showRejectionForm=!1,this.followup=!0,this.USV=!0,this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1,this.junkmove=!0);else if(this.RSV=!1,this.Negotiation=!1,this.USV=!1,"1"==this.userid){var _,u;this.showRejectionForm=!0,this.verifyrequest(this.id,null===(_=this.selectedSuggestedProp)||void 0===_?void 0:_.propid,this.selectedExecId,null===(u=this.selectedSuggestedProp)||void 0===u?void 0:u.name)}else{var f,g;this.showRejectionForm=!0,this.verifyrequest(this.id,null===(f=this.selectedSuggestedProp)||void 0===f?void 0:f.propid,this.selectedExecId,null===(g=this.selectedSuggestedProp)||void 0===g?void 0:g.name)}else if(this.RSV=!1,this.Negotiation=!1,this.USV=!1,"1"==this.userid){var o,l;this.showRejectionForm=!0,this.verifyrequest(this.id,null===(o=this.selectedSuggestedProp)||void 0===o?void 0:o.propid,this.selectedExecId,null===(l=this.selectedSuggestedProp)||void 0===l?void 0:l.name)}else{var r,c;this.showRejectionForm=!0,this.verifyrequest(this.id,null===(r=this.selectedSuggestedProp)||void 0===r?void 0:r.propid,this.selectedExecId,null===(c=this.selectedSuggestedProp)||void 0===c?void 0:c.name)}"Fresh"==this.activestagestatus[0].stage&&(this.usvform=!1)}else"False"==s.status&&(this.currentstage="Fresh",this.SV=!1,this.RSV=!1,this.Negotiation=!1,this.leadclose=!1)})}revertStage(){d().fire({title:`Do you want to Revert the lead for ${this.assignedrm[0].customer_assign_name}`,icon:"question",heightAuto:!1,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(n=>{if(n.isConfirmed){var s;let o={leadid:this.id,propid:null===(s=this.selectedSuggestedProp)||void 0===s?void 0:s.propid,executid:this.selectedExecId};this._mandateService.revertBackToPreStage(o).subscribe(l=>{"True"==l.status&&(this.getstages(),location.reload())})}})}triggerhistory(){let n;this.roleid=localStorage.getItem("Role"),this.userid=localStorage.getItem("UserId"),n="executive"==this.isCallHistory?this.selectedExecId:"",this._mandateService.gethistory({leadid:this.id,roleid:this.roleid,userid:this.userid,execid:n,feedbackid:this.feedbackId}).subscribe(o=>{if(this.showSpinner=!1,"True"==o.status){const l=o.Leadhistory.filter((r,c,_)=>c==_.findIndex(u=>u.autoremarks==r.autoremarks&&u.Saveddate==r.Saveddate));this.leadtrack=l}else this.leadtrack=[]})}onEditProfile(n){this.getName=this.show_cnt.enquiry_name?this.show_cnt.enquiry_name:this.show_cnt.customer_name,this.getMail=this.show_cnt.enquiry_mail?this.show_cnt.enquiry_mail:this.show_cnt.customer_mail,this.editLeadInfoModal.present()}onBack(){this._location.back()}alternateNumbercheck(n){n.target.value==this.show_cnt.customer_number&&(this.show_cnt.enquiry_altnumber="",$("#enquiry_number").focus().css("border-color","red").attr("placeholder","Please enter different contact number").val(""))}updateProfile(){if(""===$("#customer_name").val())return $("#customer_name").focus().css("border-color","red").attr("placeholder","Please Enter Name"),!1;if(!/^([a-zA-Z]+\s)*[a-zA-Z]+$/.test(String($("#customer_name").val())))return $("#customer_name").focus().css("border-color","red").attr("placeholder","Please enter valid name").val(""),!1;if($("#customer_name").removeAttr("style"),""!=$("#customer_mail").val()){if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(String($("#customer_mail").val())))return $("#customer_mail").focus().css("border-color","red").attr("placeholder","Please enter valid email").val(""),!1;$("#customer_mail").removeAttr("style")}if(""!=$("#enquiry_mail").val()){if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(String($("#enquiry_mail").val())))return $("#enquiry_mail").focus().css("border-color","red").attr("placeholder","Please enter valid email").val(""),!1;$("#enquiry_mail").removeAttr("style")}if(""!=$("#enquiry_name").val()){if(!/^([a-zA-Z]+\s)*[a-zA-Z]+$/.test(String($("#enquiry_name").val())))return $("#enquiry_name").focus().css("border-color","red").attr("placeholder","Please enter valid name").val(""),!1;$("#enquiry_name").removeAttr("style")}if(""!=$("#enquiry_number").val()){if(!/^[0-9]{10}$/.test(String($("#enquiry_number").val())))return $("#enquiry_number").focus().css("border-color","red").attr("placeholder","Please enter valid contact number").val(""),!1;$("#enquiry_number").removeAttr("style")}var o=$("#property_select").val(),l={primaryname:$("#customer_name").val(),primarynumber:$("#customer_number").val(),primarymail:$("#customer_mail").val(),name:this.show_cnt.enquiry_altname,number:this.show_cnt.enquiry_altnumber,mail:this.show_cnt.enquiry_altmail,budget:this.show_cnt.enquiry_budget,location:this.show_cnt.localityid,proptype:this.show_cnt.enquiry_proptype,size:this.show_cnt.enquiry_bhksize,property:o,priority:this.show_cnt.lead_priority,address:this.show_cnt.address,leadid:this.id,possession:this.show_cnt.enquiry_possession};return"demo"==localStorage.getItem("Name")?d().fire({title:"Updating lead details is restricted for demo accounts",icon:"error",heightAuto:!1,confirmButtonText:"OK!"}).then(r=>{this.showSpinner=!1}):this._sharedservice.updateProfile(l).subscribe(r=>{"True"==r.status&&d().fire({title:"Updated Successfully",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(c=>{this.editLeadInfoModal.dismiss(),location.reload()})},r=>{console.log("Failed to Update")}),!0}getexecutiveId(n){var s,r,c,o,l;this.showSpinner=!0,this.selectedExecId=n.RMID,this.activeTabIndex=this.leadsDetailsInfo.indexOf(n),this.followform=!1,this.usvform=!1,this.rsvform=!1,this.finalnegoform=!1,this.leadclosedform=!1,this.junkform=!1,this.assignedrm=this.leadsDetailsInfo.filter(_=>_.RMID==this.selectedExecId),(null===(s=this.assignedrm[0].suggestedprop)||void 0===s?void 0:s.length)>1&&(this.isSuggestedPropBoolean=!0),setTimeout(()=>{var _,u;this.showSpinner=!1,this.verifyrequest(this.assignedrm[0].customer_IDPK,null===(_=this.assignedrm[0])||void 0===_||null===(_=_.suggestedprop)||void 0===_||null===(_=_[0])||void 0===_?void 0:_.propid,n.RMID,null===(u=this.assignedrm[0].suggestedprop)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.name),this.getstages()},1e3),$(".radiocheck").prop("checked",!1),setTimeout(()=>{this.isAccompanyBy=!1,this.userid==this.selectedExecId||1==this.roleid||2==this.roleid||("1"!=this.role_type||50003!=n.roleid&&50004!=n.roleid)&&"1"==this.role_type||"1"==this.feedbackId?this.userid==this.selectedExecId&&1!=this.roleid&&2!=this.roleid&&("1"==this.role_type&&50003!=n.roleid&&50004!=n.roleid||"1"!=this.role_type)&&"1"!=this.feedbackId?this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID?this.isAccompanyBy=!0:this.getstages():this.userid!=this.selectedExecId&&1!=this.roleid&&2!=this.roleid&&("1"==this.role_type&&50003!=n.roleid&&50004!=n.roleid||"1"!=this.role_type)&&"1"!=this.feedbackId&&(this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID||"1"==this.role_type?this.isAccompanyBy=!0:this.getstages()):($(".updateActivities").removeClass("active"),$(".allActivities").removeClass("active"),this.getstages())},1e3),this.router.navigate([],this.userid==n.RMID||this.isAdmin||"1"==this.role_type?{queryParams:{execid:n.RMID,propid:null!==(r=this.assignedrm[0])&&void 0!==r&&null!==(r=r.suggestedprop)&&void 0!==r&&null!==(r=r[0])&&void 0!==r&&r.propid?null===(c=this.assignedrm[0])||void 0===c||null===(c=c.suggestedprop)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.propid:this.assignedrm[0].propid},queryParamsHandling:"merge"}:{queryParams:{execid:n.RMID,statusSection:"activity",status:"activity",isCallHistory:"leads",propid:null!==(o=this.assignedrm[0])&&void 0!==o&&null!==(o=o.suggestedprop)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.propid?null===(l=this.assignedrm[0])||void 0===l||null===(l=l.suggestedprop)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.propid:this.assignedrm[0].propid},queryParamsHandling:"merge"})}getexecutiveLeadCloseDetail(){this.showSpinner=!0,this.assignedrm=this.leadsDetailsInfo.filter(n=>n.RMID==this.selectedExecId),setTimeout(()=>{var n,s;this.showSpinner=!1,this.verifyrequest(this.assignedrm[0].customer_IDPK,null===(n=this.assignedrm[0].suggestedprop[0])||void 0===n?void 0:n.propid,this.selectedExecId,null===(s=this.assignedrm[0].suggestedprop[0])||void 0===s?void 0:s.name)},1e3)}onfooter(n){this.showSpinner=!0,this.isProfile="info"==n,this.isProperty="propertyInfo"==n,this.isStatusActivity="activity"==n,this.isPlanSection=!1,this.router.navigate([],{queryParams:{status:n,statusSection:this.userid==this.selectedExecId||this.isAdmin?"status":"activity",isCallHistory:"activity"==n?"leads":null},queryParamsHandling:"merge"})}getExstendsion(n){return n.endsWith("jpg")||n.endsWith("jpeg")||n.endsWith("png")?"jpg":!!n.endsWith("pdf")&&"pdf"}openModal(n,s){var o=this;return(0,T.A)(function*(){s&&(o.requestedunits=o.requestedunits.filter(l=>l.closedlead_id==s)),"resubmit"==n?o.reSubmitLead.present():"closeddeal"==n&&o.closeddeal.present()})()}removeImage(n){this._mandateService.removeUploadedImage(n.files_IDPK,n.file_name,n.lead_IDFK).subscribe(()=>{var s;null===(s=this.requestedunits)||void 0===s||s.forEach(o=>{o.images=o.images.filter(l=>l.file_name!=n.file_name)}),this.closurefiles=[]})}onFileSelected(n,s,o,l){let r=n.target.files,c=!0;for(let _=0;_<r.length;_++)if(r[_].size>111e4){c=!1,d().fire({title:"File Size Exceeded",text:"File Size limit is 1MB",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{this.closurefiles=[]});break}if(c)for(let _=0;_<r.length;_++){const u=r[_],f=u.name;$("#customFile"+_).siblings(".file-label-"+_).addClass("selected").html(f),this.closurefiles.push(u);const g=new FileReader;g.onload=b=>{this.uploads.push(b.target.result)},g.readAsDataURL(u)}this.uploadFile(s,o,l)}uploadFile(n,s,o){const l=new FormData;l.append("PropID",o),l.append("LeadID",n),l.append("ExecID",localStorage.getItem("UserId")),l.append("assignID",s);for(var r=0;r<this.closurefiles.length;r++)l.append("file[]",this.closurefiles[r]);this._mandateService.uploadFile(l).subscribe(c=>{"True"==c.status&&(this._mandateService.getassignedrm(this.id,this.userid,this.leadAssign,this.feedbackId,"1"==localStorage.getItem("RoleType")?localStorage.getItem("UserId"):"").subscribe(_=>{this.assignedrm=_.RMname,this.leadsDetailsInfo=_.RMname,this.assignedrm=this.assignedrm.filter(u=>u.RMID==this.selectedExecId),this.verifyrequest(this.assignedrm[0].customer_IDPK,this.assignedrm[0].suggestedprop[0].propid,this.selectedExecId,this.assignedrm[0].suggestedprop[0].name)}),this.uploads=[],this.closurefiles=[])})}requestrejection(n,s,o){if(0==this.requestedunits[0].images.length)d().fire({title:"No Files Uploaded",text:"Upload atleast one file",icon:"error",heightAuto:!1,confirmButtonText:"ok"});else if(""==$(".rejectedtextarea").val())$(".rejectedtextarea").focus().css("border-color","red").attr("placeholder","Please add the reason for rejection");else if(/^(?!\s*$).+$/.test(String($(".rejectedtextarea").val()))){$(".rejectedtextarea").removeAttr("style");var l=$(".rejectedtextarea").val(),r={leadid:n,propid:o,execid:this.userid,statusid:"2",remarks:l,assignid:s};"demo"==localStorage.getItem("Name")?d().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this._mandateService.closingrequestresponse(r).subscribe(c=>{"True-1"==c.status?d().fire({title:"Request Rejected",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(_=>{this.router.navigate([],{queryParams:{editRejectedLead:null},queryParamsHandling:"merge"}).then(()=>{setTimeout(()=>{this.ngOnInit()},100)})}):d().fire({title:"Some Error Occured",icon:"error",heightAuto:!1,confirmButtonText:"OK!"}).then(_=>{this.ngOnInit()})})}else $(".rejectedtextarea").focus().css("border-color","red").attr("placeholder","Please add the reason for rejection")}requestapproval(n,s,o){if(0==this.requestedunits[0].images.length)d().fire({title:"No Files Uploaded",text:"Upload atleast one file",icon:"error",heightAuto:!1,allowOutsideClick:!1,confirmButtonText:"ok"});else{var l={leadid:n,propid:o,execid:this.userid,statusid:"1",remarks:"No Comments",assignid:this.selectedExecId};"demo"==localStorage.getItem("Name")?d().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this._mandateService.closingrequestresponse(l).subscribe(r=>{"True-0"==r.status?(this.autoremarks=" Send the Deal Closing Request successfully.",this._mandateService.addleadhistory({leadid:n,closedate:this.requestedunits[0].closed_date,closetime:this.requestedunits[0].closed_time,textarearemarks:"Deal closed Request Approved",leadstage:"Lead Closed",stagestatus:"0",userid:this.userid,assignid:this.selectedExecId,property:o,autoremarks:this.autoremarks,feedbackid:this.feedbackId}).subscribe(_=>{"True"==_.status?(this.showSpinner=!1,d().fire({title:"Request Approved Successfully",icon:"success",heightAuto:!1,timer:2e3,allowOutsideClick:!1,showConfirmButton:!1}).then(()=>{this.showRejectionForm=!1,this.showSpinner=!1,this.ngOnInit()})):"Duplicate Request"==_.status&&d().fire({title:"Already got the request for this same Unit number",icon:"error",heightAuto:!1,timer:2e3,allowOutsideClick:!1,showConfirmButton:!1}).then(()=>{this.ngOnInit()})},_=>{console.log("Failed to Update")})):d().fire({title:"Some Error Occured",icon:"error",heightAuto:!1,timer:2e3,allowOutsideClick:!1,showConfirmButton:!1}).then(()=>{location.reload()})})}}editNow(n,s,o,l){if(""==$("#unit").val())d().fire({title:"Units Not Selected",text:"Select any Unit for ",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1});else if(""==String($("#unit_number").val()).trim())$("#unit_number").val(""),$("#unit_number").focus().css("border-color","red").attr("placeholder","Please type the Unit Number");else if(""!=String($("#dimension").val()).trim()&&/^[0-9]+$/.test(String($("#dimension").val())))if(""!=String($("#rate_per_sqft").val()).trim()&&/^[0-9]+$/.test(String($("#rate_per_sqft").val())))if(""==$("#customFile").val())d().fire({title:"No Files Uploaded",text:"Upload atleast one file for ",icon:"error",timer:2e3,showConfirmButton:!1});else{$("#unit_number").removeAttr("style"),$("#dimension").removeAttr("style"),$("#rate_per_sqft").removeAttr("style");var r=$("#unit").val(),c=$("#unit_number").val(),_=$("#dimension").val(),u=$("#rate_per_sqft").val(),f=this.requestedunits[0].closed_date,g=this.requestedunits[0].closed_time,b=this.requestedunits[0].suggested[0].remarks;this.autoremarks="The Deal Closed has been edited successfully.";var x={leadid:this.id,closedate:f,closetime:g,leadstage:"Edit Closed Lead",stagestatus:"0",textarearemarks:b,userid:this.userid,assignid:this.selectedExecId,property:o,bhk:r,bhkunit:c,dimension:_,ratepersft:u,autoremarks:this.autoremarks,closedleadID:l,feedbackid:this.feedbackId};"demo"==localStorage.getItem("Name")?d().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this._mandateService.addleadhistory(x).subscribe(m=>{"True"==m.status?d().fire({title:"Deal Closed Successfully",icon:"success",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{window.location.reload()}):"Duplicate Request"==m.status&&d().fire({title:"Already got the request for this same Unit number",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{window.location.reload()})},m=>{console.log("Failed to Update")})}else $("#rate_per_sqft").val(""),$("#rate_per_sqft").focus().css("border-color","red").attr("placeholder","Please type the Rate Per Squarefeet");else $("#dimension").val(""),$("#dimension").focus().css("border-color","red").attr("placeholder","Please type the Dimension")}displayAssignLeadModal(n){this.assignteam=n,this.selectedMandateTeam="",this.retailTeamId="",this.mandateExecutives=[],this.retailExecutives=[],this.selectedMandatePropId="",this.selectedExecIds=[],this.mandateprojectsfetch(),this.retailReassignModal.present()}mandateprojectsfetch(){this._mandateService.getmandateprojects().subscribe(n=>{if("True"==n.status){this.projectNames=n.Properties;const s=this.fixedVisitProperties.map(o=>o.propId);this.projectNames=n.Properties.map(o=>{const l=s.includes(o.property_idfk);return{...o,disabled:!l}})}})}executiveSelect(n){this.selectedExecIds=[];let s=Array.isArray(this.selectedEXEC)?this.selectedEXEC:[this.selectedEXEC];"mandate"===this.assignteam?this.selectedExecIds=s.map(o=>o.id):"retail"===this.assignteam&&(this.selectedExecIds=s.map(o=>o.ID)),this.selectedExecIds=Array.from(new Set(this.selectedExecIds))}getselectedprop(n){var s;let o;this.selectedMandatePropId=n.target.value,(null!=this.selectedExecTeam||""!=this.selectedExecTeam)&&(o=this.selectedExecTeam),this._mandateService.fetchmandateexecutives(n.target.value,this.selectedMandateTeam,null===(s=o)||void 0===s?void 0:s.code).subscribe(l=>{"True"==l.status&&(this.selectedExecIds=[],this.mandateExecutives=l.mandateexecutives,this.mandateExecutives=this.mandateExecutives.filter(r=>!this.leadsDetailsInfo.some(c=>c.RMID==r.id)))})}getselectedteam(n){"mandate"==this.assignteam?(this.selectedMandateTeam=n.detail.value,this._mandateService.fetchmandateexecutives(this.selectedMandatePropId,n.detail.value).subscribe(s=>{"True"==s.status&&(this.selectedExecIds=[],this.mandateExecutives=s.mandateexecutives,this.mandateExecutives=this.mandateExecutives.filter(o=>!this.leadsDetailsInfo.some(l=>l.RMID==o.id)))})):"retail"==this.assignteam&&(this.retailTeamId=n.detail.value,this._mandateService.getexecutivesbasedid(this.retailTeamId).subscribe(s=>{this.selectedExecIds=[],this.retailExecutives=s.Executiveslist,this.retailExecutives=this.retailExecutives.filter(o=>!this.leadsDetailsInfo.some(l=>l.RMID==o.ID))}))}assignLead(){let n;if(this.selectedExecIds&&(n=this.selectedExecIds.join(", ")),"Fresh"==this.activestagestatus[0].stage||"1"==this.activestagestatus[0].stagestatus&&"USV"==this.activestagestatus[0].stage)if("retail"!=this.assignteam||""!=this.retailTeamId&&null!=this.retailTeamId)if("mandate"==this.assignteam&&""==this.selectedMandatePropId)d().fire({title:"Please Select The Property!",text:"Please try agin",icon:"error",heightAuto:!1,confirmButtonText:"OK!"}),$("#property").focus().css("border-color","red").attr("placeholder","Please Select the Property");else if(0===this.selectedExecIds.length)d().fire({title:"Please Select The Executive!",text:"Please try agin",icon:"error",heightAuto:!1,confirmButtonText:"OK!"}).then(o=>{}),$("#rm_dropdown").focus().css("border-color","red").attr("placeholder","Please Select the Executives");else{$("#rm_dropdown").removeAttr("style");var s={rmID:n,LeadID:this.id,random:"",propID:this.selectedMandatePropId,loginId:this.userid};"demo"==localStorage.getItem("Name")?d().fire({title:"Lead assignment is not allowed for demo account.",icon:"error",allowOutsideClick:!1,heightAuto:!1,confirmButtonText:"OK"}).then(o=>{this.showSpinner=!1}):this._mandateService.leadassign(s).subscribe(o=>{"True"==o.status&&(this.reassignedResponseInfo=o.details,d().fire({title:"Assigned Successfully",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(l=>{this.showSpinner=!0,(l.isConfirmed||l.dismiss===d().DismissReason.backdrop)&&(this.retailReassignModal.dismiss(),this.viewAssignLeadDetail.present())}))})}else d().fire({title:"Please Select The Team!",text:"Please try agin",icon:"error",heightAuto:!1,confirmButtonText:"OK!"});else{const o={rmID:n,fromExecid:this.executeid,leadid:this.id,propid:this.propid,random:"",loginid:localStorage.getItem("UserId"),stage:this.activestagestatus[0].stage};this._mandateService.visitreassign(o).subscribe(l=>{"True"==l.status&&("1"==l.result?d().fire({title:"Visit Re-assign Successfully",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(r=>{this.selectedExecIds=[],this.selectedMandatePropId="",this.selectedMandateTeam="",location.reload()}):"2"==l.result&&d().fire({title:"Visit Re-assign Unsuccessfull",text:"The lead can be assigned only if its overdue",icon:"error",heightAuto:!1,confirmButtonText:"OK!"}).then(r=>{this.selectedExecIds=[],this.selectedMandatePropId="",this.selectedMandateTeam="",location.reload()}))})}}resubmitdata(n,s,o,l){var r=$("#unit").val(),c=$("#unit_number").val(),_=$("#dimension").val(),u=$("#rate_per_sqft").val();if(""==$("#unit").val())$("#unit").focus().css("border-color","red").attr("placeholder","Please type the Unit Size");else if(""==$("#unit_number").val())$("#unit_number").focus().css("border-color","red").attr("placeholder","Please type the unit number");else if(""==$("#dimension").val())$("#dimension").focus().css("border-color","red").attr("placeholder","Please type the Dimension");else if(""==$("#rate_per_sqft").val())$("#rate_per_sqft").focus().css("border-color","red").attr("placeholder","Please type the Rate Per Squarefeet");else if(0==this.requestedunits[0].images.length)$("#remarks-"+l).removeAttr("style"),d().fire({title:"No Files Uploaded",text:"Upload atleast one file",icon:"error",heightAuto:!1,confirmButtonText:"ok"});else{var f={leadid:n,propid:o,execid:this.userid,bhk:r,bhkunit:c,dimension:_,ratepersqft:u,assignid:this.selectedExecId};"demo"==localStorage.getItem("Name")?d().fire({title:"This feature is restricted for demo accounts.",icon:"error",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.showSpinner=!1}):this._mandateService.requestresubmition(f).subscribe(g=>{"True"==g.status?d().fire({title:"Resubmited Successfully",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(b=>{this.ngOnInit()}):d().fire({title:"Some Error Occured",icon:"error",timer:2e3,heightAuto:!1,showConfirmButton:!1}).then(()=>{this.ngOnInit()})})}}enableButton(){""==$(".rejectedtextarea").val()?(this.enablebuttonApprove=!0,this.enablebuttonReject=!1):(this.enablebuttonReject=!0,this.enablebuttonApprove=!1)}modeldismis_reset(){this.retailReassignModal.dismiss(),this.selectedMandateTeam="",this.retailTeamId="",this.mandateExecutives=[],this.retailExecutives=[],this.selectedMandatePropId="",this.selectedExecIds=[],this.selectedExecTeam=null}ngOnDestroy(){this.popoverController.dismiss(),this.FollowUpFormComponent&&this.FollowUpFormComponent.closeAlert(),this.JunkformComponent&&this.JunkformComponent.closeAlert(),this.MandateNegoformComponent&&this.MandateNegoformComponent.closeAlert(),this.MandateRsvFormComponent&&this.MandateRsvFormComponent.closeAlert(),this.MandateUsvFormComponent&&this.MandateUsvFormComponent.closeAlert(),this.MandateCloseFormComponent&&this.MandateCloseFormComponent.closeAlert()}refresh(n){this.ngOnInit(),setTimeout(()=>{n.target.complete()},1e3)}onStatusActivity(n){this.showSpinner=!0,this.router.navigate([],{queryParams:{statusSection:n,isCallHistory:"status"==n||"plan"==n?null:"leads"},queryParamsHandling:"merge"})}onCallLeadHistory(n){this.router.navigate([],{queryParams:{isCallHistory:n},queryParamsHandling:"merge"})}checkstage(){var n,s;if(this.assignedrm&&"Fresh"==this.assignedrm[0].leadstage&&"8"==this.assignedrm[0].followupreason&&d().fire({title:"Please Fix the USV..!",icon:"warning",heightAuto:!1,timer:2e3,showConfirmButton:!1}),"weekend"==this.selectedPlanType||"weekdays"==this.selectedPlanType)if(this.assignedrm&&"USV"==this.assignedrm[0].leadstage&&this.assignedrm[0].suggestedprop)this.visitPlanNextDate=null===(n=this.selectedSuggestedProp)||void 0===n?void 0:n.nextdate,this.visitPlanNextTime=null===(s=this.selectedSuggestedProp)||void 0===s?void 0:s.nexttime;else if(this.assignedrm&&"RSV"==this.assignedrm[0].leadstage&&this.assignedrm[0].suggestedprop){var o,l;this.visitPlanNextDate=null===(o=this.selectedSuggestedProp)||void 0===o?void 0:o.nextdate,this.visitPlanNextTime=null===(l=this.selectedSuggestedProp)||void 0===l?void 0:l.nexttime}else if(this.assignedrm&&"Final Negotiation"==this.assignedrm[0].leadstage&&this.assignedrm[0].suggestedprop){var r,c;this.visitPlanNextDate=null===(r=this.selectedSuggestedProp)||void 0===r?void 0:r.nextdate,this.visitPlanNextTime=null===(c=this.selectedSuggestedProp)||void 0===c?void 0:c.nexttime}this.checkWeekDay(),setTimeout(()=>{this.scriptfunctions()},0)}selectedplan(n){var s,o;if(this.selectedPlanType=n,setTimeout(()=>{this.scriptfunctions()},0),"weekend"==this.selectedPlanType||"weekdays"==this.selectedPlanType)if(this.assignedrm&&"USV"==this.assignedrm[0].leadstage)this.visitPlanNextDate=null===(s=this.selectedSuggestedProp)||void 0===s?void 0:s.nextdate,this.visitPlanNextTime=null===(o=this.selectedSuggestedProp)||void 0===o?void 0:o.nexttime;else if(this.assignedrm&&"RSV"==this.assignedrm[0].leadstage&&this.assignedrm[0].suggestedprop){var l,r;this.visitPlanNextDate=null===(l=this.selectedSuggestedProp)||void 0===l?void 0:l.nextdate,this.visitPlanNextTime=null===(r=this.selectedSuggestedProp)||void 0===r?void 0:r.nexttime}else if(this.assignedrm&&"Final Negotiation"==this.assignedrm[0].leadstage&&this.assignedrm[0].suggestedprop){var c,_;this.visitPlanNextDate=null===(c=this.selectedSuggestedProp)||void 0===c?void 0:c.nextdate,this.visitPlanNextTime=null===(_=this.selectedSuggestedProp)||void 0===_?void 0:_.nexttime}setTimeout(()=>{this.checkWeekDay()},0)}scriptfunctions(){}checkWeekDay(){var n;let o=new Date(null===(n=this.assignedrm[0].suggestedprop)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.actiondate).getDay();this.visitPlanDone=6===o||0===o?"weekend"==this.selectedPlanType?!(!this.assignedrm||"2"!=this.assignedrm[0].suggestedprop[0].weekplan):"2"!=this.selectedPlanType:"weekdays"==this.selectedPlanType?!(!this.assignedrm||"1"!=this.assignedrm[0].suggestedprop[0].weekplan):"1"!=this.selectedPlanType}editvisitPlan(n){this.assignedrm&&this.assignedrm[0].suggestedprop&&"2"==this.assignedrm[0].suggestedprop[0].weekplan?(this.selectedPlanType="weekend",setTimeout(()=>{$("#visitPlandate").val(this.assignedrm[0].suggestedprop[0].actiondate),$("#visitPlantime").val(this.assignedrm[0].suggestedprop[0].actiontime),this.visitPlandate=this.assignedrm[0].suggestedprop[0].actiondate,this.visitPlantime=this.assignedrm[0].suggestedprop[0].actiontime},100)):this.assignedrm&&this.assignedrm[0].suggestedprop&&"1"==this.assignedrm[0].suggestedprop[0].weekplan?(this.selectedPlanType="weekdays",setTimeout(()=>{$("#visitPlandate").val(this.assignedrm[0].suggestedprop[0].actiondate),$("#visitPlantime").val(this.assignedrm[0].suggestedprop[0].actiontime),this.visitPlandate=this.assignedrm[0].suggestedprop[0].actiondate,this.visitPlantime=this.assignedrm[0].suggestedprop[0].actiontime},100)):this.assignedrm&&this.assignedrm[0].suggestedprop&&"0"==this.assignedrm[0].suggestedprop[0].weekplan?this.selectedPlanType="ytc":this.assignedrm&&this.assignedrm[0].suggestedprop&&null==this.assignedrm[0].suggestedprop[0].weekplan&&"edit"==n&&setTimeout(()=>{$("#visitPlandate").val(this.assignedrm[0].suggestedprop[0].nextdate),$("#visitPlantime").val(this.assignedrm[0].suggestedprop[0].nexttime),this.visitPlandate=this.assignedrm[0].suggestedprop[0].nextdate,this.visitPlantime=this.assignedrm[0].suggestedprop[0].nexttime},100),this.editplan=!0}onDateChange(n){const s=new Date(n.detail.value);this.visitPlandate=s.toLocaleDateString("en-CA")}validateTime(){if(this.visitPlantime){const[n,s]=this.visitPlantime.split(" ");let[o,l]=n.split(":").map(Number);"PM"===s&&o<12&&(o+=12),"AM"===s&&12===o&&(o=0);const r=new Date(`1970-01-01T${String(o).padStart(2,"0")}:${String(l).padStart(2,"0")}:00`);this.timeError=r>=new Date("1970-01-01T20:00:00")||r<new Date("1970-01-01T08:00:00")}else this.timeError=!1;this.timeError&&(this.visitPlantime="",$("#visitPlantime").val(""),$("#refixtime").val(""),$("#RSVvisitedtime").val(""),$("#subrsvnextactiontime").val(""))}fixPlan(){let n;if("weekend"==this.selectedPlanType?n=2:"weekdays"==this.selectedPlanType?n=1:"ytc"==this.selectedPlanType&&(n=0),""==this.selectedPlanType||null==this.selectedPlanType||null==this.selectedPlanType)d().fire({title:"Please select the correct weekdays date",text:"Select the correct date",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!0});else if(0==this.confirmbtnClicked&&""==$("#visitPlandate").val())$("#visitPlandate").focus().css("border-color","red").attr("placeholder","Please Select One Date");else if(""==$("#visitPlantime").val())$("#visitPlandate").removeAttr("style"),$("#visitPlantime").focus().css("border-color","red").attr("placeholder","Please Select The Time");else if(""!=$("#visitPlandate").val()){const _=$("#visitPlandate").val();let f=new Date(String(_)).getDay(),g=6===f||0===f;if(g&&"weekend"!=this.selectedPlanType)$("#visitPlandate").removeAttr("style"),d().fire({title:"Please select the correct weekdays date",text:"Select the correct date",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1});else if(g||"weekdays"==this.selectedPlanType){if($("#visitPlantime").removeAttr("style"),1==this.confirmbtnClicked)var s=this.visitPlanNextDate,o=this.visitPlanNextTime;else s=$("#visitPlandate").val(),o=$("#visitPlantime").val();this.showSpinner=!0,"USV"==this.activestagestatus[0].stage?this._mandateService.addselectedsuggestedproperties({leadid:this.id,nextdate:s,nexttime:o,suggestproperties:this.selectedSuggestedProp.propid,execid:this.userid,assignid:this.selectedExecId}).subscribe(b=>{this._mandateService.getselectedsuggestproperties(this.id,this.userid,this.selectedExecId).subscribe(x=>{this.selectedpropertylists=x.selectedlists,this.selectedlists=x,this.selectedproperty_commaseperated=this.selectedpropertylists.map(p=>p.name).join(","),this.autoremarks="Scheduled the USV for "+this.selectedproperty_commaseperated+" On "+s+" "+o,this._mandateService.addleadhistory({leadid:this.id,closedate:s,closetime:o,leadstage:"USV",stagestatus:"1",textarearemarks:"",userid:this.userid,assignid:this.selectedExecId,autoremarks:this.autoremarks,property:this.selectedSuggestedProp.propid,feedbackid:this.feedbackId}).subscribe(p=>{"True"==p.status?this._mandateService.updatemyplan({execid:this.selectedExecId,leadid:this.id,planid:n,plandate:s,plantime:o,stage:this.assignedrm[0].leadstage,stagestatus:this.assignedrm[0].leadstatus,loginid:this.userid,propid:this.selectedSuggestedProp.propid}).subscribe(M=>{this.showSpinner=!1,"True"==M.status&&d().fire({title:"Plan Confirmed",text:"Visit Plan added Successfully",icon:"success",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{location.reload()})}):"False"==p.status&&p.data&&d().fire({title:` ${p.data[0].Lead_stage} already fixed by ${p.data[0].name}`,text:"Please Contact Admin to assign this visit",icon:"error",heightAuto:!1,showConfirmButton:!0}).then(()=>{location.reload()})},p=>{console.log("Failed to Update")})})}):"RSV"==this.activestagestatus[0].stage?this._mandateService.addrsvselected({leadid:this.id,nextdate:s,nexttime:o,suggestproperties:this.selectedSuggestedProp.propid,execid:this.userid,assignid:this.selectedExecId}).subscribe(b=>{"True"==b.status&&this._mandateService.rsvselectproperties({leadid:this.id,execid:this.userid,stage:"RSV",assignid:this.selectedExecId}).subscribe(m=>{this.selectedpropertylists=m.selectedrsvlists,this.selectedproperty_commaseperated=this.selectedpropertylists.map(h=>h.name).join(","),this.autoremarks=" Scheduled the RSV for "+this.selectedproperty_commaseperated+" On "+s+" "+o,this._mandateService.addleadhistory({leadid:this.id,closedate:s,closetime:o,leadstage:"RSV",stagestatus:"1",textarearemarks:"",userid:this.userid,assignid:this.selectedExecId,autoremarks:this.autoremarks,property:this.selectedSuggestedProp.propid,feedbackid:this.feedbackId}).subscribe(h=>{"True"==h.status?this._mandateService.updatemyplan({execid:this.selectedExecId,leadid:this.id,planid:n,plandate:s,plantime:o,stage:this.assignedrm[0].leadstage,stagestatus:this.assignedrm[0].leadstatus,loginid:this.userid,propid:this.selectedSuggestedProp.propid}).subscribe(k=>{this.showSpinner=!1,"True"==k.status&&d().fire({title:"Plan Confirmed",text:"Visit Plan added Successfully",icon:"success",timer:2e3,heightAuto:!1,showConfirmButton:!1}).then(()=>{location.reload()})}):"False"==h.status&&h.data&&d().fire({title:` ${h.data[0].Lead_stage} already fixed by ${h.data[0].name}`,text:"Please Contact Admin to assign this visit",icon:"error",heightAuto:!1,showConfirmButton:!0}).then(()=>{location.reload()})},h=>{console.log("Failed to Update")})})},b=>{console.log("Failed to Update")}):"Final Negotiation"==this.activestagestatus[0].stage&&this._mandateService.addnegoselected({leadid:this.id,nextdate:s,nexttime:o,suggestproperties:this.selectedSuggestedProp.propid,execid:this.userid,assignid:this.selectedExecId}).subscribe(b=>{this._mandateService.negoselectproperties(this.id,this.userid,this.selectedExecId,this.feedbackId).subscribe(x=>{this.selectedpropertylists=x.selectednegolists,this.selectedlists=x,this.selectedproperty_commaseperated=this.selectedpropertylists.map(p=>p.name).join(","),this.autoremarks="Scheduled the Final Negotiation for "+this.selectedproperty_commaseperated+" On "+s+" "+o,this._mandateService.addleadhistory({leadid:this.id,closedate:s,closetime:o,leadstage:"Final Negotiation",stagestatus:"1",textarearemarks:"",userid:this.userid,assignid:this.selectedExecId,autoremarks:this.autoremarks,property:this.selectedSuggestedProp.propid,feedbackid:this.feedbackId}).subscribe(p=>{"True"==p.status?this._mandateService.updatemyplan({execid:this.selectedExecId,leadid:this.id,planid:n,plandate:s,plantime:o,stage:this.assignedrm[0].leadstage,stagestatus:this.assignedrm[0].leadstatus,loginid:this.userid,propid:this.selectedSuggestedProp.propid}).subscribe(M=>{this.showSpinner=!1,"True"==M.status&&d().fire({title:"Plan Confirmed",text:"Visit Plan added Successfully",icon:"success",heightAuto:!1,timer:2e3,showConfirmButton:!1}).then(()=>{location.reload()})}):"False"==p.status&&p.data&&d().fire({title:` ${p.data[0].Lead_stage} already fixed by ${p.data[0].name}`,text:"Please Contact Admin to assign this visit",icon:"error",heightAuto:!1,showConfirmButton:!0}).then(()=>{location.reload()})},p=>{console.log("Failed to Update")})})},b=>{console.log("Failed to Update")})}else $("#visitPlandate").removeAttr("style"),d().fire({title:"Please select the correct weekend date",text:"Select the correct date",icon:"error",heightAuto:!1,timer:2e3,showConfirmButton:!1})}}confirmPlan(){this.confirmbtnClicked=!0,setTimeout(()=>{this.fixPlan()},0)}trimSpce(n){return n.bhk.trim()}searchClient(n){this.showSpinner=!0;const s=n.target.value;s.length>=5?this.searchSubject.next(s):(this.filteredLeads=[],this.showSpinner=!1)}fetchData(n){let s;/^[\d\s+]+$/.test(n)?(s=n.replace(/\s+/g,""),s=s.slice(-10)):s=n,this._sharedservice.searchLeads(s,"","","1").subscribe({next:o=>{"True"==o.status?(this.filteredLeads=o.Searchlist,this.showSpinner=!1):(this.filteredLeads=[],this.showSpinner=!1)},error:o=>{this.filteredLeads=[],this.showSpinner=!1}})}toViewMergedLeads(){this.viewToMergedLeads.present()}onMergeIcon(){this.mergeModal.present()}onCloseMergeModal(){this.filteredLead=[],this.filteredLeads=[],this.leadSearchTerm="",this.isActiveMerge=!1,this.mergeModal.dismiss()}onFilteredLead(n){this.filteredLead=[],this.filteredLead.push(n),this.isActiveMerge=!0,this.leadSearchTerm="",this.filteredLeads=[]}relationshipSelect(n){console.log(n)}onMergeLead(){return""==this.selectedRelation||null==this.selectedRelation||null==this.selectedRelation?(d().fire({title:"Relation",text:"Please select the Relationship",timer:2e3,heightAuto:!1,showConfirmButton:!1,icon:"error"}),$("#relationship_dropdown").focus().css("border-color","red").attr("placeholder","Please Select the Relation"),!1):(this._sharedservice.postMergeLeads({leadId:this.id,mergeLeadId:this.filteredLead[0].customer_IDPK,relation:this.selectedRelation.name}).subscribe(s=>{d().fire({title:"Merge Lead",text:"The Lead has been successfully Merged",showConfirmButton:!1,timer:2e3,heightAuto:!1,icon:"success"}).then(()=>{location.reload()})}),!0)}onHtype(n){this.isRetail?this.router.navigate(["assigned-leads-detail"],{queryParams:{htype:"retail",execid:this.isAdmin?this.selectedExecId:this.userid},queryParamsHandling:"merge"}):this.router.navigate(["mandate-customers"],{queryParams:{htype:"mandate"},queryParamsHandling:"merge"})}openEndMenu(){this._sharedservice.isMenuOpen=!0,this.menuCtrl.open("end")}accessNow(n){this.isAccompanyBy=!1,setTimeout(()=>{let s=this.leadsDetailsInfo.filter(o=>o.RMID==this.assignedrm[0].visitaccompaniedid);this.router.navigate([],{queryParams:{execid:s[0].RMID,propid:s[0].propid},queryParamsHandling:"merge"})},0)}outboundCall(){var n,s,o,l;this.showSpinner=!0;const r=null!==(n=this.show_cnt)&&void 0!==n&&n.customer_number.startsWith("91")&&(null===(s=this.show_cnt)||void 0===s?void 0:s.customer_number.length)>10?null===(o=this.show_cnt)||void 0===o?void 0:o.customer_number.slice(2):null===(l=this.show_cnt)||void 0===l?void 0:l.customer_number,c={execid:this.localStorage.getItem("UserId"),callto:r,leadid:this.show_cnt.customer_IDPK,starttime:this.getCurrentDateTime(),modeofcall:"mobile-"+this.htype,leadtype:this.htype,assignee:this.selectedExecId};this._sharedservice.outboundCall(c).subscribe(()=>{this.showSpinner=!1,this.getLiveCallsData(this.show_cnt.customer_IDPK),this.callConfirmationModal.dismiss()})}getCurrentDateTime(){const n=new Date;return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`}navigateToWhatsApp(){var n;window.open(`https://wa.me/+91 ${null===(n=this.show_cnt)||void 0===n?void 0:n.customer_number}`,"_system")}getAllCallLogs(n){var s;const o={loginid:this.userid,execid:this.executeid,clientnum:null===(s=this.assignedrm)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.customer_number,limit:0,limitrows:30};return new Promise((l,r)=>{this._sharedservice.fetchAllCallLogs(o).subscribe({next:c=>{this.showSpinner=!1,"success"==c.status?(this.allCallLogs=n?this.allCallLogs.concat(c.success):c.success,this.groupByDate(c.success),l(!0)):(this.showSpinner=!1,this.allCallLogs=[],l(!1))},error:c=>{console.log("error",c),this.allCallLogs=[],this.showSpinner=!1,l(!1)}})})}groupByDate(n){const s={};n.forEach(o=>{const l=o.starttime.split(" ")[0];s[l]||(s[l]=[]),s[l].push(o)}),this.groupedByDate=Object.keys(s).map(o=>({date:o,calls:s[o]}))}isDateOver30Days(n){const s=new Date(n),o=new Date;return o.setDate(o.getDate()-30),s.getTime()<o.getTime()}fetchregistereddata(n,s){this._retailservice.fetchclientregistereddata({leadid:n,propid:s}).subscribe(l=>{this.clientregistereddata=l.registereddata[0]})}fetchmails(n,s){this.showSpinner=!0,this.propertyid=s,this._retailservice.getfetchmail(s).subscribe(o=>{this.showSpinner=!1,this.mails=o.Buildermail,this.buildernamereg=this.mails[0].builderInfo_name}),this.property=n}clientregisteration(){if(this.toselect=$("#mailtoselect").val(),this.registrationremarks=$("#regremarks").val(),this.ccselect=""==$("#ccselect").val()?this.toselect:$("#ccselect").val(),""==$("#mailtoselect").val())$(".sendto").focus().css("border-color","red").attr("placeholder","Please Enter Name");else{var n,s,o;$(".sendto").removeAttr("style");var l={leadid:this.id,propid:this.propertyid,customer:null===(n=this.assignedrm)||void 0===n?void 0:n[0].customer_name,customernum:null===(s=this.assignedrm)||void 0===s?void 0:s[0].customer_number,customermail:null===(o=this.assignedrm)||void 0===o?void 0:o[0].customer_mail,rmname:localStorage.getItem("Name"),rmmail:localStorage.getItem("Mail"),builder:this.buildernamereg,property:this.property,sendto:this.toselect,sendcc:this.ccselect,execid:this.selectedExecId,remarks:this.registrationremarks};this.showSpinner=!0,this._retailservice.clientregistration(l).subscribe(r=>{var c=r.status,_=r.success;"1"==c?(this.showSpinner=!1,d().fire({title:"Mail Sent Successfully!",text:"This Data registered on 30 Days before so Re-registered Successfully",icon:"success",heightAuto:!1}).then(u=>{u.value&&location.reload()})):"0"==c?(this.showSpinner=!1,d().fire({title:"Mail Sent Successfully!",text:"Registered Successfully",icon:"success",heightAuto:!1}).then(u=>{u.value&&location.reload()})):(this.showSpinner=!1,d().fire({title:"Already Registered Data Found.!",text:_[0].registered_property+" is registered by "+_[0].registered_RM+" on "+_[0].registered_date+". Please Unselect this Property If it is a group Submission.",icon:"error",heightAuto:!1,showConfirmButton:!0}))},r=>{console.log("Failed to Update")})}}alert(){d().fire({title:"Lead in Junk",text:"This lead is currently marked as Junk. Please revert the lead first to make a call.",icon:"warning",confirmButtonText:"OK",heightAuto:!1})}onSelectSuggProp(n){this.suggestedproperties.push(n.id)}deSelectSuggProp(n){this.suggestedproperties=this.suggestedproperties.filter(s=>s!=n.id)}addpropertiestolist(){var n;let s={LeadID:this.id,Stage:null===(n=this.activestagestatus)||void 0===n?void 0:n[0].stage,Execid:this.userid,assignID:this.selectedExecId,PropertyID:this.suggestedproperties};this._mandateService.addsuggestedproperties(s).subscribe(o=>{"True"==o.status&&d().fire({title:"Suggested Successfully Added",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(l=>{this.getAssignedRM(),this.suggModal.dismiss(),this._retailservice.isCloseSuggModal=!0})})}getAssignedRM(){this._mandateService.getassignedrm(this.id,this.userid,this.leadAssign,this.feedbackId,"1"==localStorage.getItem("RoleType")?localStorage.getItem("UserId"):"").subscribe(n=>{var s,o;if("1"==n.lead&&this.selectedExecId==this.userid&&("50003"===localStorage.getItem("Role")||"50004"===localStorage.getItem("Role"))&&this.confirmLeadConversionToMandate(),this.assignedrm=n.RMname,this.leadsDetailsInfo=n.RMname,this.usvstagedetection=n.RMname[0].leadstage,this.usvstagestatusdetection=n.RMname[0].leadstatus,this.assignedrm=this.assignedrm.filter(l=>l.RMID==this.selectedExecId),this.assignedrm&&this.assignedrm.length>0&&this.assignedrm[0].rnrcount>=5&&1!=this.roleid&&"2"!=this.roleid&&d().fire({text:"Access Denied , Do contact the Admin",icon:"error",heightAuto:!1}).then(()=>{this.router.navigate(["mandate-lead-stages"],{queryParams:{status:"inactive",type:"Inactive",isDropDown:"false",followup:"2",htype:"mandate"}})}),setTimeout(()=>{if(this.isAccompanyBy=!1,this.userid==this.selectedExecId||"1"==this.roleid||"2"==this.roleid||("1"!=this.role_type||"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid)&&"1"==this.role_type||"1"==this.feedbackId){if(this.userid==this.selectedExecId&&"1"!=this.roleid&&"2"!=this.roleid&&"1"==this.role_type&&"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid&&"1"!=this.feedbackId)if(this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID)this.isAccompanyBy=!0;else{$(".allActivities").removeClass("active");const l=document.getElementById("updateActivitiesTab");l&&l.click()}else if(this.userid!=this.selectedExecId&&"1"!=this.roleid&&"2"!=this.roleid&&("1"==this.role_type&&"50003"!=this.assignedrm.roleid&&"50004"!=this.assignedrm.roleid||"1"!=this.role_type)&&"1"!=this.feedbackId)if(this.assignedrm&&this.assignedrm[0].visitaccompaniedid&&this.assignedrm[0].visitaccompaniedid!=this.assignedrm[0].RMID||"1"==this.role_type)this.isAccompanyBy=!0;else{$(".allActivities").removeClass("active");const l=document.getElementById("updateActivitiesTab");l&&l.click()}}else $(".updateActivities").removeClass("active"),$(".allActivities").removeClass("active"),setTimeout(()=>{const l=document.getElementById("allActivitiesTab");l&&l.click()},100)},1e3),(null===(s=this.assignedrm[0].suggestedprop)||void 0===s?void 0:s.length)>1){let l,r;this.isSuggestedPropBoolean=!1,this.assignedrm[0].suggestedprop.forEach((c,_)=>{l=c,r=_}),1==l.selection&&"USV"==l.leadstage&&0==l.actions||2==l.selection&&"RSV"==l.leadstage&&1==l.actions?(this.selectedItem=r,setTimeout(()=>{},100)):(this.selectedItem=0,setTimeout(()=>{},100))}else this.selectedItem=0,setTimeout(()=>{},100);this.assignedrm&&this.assignedrm[0].suggestedprop&&(this.visitpanelselection=this.assignedrm[0].suggestedprop.filter(l=>null!=l.weekplan),this.visitpanelselection.length>0&&"1"==this.visitpanelselection[0].weekplan?this.selectedPlanType="weekdays":this.visitpanelselection.length>0&&"2"==this.visitpanelselection[0].weekplan?this.selectedPlanType="weekend":this.visitpanelselection.length>0&&"0"==this.visitpanelselection[0].weekplan&&(this.selectedPlanType="ytc")),setTimeout(()=>{this.selectedplan(this.selectedPlanType)},100),"USV"==this.usvstagedetection&&"3"==this.usvstagestatusdetection&&"0"==(null===(o=n[0])||void 0===o?void 0:o.visitstatus)&&this.actionChange(this.usvstagedetection),(this.selectedSuggestedProp&&"7"==this.selectedSuggestedProp.actions&&"5"==this.selectedSuggestedProp.currentstage||"8"==this.selectedSuggestedProp.actions&&"5"==this.selectedSuggestedProp.currentstage||"6"==this.selectedSuggestedProp.actions&&"5"==this.selectedSuggestedProp.currentstage)&&(this.showRejectionForm=!0,this.verifyrequest(this.assignedrm[0].customer_IDPK,this.selectedSuggestedProp.propid,this.assignedrm[0].RMID,this.selectedSuggestedProp.name))})}displaySuggProperty(){this._mandateService.getPropertylist({leadid:this.id,execid:this.selectedExecId,feedback:this.feedbackId}).subscribe(s=>{this.properties=s.Properties}),this.suggestedproperties=[],this.suggModal.present()}getFixedMandateProperties(){let n={leadid:this.id,execid:this.selectedExecId,loginid:this.localStorage.getItem("UserId"),PropId:this.propid};this._mandateService.getFixedMandateProperties(n).subscribe(s=>{"True"==s.status?(this.isVisitAssign_btn=!0,this.fixedVisitProperties=s.result):(this.fixedVisitProperties=[],this.isVisitAssign_btn=!1)})}onPropSelectOfVisitsAssign(n){this._mandateService.fetchmandateexecutives1(n.value.property_idfk,"","","50002").subscribe(s=>{this.mandateExecList=s.mandateexecutives})}onvisitAssignModal(){this.mandateprojectsfetch(),this.visitAssign.present()}assignFixedLead(){let n={leadid:this.id,propid:this.propid,loginid:localStorage.getItem("UserId"),fromExecid:localStorage.getItem("UserId"),toExecid:this.selectedExec.id,crmType:"1"};this._mandateService.assignfixedvisitlead(n).subscribe(s=>{d().fire({title:"Visit Assigned Successfully",icon:"success",heightAuto:!1,confirmButtonText:"OK!"}).then(o=>{location.reload()})})}onScroll(n){this.content.getScrollElement().then(o=>{const l=o.scrollTop,r=o.scrollHeight,c=o.offsetHeight;this.canScroll=r>c+10,this.isAtBottom=!!this.canScroll&&l+c>=r-100})}onExecTeamSelect(n){this.showSpinner=!0,this.selectedExecutiveName=[],this._mandateService.fetchmandateexecutives(this.selectedMandatePropId,"",n.value.code).subscribe(s=>{this.selectedExecIds=[],this.mandateExecutives=s.mandateexecutives,this.mandateExecutives=this.mandateExecutives.filter(o=>!this.leadsDetailsInfo.some(l=>l.RMID==o.id)),this.showSpinner=!1})}fetchAllCallLogs(n){var s;const o={loginid:this.userid,execid:this.executeid,clientnum:null===(s=this.assignedrm[0])||void 0===s?void 0:s.customer_number,limit:0,limitrows:30};return new Promise((l,r)=>{this._sharedservice.fetchAllCallLogs(o).subscribe({next:c=>{this.showSpinner=!1,"success"==c.status?(this.allCallLogs=n?this.allCallLogs.concat(c.success):c.success,l(!0)):(this.showSpinner=!1,this.allCallLogs=[],l(!1))},error:c=>{this.allCallLogs=[],this.showSpinner=!1,l(!1)}})})}loadData(n){this.fetchAllCallLogs(!0).then(()=>{n.target.complete(),n.target.disabled=!0})}resetInfiniteScroll(){this.showInfiniteScroll=!1,setTimeout(()=>{this.showInfiniteScroll=!0},10)}toggleAudio(n,s){return(0,T.A)(function*(){const o=s.target;if(document.querySelectorAll("audio").forEach(c=>{c!==n&&(c.pause(),c.currentTime=0)}),document.querySelectorAll("ion-icon.play-icon").forEach(c=>{c.setAttribute("name","play")}),n.paused)try{yield n.play(),o.setAttribute("name","pause"),n.onended=()=>{o.setAttribute("name","play")}}catch(c){console.warn("Audio play interrupted:",c)}else n.pause(),n.currentTime=0,o.setAttribute("name","play")})()}getExecList(){this._mandateService.fetchmandateexecutives(this.propid,"","50002").subscribe(n=>{"True"==n.status&&(this.selectedExecIds=[],this.mandateExecutives=n.mandateexecutives)})}onWillDismiss(n){location.reload()}enableAccess(){console.log(this.assignedrm);let n={LeadID:this.assignedrm[0].customer_IDPK,rmID:this.assignedrm[0].RMID,propID:this.assignedrm[0].propid,loginId:this.userid,fromExecids:this.assignedrm[0].RMID};console.log(n),this._mandateService.leadreassign(n).subscribe(s=>{this.showSpinner=!1,"True"==s.status?(this.reassignedResponseInfo=s.assignedleads,d().fire({title:"Access Enabled Successfully",icon:"success",heightAuto:!1,confirmButtonText:"Show Details"}).then(()=>{this.viewAssignLeadDetail.present()})):d().fire({title:"Authentication Failed!",text:"Please try again",icon:"error",heightAuto:!1,confirmButtonText:"OK"})},s=>{console.log("Connection Failed")})}}return(i=a).\u0275fac=function(n){return new(n||i)(e.rXU(H.d),e.rXU(J.k),e.rXU(C._t),e.rXU(K.B),e.rXU(F.aZ),e.rXU(W.a),e.rXU(D.nX),e.rXU(D.Ix),e.rXU(e.gRc),e.rXU(C.IE),e.rXU(C.Hx))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-mandate-customer-details"]],viewQuery:function(n,s){if(1&n&&(e.GBs(O.o,5),e.GBs(N.c,5),e.GBs(A.T,5),e.GBs(B.B,5),e.GBs(V.C,5),e.GBs(Y.Y,5),e.GBs(Q,5),e.GBs(ee,5),e.GBs(te,5),e.GBs(ne,5),e.GBs(ie,7),e.GBs(se,5),e.GBs(oe,5),e.GBs(ae,5),e.GBs(le,5),e.GBs(re,7),e.GBs(ce,5),e.GBs(_e,5)),2&n){let o;e.mGM(o=e.lsd())&&(s.FollowUpFormComponent=o.first),e.mGM(o=e.lsd())&&(s.JunkformComponent=o.first),e.mGM(o=e.lsd())&&(s.MandateNegoformComponent=o.first),e.mGM(o=e.lsd())&&(s.MandateRsvFormComponent=o.first),e.mGM(o=e.lsd())&&(s.MandateUsvFormComponent=o.first),e.mGM(o=e.lsd())&&(s.MandateCloseFormComponent=o.first),e.mGM(o=e.lsd())&&(s.unlockleadtomandateModal=o.first),e.mGM(o=e.lsd())&&(s.editLeadInfoModal=o.first),e.mGM(o=e.lsd())&&(s.closeddeal=o.first),e.mGM(o=e.lsd())&&(s.reSubmitLead=o.first),e.mGM(o=e.lsd())&&(s.retailReassignModal=o.first),e.mGM(o=e.lsd())&&(s.viewAssignLeadDetail=o.first),e.mGM(o=e.lsd())&&(s.mergeModal=o.first),e.mGM(o=e.lsd())&&(s.viewToMergedLeads=o.first),e.mGM(o=e.lsd())&&(s.callConfirmationModal=o.first),e.mGM(o=e.lsd())&&(s.suggModal=o.first),e.mGM(o=e.lsd())&&(s.visitAssign=o.first),e.mGM(o=e.lsd())&&(s.content=o.first)}},decls:49,vars:12,consts:[["editLeadInfoModal",""],["retailMandate",""],["closeddeal",""],["reSubmitLead",""],["viewToMergedLeads",""],["mergeModal",""],["unlockleadtomandateModal",""],["callConfirmationModal",""],["callRecordingsModal",""],["registereNowModal",""],["registeredModal",""],["suggModal",""],["visitAssign",""],["viewAssignLeadDetail",""],["content",""],["num",""],["remarkInput","ngModel"],["audioRef",""],["popover",""],["default",""],["visitassignForm","ngForm"],[3,"ngClass",4,"ngIf"],["type","hidden","id","customer_phase4"],["class","heading",4,"ngIf"],["class","page-background","scrollEvents","true",3,"ionScroll",4,"ngIf"],["class","addleadicon","name","add-circle",3,"click",4,"ngIf"],["class","addleadicon1",3,"click",4,"ngIf"],["trigger","editLeadInfoModal",1,"sheet-modal"],["id","reassignModal",3,"backdropDismiss"],["trigger","closeddeal","id","dealClosed",3,"enterAnimation","leaveAnimation"],[1,"viewMergedLedasModal"],[1,"mergeModal"],[1,"unlockleadtomandate",3,"backdropDismiss"],[1,"callConfirmationModal"],[4,"ngIf"],[1,"callRecordingsModal"],["id","suggested-modal","trigger","open-custom-dialog"],[1,"visitAssign",3,"backdropDismiss"],["id","viewAssignLeadDetail",3,"willDismiss","backdropDismiss"],[3,"ngClass"],["size","2",1,"content_center",3,"click","ngClass"],["name","arrow-back",2,"font-size","24px","color","white"],[1,"content_center","call_icon"],[1,"pr-2",2,"width","24px",3,"src"],["size","2"],[1,"heading"],["size","2",1,"d-flex","align-items-center","justify-content-start",3,"click"],["name","arrow-back",1,"backButton"],["size","8",1,"content_center"],["style","width: 100%;","class","retailMandate",4,"ngIf"],["size","2",1,"d-flex","align-items-center","justify-content-end",3,"click"],["name","menu",1,"menu_icon"],[1,"retailMandate",2,"width","100%"],[1,"content_center",3,"click","ngClass"],[1,"font-size16-familyPoppins"],["scrollEvents","true",1,"page-background",3,"ionScroll"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],["class","content_center loader",4,"ngIf"],[2,"margin-bottom","20%"],["type","hidden","id","sectionselector"],["class","m-2",4,"ngIf"],[1,"custom-footer",2,"position","fixed","bottom","0","width","100%","background","white","z-index","2",3,"ngClass"],[2,"height","56px"],[1,"content_center",2,"flex-direction","column",3,"click"],["src","../../assets/CRMimages/infoImage.svg","style","width: 23px;height: 38px;",4,"ngIf"],["src","../../assets/CRMimages/ActiveInfoImage.svg","style","width: 23px;height: 38px;",4,"ngIf"],[1,"font-size10-familyPoppins","positionabsolute"],["src","../../assets/CRMimages/propertylisticon.png","style","width:30px;height:30px",4,"ngIf"],["src","../../assets/CRMimages/activePropertylisticon.png","style","width:28px;height: 30px;",4,"ngIf"],["class","font-size10-familyPoppins positionabsolute",4,"ngIf"],["src","../../assets/CRMimages/statusActivityicon.png","style","width:25px;height:25px",4,"ngIf"],["src","../../assets/CRMimages/activeStatusActivityIcon.png","style","width:25px;height: 25px;",4,"ngIf"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"marginTop10",2,"margin","10px"],["size","3","id","editProfileModal",1,"font-size14-familyPoppins","ion-justify-content-center","content_center","editProfile",3,"click"],[1,"content_center"],["src","../../../assets/CRMimages/edit.svg"],["size","4"],["trigger","click-trigger","triggerAction","click",2,"--max-width","150px","padding","10px"],[1,"bg_color_blue","marginTop10",2,"border-radius","7px","margin","10px"],[1,"leadName"],["class","priority-div content_center",3,"ngClass",4,"ngIf"],["size","1.2",3,"click"],["src","../../../assets/CRMimages/rounded_corner_call_icon.svg",2,"width","24px"],["src","../../../assets/CRMimages/rounded_corner_whatsapp_icon.svg",2,"width","24px"],["style","width: 24px;","src","../../../assets/CRMimages/rounded_corner_play_icon.svg",4,"ngIf"],[1,"mergedleads"],["class","content_center",3,"click",4,"ngIf"],[2,"margin","10px"],[1,"hed"],[1,"data"],[3,"ngClass",4,"ngIf","ngIfElse"],["class","hed",4,"ngIf"],["class","data",4,"ngIf"],[1,"dropdown",2,"padding","5px"],[3,"click"],[1,"ion-text-right",2,"padding","0 5px"],[1,"font-size10-familyPoppins","text_color_blue"],["class","ion-text-right","style","padding:0 5px",4,"ngFor","ngForOf"],[1,"priority-div","content_center",3,"ngClass"],[1,"priority"],[1,"priority-img"],[3,"src"],["src","../../../assets/CRMimages/rounded_corner_play_icon.svg",2,"width","24px"],[1,"source"],[1,"font-size12-familyPoppins",2,"padding-bottom","0"],[1,"font-size12-familyPoppins",2,"padding-top","0","color","rgb(0,0,0,0.8)"],[4,"ngFor","ngForOf"],["class","source",4,"ngIf"],[1,"content_center",3,"click"],[1,"content_center","font-size12-familyPoppins","font-weight400",2,"width","100%"],["src","../../assets/CRMimages/merged_icon.svg"],[1,"merge_button",2,"float","right",3,"click"],["src","../../assets/CRMimages/merge_icon.svg"],[2,"margin-left","10px","padding-bottom","0"],[1,"font-weight400","font-size14-familyPoppins",2,"color","#647285"],[1,"d-flex","px-1",2,"flex-wrap","wrap","align-items","center"],["style","position:relative",4,"ngFor","ngForOf"],[1,"d-flex"],["src","../../../assets/CRMimages/indicatorfordealclosereq.png","style","position: relative;bottom: 2px;",4,"ngIf"],["src","../../../assets/CRMimages/indicatorfordealclosereq.png",2,"position","relative","bottom","2px"],[2,"position","relative"],["class","text_visiblity",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],["class","noPropSugg",4,"ngIf"],[1,"text_visiblity"],["class","suggprop-div",3,"ngClass",4,"ngIf"],[1,"suggprop-div",3,"ngClass"],[1,"nameStatus"],["size","8"],["size","4",1,"content_center"],["style","color: #D07F00;",4,"ngIf"],["style","color:#006C00",4,"ngIf"],["style","color: #ea4545;",4,"ngIf"],["style","color:#D07F00",4,"ngIf"],["style","color: #006C00;",4,"ngIf"],["style","color:#006C00",3,"click",4,"ngIf"],["style","color: #ea4545;font-size: 11px;",3,"click",4,"ngIf"],[1,"regSuggState"],["style","color:#0074AE",3,"click",4,"ngIf"],[1,"updateVisit",3,"click"],[1,"ion-text-center"],[2,"color","#D07F00"],[2,"color","#006C00"],[2,"font-size","9px"],[2,"font-size","11px"],[2,"color","#ea4545"],[2,"font-size","8px"],[2,"font-size","11px","display","flex"],["ststyle","font-size:11px;display:flex"],[2,"font-size","10px","display","flex"],[2,"color","#006C00",3,"click"],[2,"color","#ea4545","font-size","11px",3,"click"],[1,"walkinAccom"],[1,"dateName"],[1,"font-weight-bold"],["style","color: red;",3,"click",4,"ngIf"],["style","color: #006C00;",3,"click",4,"ngIf"],[2,"color","red",3,"click"],[2,"color","#0074AE",3,"click"],[1,"noPropSugg"],[2,"font-size","medium","color","#a9a9a9"],[1,"m-2"],[1,"activestatusCss","marginBottom15px"],["style"," border: 0.6px solid #d7d7d7;border-radius: 4px; background:white",4,"ngIf"],[1,"content_center",3,"ngClass","hidden"],[3,"click",4,"ngIf"],[1,"now-ui-icons","shopping_cart-simple"],["class","marginBottom15px bg_border_color",4,"ngIf"],["class","marginBottom15px",4,"ngIf"],["style","display: flex;flex-direction: column;justify-content: center;align-items: center;gap: 1rem;",4,"ngIf"],["class","acess_restricted_class bg_border_color",4,"ngIf"],[1,"marginBottom15px","bg_border_color"],[2,"padding-bottom","0"],[1,"d-flex","align-items-center","justify-content-center"],[1,"",3,"click"],[1,"marginBottom15px"],[1,"p-0"],["id","closedsection","type","button",3,"ngClass","class","click",4,"ngFor","ngForOf"],["id","closedsection","type","button",3,"click","ngClass"],["aria-hidden","true",3,"ngClass"],[2,"font-size","medium","font-weight","700","display","flex","justify-content","center","color","#a9a9a9"],["class","pt-3 text-center",4,"ngIf"],[1,"pt-3","text-center"],[1,"bg_color_green"],[1,"font-size16-familyPoppins","text_color_green"],["class","bg_border_color marginBottom15px",4,"ngFor","ngForOf"],[1,"bg_border_color","marginBottom15px"],[1,"font-colorGray","font-weight300","font-size14-familyPoppins"],[1,"font-colorBlack","font-weight500","font-size14-familyPoppins",2,"padding-left","5px"],["class","content_center margin-top-16",3,"click",4,"ngIf"],[1,"bg_color_red"],[1,"font-size16-familyPoppins","text_color_red"],[1,"font-size14-familyPoppins"],["style","background: rgb(232, 232, 232,0.4);height: 50px;",4,"ngFor","ngForOf"],[2,"background","rgb(232, 232, 232,0.4)","height","50px"],["size","6",2,"height","109px"],[1,"images",3,"photoGalleryGroup"],[3,"photoGallery"],[2,"height","100%","width","100%","object-fit","fill",3,"src"],["target","_blank",3,"href"],["src","../../assets/CRMimages/adobe-reader.svg",2,"width","100%","height","80%","object-fit","fill"],[1,"font-size10-familyPoppins","font-colorBlack","font-weight500","uploadedFile"],[1,"content_center","margin-top-16",3,"click"],["size","4",1,"content_center","font-colorWhite","font-size16-familyPoppins",2,"background","#0B7AB2","border-radius","2px"],["src","../../assets/CRMimages/edit-text.svg",2,"width","16px","height","16px"],["class","bg_border_color marginBottom15px",4,"ngIf"],[1,"bg_color_blue"],[1,"font-size16-familyPoppins","font-weight400","text_color_blue"],[1,"padding_bottom_zero","font-size16-familyPoppins"],[1,"requestedData"],["id","unit","name","bhk","toggleIcon","chevron-down","interface","popover","placeholder","Select Units",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["value","1BHK",1,"font-size14-familyPoppins"],["value","2BHK",1,"font-size14-familyPoppins"],["value","3BHK",1,"font-size14-familyPoppins"],["value","4BHK",1,"font-size14-familyPoppins"],["value","5BHK",1,"font-size14-familyPoppins"],["id","unit_number","name","unit_number",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["id","dimension","name","dimension",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["id","rate_per_sqft","name","rate_per_sqft",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["id","rate_per_sqft","name","rate_per_sqft","readonly","",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["size","6","style","height: 109px;width: 146px;",4,"ngFor","ngForOf"],["size","12","style","height: 0;",4,"ngIf"],[1,"content_center",2,"height","100%","border","1px solid #D2D2E4","border-radius","6px","background","#F1F1F8"],["for","file",2,"height","100%","display","flex","align-items","center","justify-content","center"],["src","../../assets/CRMimages/upload-file-icon.svg",2,"height","auto"],["type","file","id","file","name","image","accept","image/gif,image/jpeg,image/jpg,image/png","multiple","","data-original-title","upload photos",2,"display","none",3,"change"],[1,"custom-textArea"],["name","remark","required","",1,"rejectedtextarea",3,"ngModelChange","ngModel"],[1,"ion-text-center","font-size16-familyPoppins",3,"click","ngClass"],[1,"ion-text-center","font-size16-familyPoppins",2,"margin-left","10px",3,"click","ngClass"],["size","6",2,"height","109px","width","146px"],[2,"height","100%","position","relative"],[3,"photoGalleryGroup"],["name","close-outline",1,"close-icon",3,"click"],["src","../../assets/CRMimages/adobe-reader.svg",2,"height","80%","width","100%","object-fit","fill"],[1,"font-size12-familyPoppins","font-colorBlack","font-weight500","uploadedFile"],["size","12",2,"height","0"],[1,"closureDetails"],["src","../../assets/CRMimages/closure-requestSubmit.svg"],[1,"font-size16-familyPoppins","text_color_orange",2,"position","absolute","top","95%"],[1,"font-size12-familyPoppins",2,"position","absolute","top","103%"],[1,"font-size12-familyPoppins",2,"position","absolute","top","110%"],[1,"text_color_blue",3,"click"],["src","../../assets/CRMimages/closure-request-approved.svg"],[1,"font-size16-familyPoppins","text_color_green","ion-text-center","paddingZero"],[1,"font-size10-familyPoppins","ion-text-center","paddingZero"],["class","requestedData",4,"ngIf"],[2,"background","rgb(198, 14, 2,0.19)"],[1,"font-colorGray","font-weight300"],[2,"background","rgb(217, 217, 217,0.4)","height","40px"],[2,"padding-top","0"],["class","font-weight400","style","padding-left: 5px;color: #595959;",4,"ngFor","ngForOf"],["id","unit_number","name","unit_number","no-lines","",2,"padding-left","5px",3,"ngModelChange","ngModel"],["id","dimension","name","dimension","no-lines","",2,"padding-left","5px",3,"ngModelChange","ngModel"],["id","rate_per_sqft","name","rate_per_sqft","no-lines","",2,"padding-left","5px",3,"ngModelChange","ngModel"],["size","9",2,"padding","0"],["fill","clear",1,"activeSaveButton",3,"click"],[1,"font-weight400",2,"padding-left","5px","color","#595959"],[1,"font-size12-familyPoppins","font-colorBlack","font-weight500"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center","gap","1rem"],["fill","clead",1,"font-size14-familyPoppins","revertbutton",3,"click"],[3,"selectedExecId","selectedSuggestedProp",4,"ngIf"],["class","stages",4,"ngIf"],[1,"stages"],[3,"click","ngClass"],[3,"selectedExecId","selectedSuggestedProp"],[1,"acess_restricted_class","bg_border_color"],["src","../../../assets/CRMimages/manage-lead-modal-icon.svg"],[1,"access_restricted_text","pt-2"],[1,"pt-1",2,"font-size","12px","font-weight","300","text-align","center"],[1,"",2,"font-size","12px","font-weight","300"],[1,"mt-3","btn_access",3,"click"],[2,"border","0.6px solid #d7d7d7","border-radius","4px","background","white"],[1,"callLeadHistory"],["size","4",1,"d-flex","align-items-center","justify-content-center","p-1",3,"click","ngClass"],[2,"font-size","12px"],["size","3",1,"d-flex","align-items-center","justify-content-center","p-1",3,"click","ngClass"],["size","5",1,"d-flex","align-items-center","justify-content-center","p-1",3,"click","ngClass"],["style","font-size: 12px;",4,"ngIf"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],["class","date-header w-100",4,"ngIf"],["class","w-100",4,"ngIf"],[1,"date-header","w-100"],[1,"w-100"],["size","1",1,"timeline-left","py-0"],[1,"dot"],["class","line",4,"ngIf"],["size","2.5",1,"time","py-0"],["size","8.5",1,"timeline-right","py-0"],[1,"text"],[1,"remarks"],[1,"line"],[1,"content_center","p-1","font-size12-familyPoppins"],["class","content_center",4,"ngIf"],["class","shadow-sm rounded-2xl m-1","style","width:100%;box-shadow: none;",4,"ngFor","ngForOf"],[1,"font-size12-familyPoppins"],[1,"shadow-sm","rounded-2xl","m-1",2,"width","100%","box-shadow","none"],[1,"backgroundLightColor"],["style"," border-bottom: 0.6px solid #d7d7d7",4,"ngFor","ngForOf"],[2,"border-bottom","0.6px solid #d7d7d7"],["size","2",1,"content_center"],["name","play",1,"play-icon",3,"click"],["size","3",1,"content_center"],[1,"font-size12-familyPoppins","fw-semibold",3,"ngClass"],["class","execName",3,"ngClass",4,"ngFor","ngForOf"],[1,"weekPlan"],[1,"font-size12-familyPoppins","content_center",3,"click","ngClass"],["src","../../../assets/CRMimages/checkin.png","style","padding-left: 2px;",4,"ngIf"],["class","weekend margin-top-16",4,"ngIf"],["style","margin-top:10px",3,"hidden",4,"ngIf"],[1,"execName",3,"ngClass"],["class","d-flex",4,"ngIf"],["src","../../../assets/CRMimages/checkin.png",2,"padding-left","2px"],[1,"weekend","margin-top-16"],[1,"font-size14-familyPoppins","content_center","font-weight400"],[1,"font-size12-familyPoppins","content_center"],[1,"font-size12-familyPoppins","content_center","active_text_borederColor"],[2,"width","70%"],[2,"margin-top","10px",3,"hidden"],[1,"center-content"],["lines","none",1,"input-with-image","date-input"],["readonly","","name","visitPlandate","id","visitPlandate","placeholder","Choose Date","required","",3,"ngModelChange","ngModel"],["trigger","visitPlandate"],[1,"margin-top-16"],["no-lines","",1,"date-input","inputTime-with-image"],[2,"width","100%","height","100%"],["pInputText","","placeholder","Choose Time","id","visitPlantime","aria-label","12hr format","name","visitPlantime","readonly","","required","",2,"width","100%","height","100%",3,"ngModelChange","ngxTimepicker","ngModel"],["style","color: red; font-size: 12px;",4,"ngIf"],[1,"confirmCancel"],["fill","clear",1,"active_text_borederColor"],["fill","clear",1,"active_text_borederColor",3,"click"],["presentation","date","locale","en-US",3,"ionChange","isDateEnabled","min"],[2,"color","red","font-size","12px"],["src","../../assets/CRMimages/infoImage.svg",2,"width","23px","height","38px"],["src","../../assets/CRMimages/ActiveInfoImage.svg",2,"width","23px","height","38px"],["src","../../assets/CRMimages/propertylisticon.png",2,"width","30px","height","30px"],["src","../../assets/CRMimages/activePropertylisticon.png",2,"width","28px","height","30px"],["src","../../assets/CRMimages/statusActivityicon.png",2,"width","25px","height","25px"],["src","../../assets/CRMimages/activeStatusActivityIcon.png",2,"width","25px","height","25px"],["name","add-circle",1,"addleadicon",3,"click"],[1,"addleadicon1",3,"click"],["src","../../assets/CRMimages/assign-icon.svg"],["size","2",1,"content_center",3,"click"],["size","8",1,"ion-text-center"],[2,"color","#004466"],[1,"edit-css",2,"margin","10px","margin-bottom","20%"],[1,"enquiredDetails"],[1,"enqDetailsHeading"],[1,"font-size12-familyPoppins","font-weight400"],[1,"enqDetailsdata"],[1,"text-truncate"],[1,"font-size14-familyPoppins","font-weight400"],[4,"ngIf","ngIfElse"],[1,"lead-details"],["id","customer_name","name","customer_name",1,"inner-content",3,"ngModelChange","ngModel"],["id","enquiry_name","placeholder","Enter Alternate Name","name","enquiry_name",1,"inner-content",3,"ngModelChange","oninput","ngModel"],[1,"d-flex","align-items-center","ps-1"],["class","inner-content","placeholder","Enter Alternate Number","id","enquiry_number","name","enquiry_number",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["class","inner-content","placeholder","Enter Alternate Number","id","enquiry_number","name","enquiry_number",4,"ngIf"],["id","customer_mail","name","customer_mail",1,"inner-content",3,"ngModelChange","placeholder","ngModel"],["id","enquiry_mail","placeholder","Enter Alternative Number","name","enquiry_mail",1,"inner-content",3,"ngModelChange","ngModel"],["id","enquiry_mail","name","customer_name","placeholder","xxxxxxxxxx",1,"inner-content",3,"hidden"],["interface","popover","name","localityid",3,"ngModelChange","ngModel","placeholder"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","name","leadpriority",3,"ngModelChange","ngModel","placeholder"],["value","1"],["value","2"],["value","3"],["value","4"],["interface","popover","name","customer_size",3,"ngModelChange","placeholder","ngModel"],["interface","popover","name","customer_budget",3,"ngModelChange","ngModel","placeholder"],[1,"custom-textArea",2,"height","0"],[1,"paddingZero"],[3,"ngModelChange","ngModel","placeholder"],[1,"footer"],[1,"cancel-btn","ion-text-center",3,"click"],[1,"save-btn","ion-text-center",3,"click"],["id","customer_number","disabled","","name","customer_number",1,"inner-content",3,"ngModelChange","ngModel"],["disabled","","placeholder","xxxxxxxxxx","name","customer_number",1,"inner-content"],["placeholder","Enter Alternate Number","id","enquiry_number","name","enquiry_number",1,"inner-content",3,"ngModelChange","ionInput","ngModel"],["placeholder","Enter Alternate Number","id","enquiry_number","name","enquiry_number",1,"inner-content"],[3,"value"],[1,"wrapper"],[2,"border-bottom","1px solid #dee2e6"],["size","10"],[1,"headSuggProp"],["size","2",1,"ion-text-center",3,"click"],["name","close"],[1,"modal-body"],[1,"font-size12-familyPoppins","font-weight400",2,"padding-left","0","padding-bottom","0"],["id","rm_dropdown","interface","popover","toggleIcon","chevron-down","placeholder","Select the member",1,"assignLeaddselect",3,"ngModelChange","ionChange","multiple","ngModel"],[1,"ion-text-end"],["fill","clear",1,"reassignButton",3,"click"],[1,"selectProperty"],[2,"padding","0 5px"],[2,"padding","0"],["toggleIcon","chevron-down","interface","popover","placeholder","Select Property",1,"assignLeaddselect",3,"ionChange"],["id","teamSelectDropdown",1,"p-0",2,"border","1px solid #d8d8d8","border-radius","4px"],["optionLabel","name","appendTo","body","placeholder","Select a Team","name","selectedExecTeam",1,"teamSelectDropdown",3,"ngModelChange","onChange","ngModel","options"],[1,"bg_color_blue",2,"height","45px"],["size","10",1,"center-vertically"],[1,"text_color_blue",2,"font-family","Poppins","font-size","16px"],["name","close",3,"click"],[1,"ion-padding"],["class","requestedData","style","border: none;",4,"ngFor","ngForOf"],[1,"requestedData",2,"border","none"],[1,"font-colorGray","font-weight300","font-size16-familyPoppins"],[1,"font-size16-familyPoppins","font-colorBlack","font-weight500",2,"padding-left","5px"],[1,"font-colorBlack","font-weight500","font-size16-familyPoppins",2,"padding-left","5px"],[1,"font-size10-familyPoppins","font-colorBlack","font-weight500"],["size","9","class","content_center",4,"ngFor","ngForOf"],["size","1"],[2,"--background","#F5F7F9"],["name","circular",2,"color","white"],["size","9",1,"content_center"],["style","font-size:17px",4,"ngIf"],[2,"font-size","17px"],["class","bg_color_red",4,"ngIf"],["name","bhk","id","unit","toggleIcon","chevron-down","interface","popover","placeholder","Select Units",1,"font-size16-familyPoppins",3,"ngModelChange","ngModel"],["fill","clear",2,"width","100%","text-transform","none",3,"click","disabled","ngClass"],["name","remark","required","",1,"rejectedtextarea",3,"ngModelChange","input","ngModel"],[1,"mergerModal_heading"],["name","close",2,"font-size","25px"],["style","margin: 10px;","class","mergedLeadsInfo",4,"ngFor","ngForOf"],[1,"mergedLeadsInfo",2,"margin","10px"],[1,"mergedLeadsInfo-heading"],["size","7"],[1,"mergedLeadsInfo-value"],["size","5"],[1,""],["placeholder","Search by name or contact number",3,"ngModelChange","ionInput","ngModel"],[1,"font-size10-familyPoppins"],[2,"color","#7E7E7E"],["style","height:45vh",4,"ngIf"],["class","lead-info",4,"ngFor","ngForOf"],["class","textStyle ion-justify-content-center ion-align-items-center",4,"ngIf"],[1,"merge-footer"],[1,"ion-text-center",3,"ngClass"],["fill","clear",3,"click","disabled"],[2,"height","45vh"],["class","lead-info",3,"click",4,"ngFor","ngForOf"],[1,"lead-info",3,"click"],[1,"info-row-heading"],[1,"info-row-value"],[1,"lead-info"],[1,"relationshipDropdown"],["optionLabel","name","placeholder","Select a Team","name","teamSelect",3,"onChange","ngModelChange","options","ngModel"],[1,"textStyle","ion-justify-content-center","ion-align-items-center"],[1,"visitAssignHeaderModal"],["size","1",1,"content_center",3,"click"],["name","close",2,"font-size","20px"],[2,"margin","5px"],["id","propertyDropdown"],["optionLabel","property_info_name","placeholder","Select Property","appendTo","body",1,"propDropdown",3,"ngModelChange","options","ngModel"],[1,"d-flex","ion-justify-content-end"],["fill","clear",1,"bg_textColor",3,"click"],[1,"activeSaveButton"],["size","9",1,"ion-text-center","d-flex","ion-justify-content-center"],["size","2",1,"ion-text-center","d-flex","ion-justify-content-center","paddingZero",3,"click"],[2,"font-size","20px","color","rgba(65, 65, 65, 1)"],[1,"ion-text-center",3,"click"],["fill","clear",1,"activeSaveButton"],[1,"textBgColor",2,"height","42px"],[2,"height","100%"],["name","close",2,"font-size","22px"],["class","shadow-sm rounded-2xl",4,"ngFor","ngForOf"],[1,"shadow-sm","rounded-2xl"],["size","6",1,"p-0"],[1,"mb-0","font-size12-familyPoppins",2,"color","rgba(47, 47, 47, 1)","font-weight","400"],[1,"small","font-size12-familyPoppins"],[1,"mt-2","mb-0","font-size12-familyPoppins"],[1,"small","font-size12-familyPoppins",2,"color","rgba(47, 47, 47, 1)","font-weight","400"],["size","6",1,"text-end","p-0"],[1,"bg-light","p-2","d-flex","align-items-center","rounded-bottom",2,"background","rgb(183 216 233) !important"],["controls","",2,"width","100% !important","height","32px !important"],["type","audio/wav",3,"src"],[2,"font-family","'Poppins'"],[2,"padding","10px"],["id","mailtoselect","interface","popover","placeholder","To:",1,"form-control","sendto","ui","selection","fluid","dropdown","normalmail","bg_border_color",2,"padding","0"],["id","ccselect","interface","popover","placeholder","Cc:",1,"form-control","sendcc","ui","label","selection","fluid","dropdown","normalmail","bg_border_color",2,"padding","0"],["id","regremarks","placeholder","Compose email",1,"form-control","composeMail",2,"height","100vh"],[1,"bg_textColor","content_center",2,"padding","5px","width","100%","border-radius","4px"],[2,"padding","8px"],[1,"bg_border_color",2,"padding","0"],["src","../../../assets/CRMimages/printer-icon.svg",2,"width","15px","position","absolute","right","15px","top","15px"],["size","3",1,"font-size14-familyPoppins"],["size","9",1,"font-size12-familyPoppins"],["size","9",1,"font-size12-familyPoppins",2,"padding-bottom","0"],[1,"ion-text-right",2,"padding-top","0"],[1,"email-body","bg_border_color","margin-top-16"],[1,"font-size12-familyPoppins",3,"innerHTML"],["size","2",1,"ion-text-end",3,"click"],[3,"onSelect","onDeSelect","placeholder","settings","data"],[1,"ion-text-right",3,"click"],["fill","clear",1,"bg_textColor"],["slot","end",3,"click"],["ngNativeValidate","",3,"ngSubmit"],[1,"paddingBottomLeft"],["name","selectedProperty","optionLabel","property_info_name","placeholder","Select Property","appendTo","body","required","",1,"execDropdown",3,"ngModelChange","onChange","options","ngModel"],["id","execDropdown"],["optionLabel","name","name","selectedExec","placeholder","Select a Executive","appendTo","body","required","",1,"execDropdown",3,"ngModelChange","options","ngModel"],["type","submit","fill","clear",1,"bg_textColor",3,"disabled"],[1,"assignTaskHeading1"],["size","2",1,"content_center",2,"align-items","end","flex-direction","column-reverse",3,"click"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"header"],[1,"name"],[1,"m-0",2,"border","1px solid #EEEEEE !important"],["size","4",1,"p-0"],[1,"assigned-title"],[1,"not-assigned-title"],["size","4",1,"assigned-col","p-0"],[1,"not-assigned-col","p-0","d-flex"],[1,"not-assigned-left-div","w-100"],[1,"not-assigned-right-div","w-100"],[1,"w-100","h-100","d-flex","flex-column","align-items-start","justify-content-center"],[1,"untouched-title"],[1,"d-flex","align-item-center","justify-content-center"],[1,"unto-item"],[1,"untouched-row"],["size","6"],[1,"untouched-div"]],template:function(n,s){if(1&n){const o=e.RV6();e.DNE(0,pe,9,4,"ion-row",21),e.nrm(1,"input",22),e.DNE(2,me,8,2,"ion-row",23)(3,Bi,27,13,"ion-content",24)(4,Vi,1,0,"ion-icon",25)(5,Yi,2,0,"div",26),e.j41(6,"ion-modal",27,0),e.DNE(8,Qi,219,38,"ng-template"),e.k0s(),e.j41(9,"ion-modal",28,1),e.DNE(11,is,20,4,"ng-template"),e.k0s(),e.j41(12,"ion-modal",29,2),e.DNE(14,cs,8,1,"ng-template"),e.k0s(),e.j41(15,"ion-modal",null,3),e.DNE(17,Is,10,3,"ng-template"),e.k0s(),e.j41(18,"ion-modal",30,4),e.DNE(20,Es,8,1,"ng-template"),e.k0s(),e.j41(21,"ion-modal",31,5),e.DNE(23,Ns,24,7,"ng-template"),e.k0s(),e.j41(24,"ion-modal",32,6),e.DNE(26,As,20,2,"ng-template"),e.k0s(),e.j41(27,"ion-modal",33,7),e.DNE(29,Ys,25,3,"ng-template"),e.k0s(),e.DNE(30,Xs,1,0,"app-on-call-lead-update",34),e.j41(31,"ion-modal",35,8),e.DNE(33,Us,12,3,"ng-template"),e.k0s(),e.j41(34,"ion-modal",null,9),e.DNE(36,Ws,30,3,"ng-template"),e.k0s(),e.j41(37,"ion-modal",null,10),e.DNE(39,Zs,31,7,"ng-template"),e.k0s(),e.j41(40,"ion-modal",36,11),e.DNE(42,Qs,15,3,"ng-template"),e.k0s(),e.j41(43,"ion-modal",37,12),e.DNE(45,eo,26,5,"ng-template"),e.k0s(),e.j41(46,"ion-modal",38,13),e.bIt("willDismiss",function(r){return e.eBV(o),e.Njj(s.onWillDismiss(r))}),e.DNE(48,no,8,1,"ng-template"),e.k0s()}2&n&&(e.Y8G("ngIf",("Call Connected"==s.callStatus||"Answered by customer"==s.callStatus||"Call Disconnected"==s.callStatus||"Answered"==s.callStatus||"BUSY"==s.callStatus||"Executive Busy"==s.callStatus||"CONNECTING"==s.callStatus||"Answered by agent"==s.callStatus)&&!s.isOnCallDetailsPage),e.R7$(2),e.Y8G("ngIf","Call Disconnected"!=s.callStatus&&"Call Connected"!=s.callStatus&&"BUSY"!=s.callStatus&&"Executive Busy"!=s.callStatus&&"CONNECTING"!=s.callStatus&&"Answered"!=s.callStatus&&"Answered by customer"!=s.callStatus&&"Answered by agent"!=s.callStatus&&!s.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",!s.isOnCallDetailsPage),e.R7$(),e.Y8G("ngIf",s.isProperty&&(1==s.roleid||2==s.roleid||s.selectedExecId==s.userid&&1!=s.roleid&&2!=s.roleid)&&s.activestagestatus&&"Junk"!=(null==s.activestagestatus||null==s.activestagestatus[0]?null:s.activestagestatus[0].stage)&&"1"==s.localStorage.getItem("prop_suggestion")),e.R7$(),e.Y8G("ngIf",s.isAdmin&&s.isProfile),e.R7$(4),e.Y8G("backdropDismiss",!1),e.R7$(3),e.Y8G("enterAnimation",s.enterAnimation)("leaveAnimation",s.leaveAnimation),e.R7$(12),e.Y8G("backdropDismiss",!1),e.R7$(6),e.Y8G("ngIf",s.isOnCallDetailsPage),e.R7$(13),e.Y8G("backdropDismiss",!1),e.R7$(3),e.Y8G("backdropDismiss",!1))},dependencies:[F.YU,F.Sq,F.bT,C.Jm,C.QW,C.b_,C.I9,C.hU,C.W9,C.A9,C.M0,C.lO,C.eU,C.iq,C.KW,C.$w,C.To,C.Ki,C.ln,C.S1,C.Nm,C.Ip,C.w2,C.nc,C.BC,C.ai,C.Sb,C.CF,C.Je,C.Gw,w.me,w.BC,w.cb,w.YS,w.vS,w.cV,X.b,q.ms,R.zk,R.v2,I.yY,I.fk,Z.k,N.c,O.o,B.B,V.C,A.T,Y.Y,F.vh],styles:['.page-background[_ngcontent-%COMP%]::part(scroll){background-color:#f5f7f9}.custom-footer[_ngcontent-%COMP%]{border-top-left-radius:12px;border-top-right-radius:12px;box-shadow:0 -8px 10px #0003}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0}.heading[_ngcontent-%COMP%]{border-bottom:.7px solid rgba(32,34,36,.7);padding:5px}.editProfile[_ngcontent-%COMP%]{padding:2px;border-radius:50px;border:1px solid #a8b6cd;color:#5b6a83;width:16px}.leadName[_ngcontent-%COMP%]{color:#046;font-size:20px;font-family:Poppins;font-weight:500;word-wrap:break-word;text-transform:capitalize}.suggestProp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#0b7ab2;padding:5px;color:#fff}.source[_ngcontent-%COMP%]{color:#004568}ion-modal#suggested-modal[_ngcontent-%COMP%]{padding:10px;--height: auto;--border-radius: 4px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#suggested-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.noPropSugg[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Poppins;font-size:12px}  ng-multiselect-dropdown .multiselect-dropdown .dropdown-list{position:relative;padding:0;margin:0}.headSuggProp[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins;font-weight:400}.headingdesign[_ngcontent-%COMP%]   .heads[_ngcontent-%COMP%]{font-weight:700;letter-spacing:0;line-height:1.5em;padding-bottom:15px;position:relative;color:#979393}.headingdesign[_ngcontent-%COMP%]   .heads[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:2px;height:1px;width:95%;max-width:255px;background-color:#979393}.headingdesign[_ngcontent-%COMP%]   .heads[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;height:5px;width:55px;background-color:#979393}.form-group.row[_ngcontent-%COMP%]{margin-bottom:0;padding:12px 0}.form-group.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{white-space:nowrap}.select2-container--bootstrap-5[_ngcontent-%COMP%]   .select2-selection[_ngcontent-%COMP%]{height:calc(2.25rem + 2px)}.hed[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins;font-weight:400;color:#3faaff;height:25px}.hed[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0}.data[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins;font-weight:500;color:#000c;border-bottom:1px solid #d9d9d9}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0}.priority-img[_ngcontent-%COMP%]{padding-left:2px;width:16px}.priority-div[_ngcontent-%COMP%]{display:flex;font-size:12px;align-items:center;justify-content:center;border-radius:50px}.activeHot[_ngcontent-%COMP%]{border:.8px solid #f2591f!important;color:#f2591f!important;background:#ffece4;height:23px;margin-top:9px;padding:0 10px}.activeWarm[_ngcontent-%COMP%]{border:.8px solid #f2841f!important;color:#f2841f;background:#ffeedf;width:75px;position:relative;top:10px;height:20px}.activeCold[_ngcontent-%COMP%]{border:.8px solid #17c7ff!important;color:#17c7ff;background:#e8f9ff;width:75px;position:relative;top:10px;height:20px}.cancel-btn[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid #2196f3;color:#2196f3;font-family:Poppins;font-size:18px;width:100%;border-radius:50px;padding:5px}.save-btn[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid #2196f3;color:#fff;font-family:Poppins;font-size:18px;width:100%;border-radius:50px;background:#2196f3;padding:5px}.enquiredDetails[_ngcontent-%COMP%]{background:#0b7ab233;border-radius:7px;padding:0 10px}.enqDetailsHeading[_ngcontent-%COMP%]{height:22px}.enqDetailsHeading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0;color:#686868}.enqDetailsdata[_ngcontent-%COMP%]{height:22px}.enqDetailsdata[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0;color:#000}.lead-details[_ngcontent-%COMP%]{margin-top:10px}.lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:first-child{font-size:16px;font-family:Poppins;font-weight:400px;color:#0009}.lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:first-child   ion-col[_ngcontent-%COMP%]{padding-bottom:0}.lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:nth-child(2){border:1px solid #bebfc8;background:#e2f2ff;border-radius:4px}.lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:nth-child(2)   ion-input[_ngcontent-%COMP%], .lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:nth-child(2)   ion-select[_ngcontent-%COMP%]{font-size:16px!important;color:#000c}.lead-details[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]:nth-child(2)   ion-col[_ngcontent-%COMP%]{padding:0;height:36px}.custom-textArea[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{height:80px;border-radius:4px;border:1px solid #bebfc8}ion-input[_ngcontent-%COMP%]{min-height:36px!important;background:#fff!important}ion-select[_ngcontent-%COMP%]::part(icon){position:absolute!important;right:10px!important}ion-select[_ngcontent-%COMP%]{min-height:36px;border:1px solid rgba(149,157,165,.2);font-family:Poppins;background:#fff!important;border-radius:4px}ion-select[_ngcontent-%COMP%]::part(container){font-family:Poppins;font-size:14px;padding-left:5px}.composeMail[_ngcontent-%COMP%]{font-family:Poppins;font-size:14px;padding-left:5px}  .multiselect-dropdown .dropdown-btn .selected-item-container .selected-item{display:inline-block;white-space:nowrap;width:auto;max-width:100%!important;margin-top:2px;font-size:12px}  .dropdown-list li{padding:5px;cursor:pointer;text-align:left;font-size:12px;font-family:Poppins}.updateVisit[_ngcontent-%COMP%]{background:#5cb7f6}.updateVisit[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px;font-weight:400;font-family:Poppins;color:#fff}.dateName[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px;font-weight:500;font-family:Poppins;color:#000;padding-top:0}.walkinAccom[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:10px;font-weight:400;font-family:Poppins;color:#5c5c5c;padding-bottom:0}.regSuggState[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child{font-size:11px;color:#006c00;font-weight:500;font-family:Poppins}.regSuggState[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2){font-size:12px;font-weight:400;color:#494949;font-family:Poppins}.nameStatus[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child{font-size:18px;font-family:Poppins;font-weight:500}.nameStatus[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2){font-size:12px;font-weight:500;background:#fff;padding:2px;border-radius:0 0 0 4px}.suggprop-div[_ngcontent-%COMP%]{margin:10px;border-radius:5px;border:2px solid #ffffff}.execName[_ngcontent-%COMP%], .stages[_ngcontent-%COMP%]{margin:5px 5px 5px 0;display:flex;align-items:center;justify-content:center;border-radius:35px;height:30px}.execName[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .stages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 8px;font-size:12px;font-family:Poppins;font-weight:400}.execName[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:2px}.execName[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:6px 5px 5px 0}.execName[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:20px;padding:4px 10px;margin-right:6px;white-space:nowrap;width:auto}.stages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:.8px solid #d9d9d9;border-radius:2px;margin-right:5px}ion-modal#reassignModal[_ngcontent-%COMP%]{padding:10px;--height: auto;--border-radius: 4px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#reassignModal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.assignLeaddselect[_ngcontent-%COMP%]{border:1px solid #d8d8d8;font-size:10px;font-weight:400;min-height:28px;font-family:Poppins}  .selectProperty p-dropdown .p-inputwrapper .p-dropdown-label,   .selectProperty .p-inputwrapper div chevrondownicon,   .selectTeam p-dropdown .p-inputwrapper .p-dropdown-label,   .selectTeam .p-inputwrapper div chevrondownicon{font-family:Poppins;font-size:12px;padding:5px}  .selectProperty p-dropdown .p-inputwrapper p-overlay p-dropdownitem li,   .selectTeam p-dropdown .p-inputwrapper p-overlay p-dropdownitem li{padding:5px;font-size:12px}  .selectProperty p-dropdown .p-inputwrapper,   .selectTeam p-dropdown .p-inputwrapper{width:100%;border:1px solid #d8d8d8;font-size:14px;border-radius:2px}.reassignButton[_ngcontent-%COMP%]{color:#fff;background-color:#0b7ab2!important;border-color:#0b7ab2!important;text-transform:none;font-family:Poppins;border-radius:4px}.activestatusCss[_ngcontent-%COMP%]{border-radius:30px;border:1px solid #bebebe}.activestatusCss[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins}.revertbutton[_ngcontent-%COMP%]{text-transform:none;font-family:Poppins;--background: #0b7ab2;color:#fff}.rightBorder[_ngcontent-%COMP%]{border-right:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.leftBorder[_ngcontent-%COMP%]{border-left:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.loader[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100%;width:100%;z-index:999;background:#ffffffc9;background-position:center center;background-repeat:no-repeat}.bg_border_color[_ngcontent-%COMP%]{border:1px solid rgba(149,157,165,.2);background:#fff;border-radius:4px;padding:5px}.history-tl-container[_ngcontent-%COMP%]   ul.tl[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:auto;min-height:50px;border-left:1px dashed #86d6ff;padding:0 0 20px 16px;position:relative;color:#000;font-size:14px;font-family:Poppins;font-weight:400;word-wrap:break-word}.history-tl-container[_ngcontent-%COMP%]   ul.tl[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-left:0}.history-tl-container[_ngcontent-%COMP%]   ul.tl[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{position:absolute;left:-10px;content:" ";border:8px solid rgba(255,255,255,.74);border-radius:500%;background:#258cc7;height:20px;width:20px;transition:all .5s ease-in-out}.history-tl-container[_ngcontent-%COMP%]   ul.tl[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:before{border-color:#258cc7;transition:all 1s ease-in-out}.callLeadHistory[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{background:#f0f0f0}.dealClosedStyle[_ngcontent-%COMP%]{color:#004f00;border:1px solid #004f00!important}.requestedData[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins;font-weight:400;position:relative;border:1px solid rgba(149,157,165,.2);margin-bottom:10px}.requestedData[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{padding-left:5px!important}.close-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:20px;color:#0b7ab2;cursor:pointer;background-color:#fff}.approve-btn[_ngcontent-%COMP%]{background:#29a71a;border-radius:3px;color:#fff;text-transform:none}.reject-btn[_ngcontent-%COMP%]{background:#727272;border-radius:3px;color:#fff;text-transform:none}.closureDetails[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;margin-bottom:100px}#dealClosed[_ngcontent-%COMP%]{padding:10px;--height: 75%;--border-radius: 4px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.actionbtnss[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:gray;border:2px solid lightgrey;font-size:12px;font-family:Poppins}.actionss[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins;border:1px solid #0b7ab2;background-color:#0b7ab240;color:#0b7ab2;font-weight:700}.commonbtnss[_ngcontent-%COMP%]{margin:4px 5px 4px 0;padding:2px 6px}.selectMarks[_ngcontent-%COMP%]{color:#0b7ab2!important}.iconmarks[_ngcontent-%COMP%]{color:#e2e2e2}.bg-color1[_ngcontent-%COMP%]{background-color:#fff4e2}.bg-color2[_ngcontent-%COMP%]{background-color:#b6ebb0}.bg-color3[_ngcontent-%COMP%]{background-color:#f79494}.custom-textArea[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{height:80px;border-radius:4px;border:.75px #ececec solid}  .custom-textArea .native-wrapper{padding:8px}.positionabsolute[_ngcontent-%COMP%]{position:absolute;bottom:0}.uploadedFile[_ngcontent-%COMP%]{white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis}.weekPlan[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:3px;border-radius:3px}.weekPlan[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:1px}.text_borederColor[_ngcontent-%COMP%]{border:1px solid #a5a5a5}.weekend[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background:#0b7ab21f;padding:12px}.weekend[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){margin:10px}.weekend[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]{border-radius:3px;padding:2px}.confirmCancel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 10px;border-radius:4px}.confirmCancel[_ngcontent-%COMP%]{margin-top:10px}.mergedleads[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#0b7ab2;padding:5px;color:#fff;border-radius:15px}.mergedleads[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:15px;padding-left:10px}ion-modal.viewMergedLedasModal[_ngcontent-%COMP%]{padding:10px;--height: 70%;--border-radius: 4px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal.viewMergedLedasModal-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.mergedLeadsInfo[_ngcontent-%COMP%]{background:#f4f4f4}.mergedLeadsInfo-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:12px;color:#004568}.mergedLeadsInfo-heading[_ngcontent-%COMP%]{font-family:Poppins;color:#4c4c4c;font-weight:500;font-size:14px;line-height:16px}.merge_button[_ngcontent-%COMP%]{float:right;border-radius:25px;padding:0 10px;font-size:14px;border:1px solid #0b7ab2!important;color:#0b7ab2!important;background-color:#0b7ab245;display:flex;align-items:center}.merge_button[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{padding-left:5px}.mergeModal[_ngcontent-%COMP%]{--height: 90%;padding:10px}.mergerModal_heading[_ngcontent-%COMP%]{color:#0b7ab2!important;background-color:#0b7ab245}.lead-info[_ngcontent-%COMP%]{padding:10px;border-radius:4px;margin:10px;background-color:#f0f9ff}info-row-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:12px;color:#0009}.info-row-heading[_ngcontent-%COMP%]{font-family:Poppins;color:#000c;font-weight:500;font-size:14px;background-color:#f0f9ff;line-height:16px}  p-dropdown .p-inputwrapper span{padding:10px;font-size:12px;font-family:Poppins}  .relationshipDropdown p-dropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px}  .relationshipDropdown p-dropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  .relationshipDropdown p-dropdown .p-inputwrapper{width:100%!important}  .p-element .p-dropdown-item{padding:5px!important;font-size:12px}.relationshipDropdown[_ngcontent-%COMP%]{border:1px solid #d8d8d8;border-radius:2px;padding:0}.merge-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}.merge-footer[_ngcontent-%COMP%]{box-shadow:none}.merge-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;text-transform:none;font-family:Poppins;font-size:22px;color:#fff}.merge-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{margin:0 10px 10px;background-color:silver;border-radius:3px}.retailMandate[_ngcontent-%COMP%]{border:1px solid #0b7ab2;border-radius:25px;color:#0b7ab2;width:100%}.activeHtype[_ngcontent-%COMP%]{border:1px solid white;border-radius:25px;background:#0b7ab2;color:#fff}ion-modal.unlockleadtomandate[_ngcontent-%COMP%]{--height: auto;--border-radius: 5px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);padding:20px}ion-modal.unlockleadtomandate[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db}ion-modal.unlockleadtomandate[_ngcontent-%COMP%]   .unlockleadtomandateHeaderModal[_ngcontent-%COMP%]{background:#0b7ab2;color:#fff;padding:5px}#propertyDropdown[_ngcontent-%COMP%], #execDropdown[_ngcontent-%COMP%]{border:1px solid #d8d8d8;border-radius:4px;padding:0}  p-dropdown.propDropdown .p-inputwrapper{width:100%!important}  p-dropdown .p-inputwrapper span{padding:5px;font-size:12px;font-family:Poppins}  p-dropdown.propDropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-dropdown.execDropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-dropdown.execDropdown .p-inputwrapper{width:100%!important}  p-dropdown.execDropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px}  p-dropdown.propDropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px}.callDisconnectedBg_color[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f68e8e -66.17%,#b40101)}#propDropdown[_ngcontent-%COMP%]{border:1px solid #d8d8d8;border-radius:4px;padding:0}.pointer-event-none[_ngcontent-%COMP%]{pointer-events:none}.opacity4[_ngcontent-%COMP%]{opacity:.4}.blurText[_ngcontent-%COMP%]{-webkit-filter:blur(1px)}.mergeModal[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--box-shadow: 39px !important;border:1px solid #909090;border-radius:6px}.call_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;font-family:Poppins}ion-modal.onCallModal[_ngcontent-%COMP%]{--height: 50%;--border-radius: 16px;padding:10px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal.onCallModal[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db;opacity:1}ion-modal.onCallModal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #f6f6f6;--color: white;height:30vh}ion-modal.callConfirmationModal[_ngcontent-%COMP%]{padding:10px;--height: 40%;--border-radius: 5px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{font-family:Poppins;box-shadow:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:4px}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff!important}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.callConfirmationModal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;border-radius:4px;font-family:Poppins;font-size:18px;text-transform:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{box-shadow:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background:#b7d8e9}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#727272}ion-modal.callRecordingsModal[_ngcontent-%COMP%]{--height: 90%;padding:10px;--border-radius: 4px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal.callRecordingsModal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: rgb(14 116 144);--color: white}ion-modal.callRecordingsModal[_ngcontent-%COMP%]::part(backdrop){background:#353537!important;opacity:.9!important}div.bg_textColor[_ngcontent-%COMP%], div.text_borderColor[_ngcontent-%COMP%]{padding:6px;box-shadow:0 8px 24px #959da533!important}ion-card[_ngcontent-%COMP%]{box-shadow:0 8px 24px #959da533!important;border-radius:4px!important;border:1px solid #efefef}.addleadicon[_ngcontent-%COMP%]{font-size:45px;color:#2196f3;font-size:40px;position:absolute;right:15px;bottom:57px;background-color:#fff;border-radius:35px}.addleadicon1[_ngcontent-%COMP%]{font-size:45px;color:#fff;font-size:25px;position:fixed;right:8px;bottom:66px;background-color:#2196f3;border-radius:35px;padding:7px;--ionicon-stroke-width: 60px}.visitassign_icon[_ngcontent-%COMP%]{font-size:45px;color:#fff;width:54px;position:fixed;right:8px;bottom:66px;border-radius:35px;padding:7px;--ionicon-stroke-width: 60px}ion-modal.visitAssign[_ngcontent-%COMP%]{--height: auto;--border-radius: 5px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);padding:20px}ion-modal.visitAssign[_ngcontent-%COMP%]::part(backdrop){background:#080808;opacity:.8!important}ion-modal.visitAssign[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #0b7ab2;--color: white}.visitAssign[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px}.visitAssign[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;width:100%;text-transform:none;border-radius:3px}.visitAssign[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.visitAssign[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height: 44px}  p-dropdown .p-element.p-icon-wrapper{width:18px}  p-dropdown .p-inputwrapper span{padding:5px;font-size:14px;font-family:Poppins}  p-dropdown.teamSelectDropdown .p-inputwrapper{width:100%!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px}p-dropdown[_ngcontent-%COMP%]{border:1px solid #d8d8d8}.blurred[_ngcontent-%COMP%]{filter:blur(1px);opacity:.4;pointer-events:none}.play-icon[_ngcontent-%COMP%]{background:#0b7ab23d;border-radius:50px;font-size:17px;cursor:pointer;color:#0074ae;padding:.4rem}.backgroundLightColor[_ngcontent-%COMP%]{background-color:#84c5e575!important;color:#0b7ab2!important}ion-modal#viewAssignLeadDetail[_ngcontent-%COMP%]{padding:10px;--max-height: 75vh;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}.assignTaskHeading1[_ngcontent-%COMP%]{height:42px;align-items:center;font-size:16px;font-family:Poppins;font-weight:500px;color:#0b7ab2}.table-cell[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #4398c3;border-right:1px solid #4398c3;text-align:center;font-size:12px;font-family:Poppins}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#f1f1f1;color:#4398c3;border-top:1px solid #4398c3;border-left:1px solid #4398c3;font-size:12px;font-family:Poppins}.callRingingBg_color[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fec855 -75.85%,#da8600);color:#fff}.timeline-item[_ngcontent-%COMP%]{display:flex;position:relative}.date-header[_ngcontent-%COMP%]{background:#dff0ff;color:#1c6ea4;text-align:center;font-size:4vw;font-weight:500;margin:12px 0}.timeline-left[_ngcontent-%COMP%]{width:30px;display:flex;flex-direction:column;align-items:center}.dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#666;border-radius:50%}.line[_ngcontent-%COMP%]{flex:1;width:1px;background:#ddd}.time[_ngcontent-%COMP%]{font-size:3.4vw;color:#555;margin-bottom:4px}.timeline-right[_ngcontent-%COMP%]{flex:1}.remarks[_ngcontent-%COMP%]{font-size:3vw;color:#888;padding-bottom:10px}.text[_ngcontent-%COMP%]{font-size:4vw;color:#222}.text_visiblity[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;width:100%;justify-content:center;color:#000;text-align:center;z-index:9;font-weight:500;font-size:.8rem;background:#fff;color:#ca1f1f;line-height:1.2}.acess_restricted_class[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.access_restricted_text[_ngcontent-%COMP%]{color:#ca1f1f;font-weight:500;font-size:20px}.btn_access[_ngcontent-%COMP%]{background:linear-gradient(180deg,#559d00,#0c6d00);color:#fff;font-size:16px;font-weight:400;padding-inline:50px;padding-block:8px;border-radius:4px;cursor:pointer}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;font-size:.8rem}.assignies-row[_ngcontent-%COMP%]{background:#3498db}.assignies-row[_ngcontent-%COMP%]   .assignies-col[_ngcontent-%COMP%]{background:#006ab1;color:#fff;border-radius:4px;line-height:1.3;display:flex;flex-direction:column;padding:2px 6px}.assignies-row[_ngcontent-%COMP%]   .assignies-col[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.assignies-row[_ngcontent-%COMP%]   .assignies-col[_ngcontent-%COMP%]   .assign-date[_ngcontent-%COMP%]{font-size:.58rem;font-weight:300}.name[_ngcontent-%COMP%]{font-size:.8rem}.assigned-title[_ngcontent-%COMP%]{background:#558fa8;font-family:Poppins;font-weight:400;font-size:.8rem;color:#fff;padding:4px}.not-assigned-title[_ngcontent-%COMP%]{background:#ffd7c7;color:#9d2728;font-family:Poppins;font-weight:400;font-size:.8rem;letter-spacing:0%;padding:4px}.assigned-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:.6px solid #8dcbe6;background:#fbfdff;padding-left:4px}.assigned-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#005579}.assigned-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#00293b}.assigned-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .not-assigned-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .untouched-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:.66rem}.assigned-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .not-assigned-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .untouched-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500;font-style:Medium;font-size:.8rem}.not-assigned-col[_ngcontent-%COMP%]   .not-assigned-right-div[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:flex-start;justify-content:center}.not-assigned-col[_ngcontent-%COMP%]   .not-assigned-right-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:1px solid #ffd8c9;background:#fff8f6;padding-left:2px}.not-assigned-col[_ngcontent-%COMP%]   .not-assigned-left-div[_ngcontent-%COMP%]{border-left:1px solid #ffd8c9;border-right:1px solid #ffd8c9}.not-assigned-col[_ngcontent-%COMP%]   .not-assigned-left-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:1px solid #ffd8c9;background:#fff8f6;padding-left:4px}.not-assigned-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9d2728}.not-assigned-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#620001}.untouched-title[_ngcontent-%COMP%]{background:#fff1c8;color:#624a00;font-size:.68rem}.unto-item[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-style:Regular;font-size:.68rem}.untouched-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.untouched-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .untouched-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#503c00}.untouched-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border-right:1px solid #fff1c8}.accessRestricted[_ngcontent-%COMP%]{border:1px solid #940000;background:#ffe3e3;color:#940000}']}),a})();var so=v(8876),oo=v(2267),ao=v(2001),lo=v(4127);let ro=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({providers:[ao.WM],imports:[F.MD,D.iI.forChild([{path:"",component:io}]),C.bv,w.X1,w.YN,so.Lk,X.O,q.kr,oo.nf,R.c9,I.DE,lo.G]}),a})()}}]);