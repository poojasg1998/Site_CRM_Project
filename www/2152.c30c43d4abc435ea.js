"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2152],{2152:(N,f,i)=>{i.d(f,{l:()=>X});var e=i(4438),_=i(3477),c=i(177),m=i(9451),s=i(5933),g=i(2921);function h(t,r){1&t&&(e.j41(0,"ion-col",10),e.nrm(1,"ion-img",11),e.k0s())}function y(t,r){if(1&t){const a=e.RV6();e.j41(0,"ion-col",12),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onBackButton())}),e.nrm(1,"ion-icon",13),e.k0s()}}function k(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Call Dashboard "),e.k0s())}function v(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," All Call "),e.k0s())}function b(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Whatsapp Visits "),e.k0s())}function C(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Scheduled Activities "),e.k0s())}function I(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Today Followups "),e.k0s())}function j(t,r){if(1&t&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ","1"==a.roleid||"1"==a.roleType?"All Leads":"My Lead"," ")}}function P(t,r){if(1&t&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ","1"==a.roleid||"1"==a.roleType?"All Visits":"My Visits"," ")}}function x(t,r){if(1&t&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ","1"==a.roleid||"1"==a.roleType?"All Overdues":"My Overdues"," ")}}function D(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Week Plans "),e.k0s())}function F(t,r){if(1&t&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ","1"==a.roleid||"1"==a.roleType?"All Activities":"My Activities"," ")}}function R(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Inactive and Junk "),e.k0s())}function E(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Feedback calls "),e.k0s())}function T(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Visit Updates "),e.k0s())}function S(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Add Property "),e.k0s())}function M(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Hourly Reports "),e.k0s())}function U(t,r){if(1&t&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ","1"!=a.roleid||a.execName?"1"==a.roleid&&a.execName?a.execName+" Logs":"My Attendance":"Executives Attendance"," ")}}function O(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Overdues Dashboard "),e.k0s())}function H(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Switch Account "),e.k0s())}function G(t,r){1&t&&(e.j41(0,"span",15),e.EFF(1," Today's Activity Dashboard "),e.k0s())}function w(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Dashboard "),e.k0s())}function $(t,r){1&t&&(e.j41(0,"span",14),e.EFF(1," Source Dashboard "),e.k0s())}function Y(t,r){if(1&t){const a=e.RV6();e.j41(0,"ion-row",16)(1,"ion-col",17)(2,"div",18)(3,"p",19),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onJunkStatus("junkleads"))}),e.EFF(4," Junk Leads "),e.k0s(),e.j41(5,"p",19),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onJunkStatus("junkvisits"))}),e.EFF(6," Junk Visits "),e.k0s()()()()}if(2&t){const a=e.XpG();e.R7$(3),e.Y8G("ngClass","junkleads"===a.junkStatus?"rightBorder":""),e.R7$(2),e.Y8G("ngClass","junkvisits"===a.junkStatus?"leftBorder":"")}}function A(t,r){1&t&&e.nrm(0,"ion-icon",24)}function B(t,r){1&t&&e.nrm(0,"ion-icon",25)}function z(t,r){if(1&t){const a=e.RV6();e.j41(0,"ion-icon",26),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.logOut())}),e.k0s()}}function V(t,r){if(1&t){const a=e.RV6();e.j41(0,"ion-col",20),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.openEndMenu())}),e.DNE(1,A,1,0,"ion-icon",21)(2,B,1,0,"ion-icon",22)(3,z,1,0,"ion-icon",23),e.k0s()}if(2&t){const a=e.XpG();e.R7$(),e.Y8G("ngIf",!(a.router.url.includes("home")||a.router.url.includes("source-dashboard")||a.router.url.includes("overdues-dashboard")||a.router.url.includes("today-dashboard")||a.router.url.includes("junk-dashboard"))),e.R7$(),e.Y8G("ngIf",(a.router.url.includes("home")||a.router.url.includes("source-dashboard")||a.router.url.includes("overdues-dashboard")||a.router.url.includes("today-dashboard")||a.router.url.includes("junk-dashboard"))&&"10005"!=a.depId),e.R7$(),e.Y8G("ngIf",a.router.url.includes("source-dashboard")&&"10005"==a.depId)}}let X=(()=>{var t;class r{constructor(o,n,l,u,d,p,L){this.activeRoute=o,this.location=n,this.sharedService=l,this.menuCtrl=u,this.router=d,this.popoverController=p,this.authService=L,this.isLeadsVisitsCalls="leads",this.filteredParams={htype:""},this.roleid="",this.headingData="",this.execid="",this.userid="",this.execName="",this.roleType=""}ngOnInit(){this.activeRoute.queryParams.subscribe(o=>{this.fromdate=o.assignedfromdate||o.visitedfromdate,this.todate=o.assignedtodate||o.visitedtodate,this.junkStatus=o.status,this.depId=localStorage.getItem("Department"),this.execid=o.execid,this.userid=localStorage.getItem("UserId"),this.roleid=localStorage.getItem("Role"),this.isRanav="28773"==localStorage.getItem("ranavPropId"),this.iscpId="1"===localStorage.getItem("cpId"),this.roleType=localStorage.getItem("RoleType"),this.execName=o.execName||o.execname||""})}onBackButton(){this.router.url.includes("leadassign")&&this.router.url.includes("todaysvisits=1")&&!this.router.url.includes("status=scheduledtoday")?this.router.navigate([],{queryParams:{todaysvisits:"1",status:"scheduledtoday",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("leadassign")&&this.router.url.includes("todaysfollowups=1")&&!this.router.url.includes("status=todaysfollowups")?this.router.navigate([],{queryParams:{todaysfollowups:"1",status:"todaysfollowups",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("mandate-lead-stages")&&!this.router.url.includes("status=pending")?this.router.navigate([],{queryParams:{status:"pending",type:"Untouched",isDropDown:"false",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("mandate-visit-stages")&&!this.router.url.includes("type=USV")?this.router.navigate([],{queryParams:{htype:"mandate",type:"USV",stage:"USV",stagestatus:"3",isDropDown:"false",visittype:"3"},replaceUrl:!0}):this.router.url.includes("mandate-myoverdues")&&!this.router.url.includes("stage=Fresh")?this.router.navigate([],{queryParams:{stage:"Fresh",htype:"mandate",status:"overdues"},replaceUrl:!0}):this.router.url.includes("mandate-plans")&&!this.router.url.includes("plan=2")?this.router.navigate([],{queryParams:{stage:"USV",plan:"2",datefrom:this.getUpcomingWeekendDates().fromdate,dateto:this.getUpcomingWeekendDates().todate,htype:"mandate"},replaceUrl:!0}):this.router.url.includes("mymandatereports")&&!this.router.url.includes("status=generalfollowups")?this.router.navigate([],{queryParams:{fromDate:(new Date).toLocaleDateString("en-CA"),toDate:(new Date).toLocaleDateString("en-CA"),status:"generalfollowups",selecteddaterange:"today",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("mandate-inactive-junk")&&!this.router.url.includes("status=inactive")?this.router.navigate([],{queryParams:{status:"inactive",counter:"1",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("mandate-feedback")&&!this.router.url.includes("status=pending")?this.router.navigate([],{queryParams:{status:"pending",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("whatsapp-visits")&&!this.router.url.includes("leads=1")?this.router.navigate([],{queryParams:{leads:"1",htype:"mandate"},replaceUrl:!0}):this.router.url.includes("home")?this.router.navigate([],{queryParams:{execName:null,executid:null,propid:"1"==localStorage.getItem("Role")?"1830":null,roleId:null,htype:"mandate"},replaceUrl:!0,queryParamsHandling:"merge"}):this.location.back()}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}getUpcomingWeekendDates(){const o=new Date,n=o.getDay();let l=new Date(o),u=new Date(o);if(6===n)l=o,u.setDate(o.getDate()+1);else if(0===n)u=o,l.setDate(o.getDate()+-1);else{const d=6-n,p=7-n;l.setDate(o.getDate()+d),u.setDate(o.getDate()+p)}return{fromdate:l.toLocaleDateString("en-CA"),todate:u.toLocaleDateString("en-CA")}}onFilterSelection(o){this.router.navigate([],{queryParams:{isLeadsVisitsCalls:o},queryParamsHandling:"merge"})}logOut(){this.sharedService.logOut(localStorage.getItem("session_id"),localStorage.getItem("UserId")).subscribe(()=>{}),this.popoverController.dismiss(),this.sharedService.loginMethodname="login",Object.keys(localStorage).forEach(o=>{"Mail"!==o&&"Password"!==o&&"useBiometric"!==o&&localStorage.removeItem(o)}),this.authService.logout(),this.router.navigate(["/"])}onJunkStatus(o){this.router.navigate([],{queryParams:{status:o,stage:"junkvisits"==o?"USV":"junkleads"==o?"Fresh":"",stagestatus:"junkvisits"==o?"3":"",activeCardKey:"junkvisits"==o?"visits_card":"junkleads"==o?"leads_card":"",visitedtodate:"junkvisits"==o?this.todate:null,visitedfromdate:"junkvisits"==o?this.fromdate:null,assignedfromdate:"junkleads"==o?this.fromdate:null,assignedtodate:"junkleads"==o?this.todate:null},queryParamsHandling:"merge"})}}return(t=r).\u0275fac=function(o){return new(o||t)(e.rXU(_.nX),e.rXU(c.aZ),e.rXU(m.d),e.rXU(s._t),e.rXU(_.Ix),e.rXU(s.IE),e.rXU(g.P))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-header"]],inputs:{leadDetails:"leadDetails"},decls:30,vars:25,consts:[["mode","md"],[1,"mainHeading"],[1,"w-100","align-items-center"],["size","2",4,"ngIf"],["size","2","class","content_center",3,"click",4,"ngIf"],[1,"ion-text-center","content_center"],["class","font-size16-familyPoppins",4,"ngIf"],["class","font-size14-familyPoppins",4,"ngIf"],["class","w-100",4,"ngIf"],["size","2","class","d-flex align-items-center justify-content-center",3,"click",4,"ngIf"],["size","2"],["src","../../assets/CRMimages/logo.png",1,"logo"],["size","2",1,"content_center",3,"click"],["name","arrow-back"],[1,"font-size16-familyPoppins"],[1,"font-size14-familyPoppins"],[1,"w-100"],[1,"d-flex","justify-content-center"],[1,"unique_duplicate_ctn"],[3,"click","ngClass"],["size","2",1,"d-flex","align-items-center","justify-content-center",3,"click"],["name","menu","class","menu_icon",4,"ngIf"],["name","ellipsis-horizontal","class","horizontal-ellipse",4,"ngIf"],["name","power","style","color:#d32536;font-size:32px;",3,"click",4,"ngIf"],["name","menu",1,"menu_icon"],["name","ellipsis-horizontal",1,"horizontal-ellipse"],["name","power",2,"color","#d32536","font-size","32px",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row",2),e.DNE(4,h,2,0,"ion-col",3)(5,y,2,0,"ion-col",4),e.j41(6,"ion-col",5),e.DNE(7,k,2,0,"span",6)(8,v,2,0,"span",6)(9,b,2,0,"span",6)(10,C,2,0,"span",6)(11,I,2,0,"span",6)(12,j,2,1,"span",6)(13,P,2,1,"span",6)(14,x,2,1,"span",6)(15,D,2,0,"span",6)(16,F,2,1,"span",6)(17,R,2,0,"span",6)(18,E,2,0,"span",6)(19,T,2,0,"span",6)(20,S,2,0,"span",6)(21,M,2,0,"span",6)(22,U,2,1,"span",6)(23,O,2,0,"span",6)(24,H,2,0,"span",6)(25,G,2,0,"span",7)(26,w,2,0,"span",6)(27,$,2,0,"span",6)(28,Y,7,2,"ion-row",8),e.k0s(),e.DNE(29,V,4,3,"ion-col",9),e.k0s()()()()),2&o&&(e.R7$(4),e.Y8G("ngIf",n.router.url.includes("home")||n.router.url.includes("source-dashboard")||n.router.url.includes("overdues-dashboard")||n.router.url.includes("today-dashboard")||n.router.url.includes("junk-dashboard")),e.R7$(),e.Y8G("ngIf",!(n.router.url.includes("home")||n.router.url.includes("source-dashboard")||n.router.url.includes("overdues-dashboard")||n.router.url.includes("today-dashboard")||n.router.url.includes("junk-dashboard"))&&"10006"!=n.depId),e.R7$(2),e.Y8G("ngIf",n.router.url.includes("call-dashboard")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("all-call-listing")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("whatsapp-visits")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("leadassign")&&n.router.url.includes("todaysvisits")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("leadassign")&&n.router.url.includes("todaysfollowups")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-lead-stages")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-visit-stages")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-myoverdues")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-plans")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mymandatereports")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-inactive-junk")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("mandate-feedback")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("visit-updates")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("addproperty")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("hourly-report")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("attendance")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("overdues-dashboard")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("switch-account")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("today-dashboard")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("home")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("source-dashboard")),e.R7$(),e.Y8G("ngIf",n.router.url.includes("junk-dashboard")),e.R7$(),e.Y8G("ngIf","10006"!=n.depId))},dependencies:[c.YU,c.bT,s.hU,s.lO,s.eU,s.iq,s.KW,s.ln,s.ai],styles:[".retailMandate[_ngcontent-%COMP%]{border:1px solid #0b7ab2;border-radius:25px;color:#0b7ab2;width:100%}.activeHtype[_ngcontent-%COMP%]{border:1px solid white;border-radius:25px;background:#0b7ab2;color:#fff}.view_details_text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.call_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;font-family:Poppins}.view_details_text[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:400;font-family:Poppins}.view_details_text[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.logo[_ngcontent-%COMP%]::part(image){border-radius:3px!important;width:30px;height:30px}.leads_visits[_ngcontent-%COMP%]{width:100%;border-radius:30px;border:1px solid #bebebe}.leads_visits[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins}.rightBorder[_ngcontent-%COMP%]{border-right:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.leftBorder[_ngcontent-%COMP%]{border-left:1px solid #bebebe;border-radius:30px;background:#0b7ab2;color:#fff!important;font-family:Poppins}.horizontal-ellipse[_ngcontent-%COMP%]{color:#fff;background-color:#5485b2;width:30px;height:30px;border-radius:8px;display:flex;align-items:center;justify-content:center}.unique_duplicate_ctn[_ngcontent-%COMP%]{display:flex;align-items:end;gap:5px;justify-content:end;border:1px solid #1c6ea4;border-radius:20px;padding:2px}.unique_duplicate_ctn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#1c6ea4;padding:2px 4px}.rightBorder[_ngcontent-%COMP%]{border-right:1px solid #1c6ea4;border-radius:20px;background-color:#0b7ab2!important;color:#fff!important}.leftBorder[_ngcontent-%COMP%]{border-right:1px solid #1c6ea4;border-radius:20px;background-color:#0b7ab2;color:#fff!important}"]}),r})()}}]);