"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5257],{7762:(M,C,l)=>{l.d(C,{L:()=>u});const u=(0,l(5083).F3)("Geolocation",{web:()=>l.e(2920).then(l.bind(l,2920)).then(d=>new d.GeolocationWeb)})},5257:(M,C,l)=>{l.r(C),l.d(C,{AttendanceModule:()=>Ft});var p=l(177),u=l(3477),d=l(5933),v=l(9417),w=l(478),P=l(8833),j=l(8676),O=l(4127),D=l(467),h=l(7762),F=l(8032),b=l.n(F),A=l(8839),S=l(1584);function R(i=0,r=A.E){return i<0&&(i=0),(0,S.O)(i,i,r)}var t=l(4438),E=l(1626),G=l(9451),T=l(2408),$=l(2152),I=l(1667);const X=["scrollContent"],Y=["checkInPreviewModal"],B=["dashboard_custDate_modal"],N=["dashboard_fromDate_modal"],V=["dashboard_toDate_modal"],z=()=>({display:"none"}),L=()=>[.3],y=()=>[0,.5];function U(i,r){1&i&&(t.j41(0,"div",18),t.nrm(1,"ion-img",19),t.k0s())}function H(i,r){1&i&&t.nrm(0,"app-header")}function J(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-row",20)(1,"ion-col",21)(2,"ion-row",22)(3,"ion-col",23),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("today"))}),t.j41(4,"span",24),t.EFF(5,"Today"),t.k0s()(),t.j41(6,"ion-col",23),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("yesterday"))}),t.j41(7,"span",24),t.EFF(8,"Yesterday"),t.k0s()(),t.j41(9,"ion-col",23),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("lastsevenDay"))}),t.j41(10,"span",24),t.EFF(11,"Last 7 days"),t.k0s()()()(),t.j41(12,"ion-col",25),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("custom"))}),t.j41(13,"span",26)(14,"label"),t.nrm(15,"ion-img",27),t.k0s()()(),t.j41(16,"ion-col",28),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.refreshPage())}),t.j41(17,"span"),t.nrm(18,"ion-icon",29),t.k0s()()()}if(2&i){const o=t.XpG();t.R7$(3),t.Y8G("ngClass","today"==o.filteredParams.isDateFilter?"bg_textColor":""),t.R7$(3),t.Y8G("ngClass","yesterday"==o.filteredParams.isDateFilter?"bg_textColor":""),t.R7$(3),t.Y8G("ngClass","lastsevenDay"==o.filteredParams.isDateFilter?"bg_textColor":""),t.R7$(3),t.Y8G("ngClass","custom"==o.filteredParams.isDateFilter?"bg_textColor":"")}}function Q(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-row",30)(1,"label",31)(2,"div",32)(3,"div",33),t.EFF(4,"From Date"),t.k0s(),t.j41(5,"div",34)(6,"label",35),t.nrm(7,"ion-img",36),t.k0s(),t.j41(8,"span",37),t.EFF(9),t.k0s(),t.j41(10,"p-calendar",38),t.mxI("ngModelChange",function(e){t.eBV(o);const a=t.XpG();return t.DH7(a.dateRange.fromdate,e)||(a.dateRange.fromdate=e),t.Njj(e)}),t.bIt("onSelect",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("customfromDate"))}),t.k0s()()()()(),t.j41(11,"ion-row",39)(12,"label",40)(13,"div",32)(14,"div",33),t.EFF(15,"To Date"),t.k0s(),t.j41(16,"div",34)(17,"label",35),t.nrm(18,"ion-img",36),t.k0s(),t.j41(19,"span",37),t.EFF(20),t.k0s(),t.j41(21,"p-calendar",41),t.mxI("ngModelChange",function(e){t.eBV(o);const a=t.XpG();return t.DH7(a.dateRange.todate,e)||(a.dateRange.todate=e),t.Njj(e)}),t.bIt("onSelect",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("custom"))}),t.k0s()()()()()}if(2&i){const o=t.XpG();t.R7$(8),t.Y8G("ngClass",null!=o.dateRange&&o.dateRange.fromdate?"":"isBeforeselectingDate"),t.R7$(),t.SpI(" ",null!=o.dateRange&&null!=o.dateRange.fromdate&&o.dateRange.fromdate.toLocaleDateString("en-CA")?null==o.dateRange||null==o.dateRange.fromdate?null:o.dateRange.fromdate.toLocaleDateString("en-CA"):"Select From Date"," "),t.R7$(),t.R50("ngModel",o.dateRange.fromdate),t.R7$(),t.Y8G("ngClass",o.dateRange.fromdate?"":"pointerEvent"),t.R7$(8),t.Y8G("ngClass",null!=o.dateRange&&o.dateRange.todate?"":"isBeforeselectingDate"),t.R7$(),t.SpI(" ",null!=o.dateRange&&null!=o.dateRange.todate&&o.dateRange.todate.toLocaleDateString("en-CA")?null==o.dateRange||null==o.dateRange.todate?null:o.dateRange.todate.toLocaleDateString("en-CA"):"Select To Date",""),t.R7$(),t.R50("ngModel",o.dateRange.todate),t.Y8G("minDate",o.dateRange.fromdate)}}function K(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-row",42)(1,"ion-col",43)(2,"p-dropdown",44),t.bIt("onChange",function(e){t.eBV(o);const a=t.XpG();return t.Njj(a.onExecutiveFilter(e))}),t.mxI("ngModelChange",function(e){t.eBV(o);const a=t.XpG();return t.DH7(a.selectedExecu,e)||(a.selectedExecu=e),t.Njj(e)}),t.k0s()()()}if(2&i){const o=t.XpG();t.R7$(2),t.Y8G("options",o.executives),t.R50("ngModel",o.selectedExecu)}}function W(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-row",45)(1,"ion-col",46)(2,"ion-button",47),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.removeDateFilter())}),t.j41(3,"span",24),t.EFF(4),t.k0s(),t.nrm(5,"ion-icon",48),t.k0s()()()}if(2&i){const o=t.XpG();t.R7$(4),t.SpI(" ",o.filteredParams.fromdate+" to "+o.filteredParams.todate,"")}}function Z(i,r){if(1&i&&(t.j41(0,"ion-row",54)(1,"ion-col",55)(2,"span",56),t.EFF(3),t.k0s()()()),2&i){const o=t.XpG().$implicit;t.R7$(3),t.SpI(" ",o.date," ")}}function q(i,r){if(1&i&&(t.j41(0,"ion-row",54)(1,"ion-col")(2,"span",57),t.EFF(3),t.k0s()(),t.j41(4,"ion-col",58)(5,"span",56),t.EFF(6,"00:00:00 Hrs"),t.k0s()()()),2&i){const o=t.XpG().$implicit,n=t.XpG(2);t.R7$(3),t.SpI(" ",n.dateModify(o.date)," ")}}function tt(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const o=t.XpG(4).$implicit,n=t.XpG(2);t.R7$(),t.SpI(" ",n.timersMap[o.id+"_"+t.i5U(2,1,o.all_checks[0].created_at,"yyyy-MM-dd")]||"00:00:00 Hrs"," ")}}function et(i,r){if(1&i&&t.EFF(0),2&i){const o=t.XpG(4).$implicit;t.SpI(" ",o.total_hours," ")}}function nt(i,r){if(1&i&&(t.j41(0,"span",64),t.DNE(1,tt,3,4,"span",69)(2,et,1,1,"ng-template",null,6,t.C5r),t.k0s()),2&i){const o=t.sdS(3),n=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngIf",(null==n.all_checks?null:n.all_checks.length)>0&&"1"===n.all_checks[n.all_checks.length-1].check_status&&"1"!=n.auto_checkOut)("ngIfElse",o)}}function ot(i,r){1&i&&(t.j41(0,"span",70),t.EFF(1,"Absent"),t.k0s())}function it(i,r){if(1&i&&(t.j41(0,"div",62)(1,"ion-row")(2,"ion-col",63)(3,"div")(4,"span",64),t.EFF(5),t.k0s(),t.nrm(6,"span",65),t.j41(7,"span",64),t.EFF(8),t.nI1(9,"date"),t.k0s()(),t.j41(10,"div"),t.DNE(11,nt,4,2,"span",66)(12,ot,2,0,"span",67),t.k0s()()(),t.j41(13,"ion-row")(14,"ion-col",63)(15,"div")(16,"span",68),t.EFF(17,"RM Executive"),t.k0s()(),t.j41(18,"div")(19,"span",68),t.EFF(20,"Work Hours"),t.k0s()()()()()),2&i){const o=t.XpG(2).$implicit,n=t.XpG(2);t.R7$(5),t.JRh(o.name),t.R7$(),t.Y8G("ngClass","online"==o.online_status?"online":"offline"),t.R7$(2),t.JRh(n.logout_timersMap[o.id+"_"+t.i5U(9,5,o.logout_time,"yyyy-MM-dd")]),t.R7$(3),t.Y8G("ngIf","Absent"!=o.status),t.R7$(),t.Y8G("ngIf","Absent"==o.status)}}function at(i,r){1&i&&(t.j41(0,"span",74),t.EFF(1,"Absent"),t.k0s())}function st(i,r){if(1&i&&(t.j41(0,"div",62)(1,"ion-row")(2,"ion-col",63)(3,"div"),t.DNE(4,at,2,0,"span",71),t.k0s(),t.j41(5,"div",72)(6,"span",73),t.EFF(7,"00:00:00 Hrs"),t.k0s(),t.j41(8,"span",68),t.EFF(9,"Work Hours"),t.k0s()()()()()),2&i){const o=t.XpG(2).$implicit;t.R7$(4),t.Y8G("ngIf","Absent"==o.status)}}function rt(i,r){1&i&&(t.j41(0,"span",68),t.EFF(1,"Check-Out"),t.k0s())}function ct(i,r){1&i&&(t.j41(0,"span",68),t.EFF(1,"Check-Out"),t.k0s())}function lt(i,r){if(1&i&&(t.j41(0,"div",75)(1,"ion-row")(2,"ion-col",63)(3,"div")(4,"span",64),t.EFF(5),t.k0s()(),t.j41(6,"div")(7,"span",64),t.EFF(8),t.k0s()()()(),t.j41(9,"ion-row")(10,"ion-col",76)(11,"div",77)(12,"span",68),t.EFF(13,"Check-In"),t.k0s(),t.nrm(14,"ion-img",78),t.k0s(),t.j41(15,"div",77),t.DNE(16,rt,2,0,"span",79)(17,ct,2,0,"span",79),t.nrm(18,"ion-img",80),t.k0s()()()()),2&i){const o=t.XpG(2).$implicit;t.R7$(5),t.JRh(o.check_in?o.check_in:"--"),t.R7$(3),t.JRh(o.check_out?o.check_out:"--"),t.R7$(8),t.Y8G("ngIf","1"==o.auto_checkOut),t.R7$(),t.Y8G("ngIf","0"==o.auto_checkOut)}}function dt(i,r){if(1&i&&(t.j41(0,"div",59),t.DNE(1,it,21,8,"div",60)(2,st,10,1,"div",60)(3,lt,19,4,"div",61),t.k0s()),2&i){const o=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngIf","true"!=n.filteredParams.isExecCheckInOutDetails),t.R7$(),t.Y8G("ngIf","true"==n.filteredParams.isExecCheckInOutDetails&&"Absent"==o.status&&n.hasKeyInAllObjects()),t.R7$(),t.Y8G("ngIf","true"==n.filteredParams.isExecCheckInOutDetails&&"Absent"==o.status&&n.hasKeyInAllObjects()||"false"==n.filteredParams.isExecCheckInOutDetails&&("Absent"==o.status||"Present"==o.status))}}function mt(i,r){if(1&i&&(t.j41(0,"ion-row",54)(1,"ion-col")(2,"span",57),t.EFF(3),t.nI1(4,"date"),t.k0s()(),t.j41(5,"ion-col",58)(6,"span",56),t.EFF(7),t.k0s()()()),2&i){const o=t.XpG().$implicit,n=t.XpG(2).$implicit;t.R7$(3),t.SpI("",t.i5U(4,2,o.created_at,"yyyy-MM-dd")," "),t.R7$(4),t.SpI(" ",n.total_hours," ")}}function _t(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-col",87),t.bIt("click",function(){t.eBV(o);const e=t.XpG().$implicit,a=t.XpG(4);return t.Njj(a.onViewCheckInModal(e))}),t.j41(1,"span",88),t.EFF(2,"Check-In"),t.k0s(),t.j41(3,"div",89),t.nrm(4,"ion-img",90),t.k0s()()}if(2&i){const o=t.XpG().$implicit;t.R7$(4),t.Y8G("src",o.selfie_img?"https://lead247-laravel-api.right2shout.in/selfie-img/"+o.selfie_img:"../../assets/CRMimages/no-img.svg")}}function pt(i,r){1&i&&(t.j41(0,"span",73),t.EFF(1,"Auto Check-Out"),t.k0s())}function ft(i,r){1&i&&(t.j41(0,"span",73),t.EFF(1," Check-Out"),t.k0s())}function gt(i,r){if(1&i&&(t.j41(0,"ion-col",91),t.DNE(1,pt,2,0,"span",92)(2,ft,2,0,"span",92),t.j41(3,"div",93),t.nrm(4,"ion-img",94),t.k0s()()),2&i){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","1"==o.auto_checkOut),t.R7$(),t.Y8G("ngIf","0"==o.auto_checkOut)}}function ht(i,r){if(1&i&&(t.j41(0,"ion-row")(1,"ion-col",95),t.nrm(2,"ion-icon",96),t.k0s(),t.j41(3,"ion-col",46)(4,"span",97),t.EFF(5),t.k0s()()()),2&i){const o=t.XpG().$implicit;t.R7$(5),t.SpI(" ",o.address," ")}}function ut(i,r){1&i&&(t.j41(0,"ion-row")(1,"ion-col",95),t.nrm(2,"ion-icon",98),t.k0s(),t.j41(3,"ion-col",46)(4,"span",97),t.EFF(5," Desktop "),t.k0s()()())}function kt(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,mt,8,5,"ion-row",52),t.j41(2,"div",81)(3,"ion-row")(4,"ion-col",82),t.nrm(5,"ion-icon",83),t.j41(6,"span",84),t.EFF(7),t.nI1(8,"date"),t.k0s()(),t.DNE(9,_t,5,1,"ion-col",85)(10,gt,5,2,"ion-col",86),t.k0s(),t.DNE(11,ht,6,1,"ion-row",8)(12,ut,6,0,"ion-row",8),t.k0s()()),2&i){const o=r.$implicit,n=r.index,e=t.XpG(4);t.R7$(),t.Y8G("ngIf",e.isNewDate(n)),t.R7$(6),t.JRh(t.i5U(8,6,o.created_at,"hh:mm a")),t.R7$(2),t.Y8G("ngIf","1"==o.check_status),t.R7$(),t.Y8G("ngIf","0"==o.check_status),t.R7$(),t.Y8G("ngIf","1"==o.device_type),t.R7$(),t.Y8G("ngIf","0"==o.device_type)}}function Ct(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,kt,13,9,"div",50),t.k0s()),2&i){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",o.all_checks)}}function Dt(i,r){if(1&i){const o=t.RV6();t.j41(0,"div")(1,"div",51),t.bIt("click",function(){const e=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.onExecCheckInOutDetails(e))}),t.DNE(2,Z,4,1,"ion-row",52)(3,q,7,1,"ion-row",52)(4,dt,4,3,"div",53),t.k0s(),t.DNE(5,Ct,2,1,"div",8),t.k0s()}if(2&i){const o=r.$implicit,n=r.index,e=t.XpG(2);t.R7$(2),t.Y8G("ngIf",e.isNewDay(n)&&e.filteredParams.fromdate!=e.filteredParams.todate&&"true"!=e.filteredParams.isExecCheckInOutDetails),t.R7$(),t.Y8G("ngIf",e.isNewDay(n)&&e.filteredParams.fromdate!=e.filteredParams.todate&&"true"==e.filteredParams.isExecCheckInOutDetails&&"Absent"==o.status),t.R7$(),t.Y8G("ngIf","true"!=e.filteredParams.isExecCheckInOutDetails&&("Absent"==o.status||"Present"==o.status)||"true"==e.filteredParams.isExecCheckInOutDetails&&"Absent"==o.status&&e.hasKeyInAllObjects()),t.R7$(),t.Y8G("ngIf","true"==e.filteredParams.isExecCheckInOutDetails)}}function vt(i,r){if(1&i&&(t.j41(0,"ion-row",54)(1,"ion-col",55)(2,"span",56),t.EFF(3),t.k0s()()()),2&i){const o=t.XpG(3);t.R7$(3),t.SpI(" ",o.filteredParams.selectedDay," ")}}function xt(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,vt,4,1,"ion-row",52),t.j41(2,"div",99)(3,"ion-row")(4,"ion-col")(5,"span",33),t.EFF(6,"No Logs Found..."),t.k0s()()()()()),2&i){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.filteredParams.selectedDay)}}function Pt(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-content",49,5),t.bIt("ionScroll",function(e){t.eBV(o);const a=t.XpG();return t.Njj(a.onScroll(e))}),t.DNE(2,Dt,6,4,"div",50)(3,xt,7,1,"div",8),t.k0s()}if(2&i){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.checkInOutDetails),t.R7$(),t.Y8G("ngIf",!o.hasKeyInAllObjects()&&"true"==o.filteredParams.isExecCheckInOutDetails)}}function bt(i,r){if(1&i&&(t.j41(0,"ion-row")(1,"ion-col",113),t.nrm(2,"ion-icon",114),t.k0s(),t.j41(3,"ion-col",115)(4,"span",33),t.EFF(5),t.k0s()()()),2&i){const o=t.XpG(2);t.R7$(5),t.SpI(" ",o.checkInPreviewDetails.address," ")}}function Rt(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-header",100)(1,"ion-row")(2,"ion-col",101)(3,"span",102),t.EFF(4,"Check-In"),t.k0s(),t.nrm(5,"ion-img",103),t.k0s(),t.j41(6,"ion-col",104),t.bIt("click",function(){t.eBV(o),t.XpG();const e=t.sdS(11);return t.Njj(e.dismiss())}),t.nrm(7,"ion-icon",105),t.k0s()(),t.j41(8,"div",106),t.nrm(9,"ion-img",107),t.k0s()(),t.j41(10,"div",108)(11,"ion-row")(12,"ion-col",109),t.nrm(13,"ion-icon",110),t.j41(14,"span",56),t.EFF(15),t.nI1(16,"date"),t.k0s()(),t.j41(17,"ion-col",111),t.nrm(18,"ion-icon",112),t.j41(19,"span",56),t.EFF(20),t.nI1(21,"date"),t.k0s()()(),t.DNE(22,bt,6,1,"ion-row",8),t.k0s()}if(2&i){const o=t.XpG();t.R7$(9),t.Y8G("src",o.checkInPreviewDetails.selfie_img?"https://lead247-laravel-api.right2shout.in/selfie-img/"+o.checkInPreviewDetails.selfie_img:"../../assets/CRMimages/no-img.svg"),t.R7$(6),t.SpI(" ",t.i5U(16,4,o.checkInPreviewDetails.created_at,"hh:mm a")," "),t.R7$(5),t.SpI(" ",t.i5U(21,7,o.checkInPreviewDetails.created_at,"yyyy-MM-dd")," "),t.R7$(2),t.Y8G("ngIf",o.checkInPreviewDetails.address)}}function It(i,r){1&i&&(t.j41(0,"p",123),t.EFF(1," Please select From date first "),t.k0s())}function yt(i,r){if(1&i){const o=t.RV6();t.j41(0,"div",116)(1,"div",117)(2,"h3",118),t.EFF(3,"Select date range"),t.k0s(),t.j41(4,"div",119)(5,"div",120),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.openFromDate())}),t.j41(6,"label"),t.EFF(7,"From"),t.k0s(),t.j41(8,"span"),t.EFF(9),t.k0s()(),t.j41(10,"div",120),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.handleToDateClick())}),t.j41(11,"label"),t.EFF(12,"To"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()()(),t.DNE(15,It,2,0,"p",121),t.k0s(),t.j41(16,"div")(17,"ion-button",122),t.bIt("click",function(){t.eBV(o);const e=t.XpG(),a=t.sdS(14);return e.addQueryParams(),t.Njj(a.dismiss())}),t.EFF(18," Confirm "),t.k0s()()()}if(2&i){const o=t.XpG();t.R7$(9),t.JRh(null!=o.dateRange&&o.dateRange.fromdate?(""+o.dateRange.fromdate).split("T")[0]:""),t.R7$(),t.AVh("disabled",!(null!=o.dateRange&&o.dateRange.fromdate)),t.R7$(4),t.JRh(null!=o.dateRange&&o.dateRange.todate?(""+o.dateRange.todate).split("T")[0]:""),t.R7$(),t.Y8G("ngIf",o.showFromDateError),t.R7$(2),t.Y8G("disabled",!(null!=o.dateRange&&o.dateRange.fromdate&&null!=o.dateRange&&o.dateRange.todate))}}function Mt(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-datetime",124),t.mxI("ngModelChange",function(e){t.eBV(o);const a=t.XpG();return t.DH7(a.dateRange.fromdate,e)||(a.dateRange.fromdate=e),t.Njj(e)}),t.bIt("ionChange",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("customfromDate"))}),t.k0s()}if(2&i){const o=t.XpG();t.R50("ngModel",o.dateRange.fromdate)}}function wt(i,r){if(1&i){const o=t.RV6();t.j41(0,"ion-datetime",125),t.mxI("ngModelChange",function(e){t.eBV(o);const a=t.XpG();return t.DH7(a.dateRange.todate,e)||(a.dateRange.todate=e),t.Njj(e)}),t.bIt("ionChange",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.selectDateFilter("customtoDate"))}),t.k0s()}if(2&i){const o=t.XpG();t.Y8G("min",o.dateRange.fromdate),t.R50("ngModel",o.dateRange.todate)}}function jt(i,r){1&i&&t.nrm(0,"app-common-footer")}let Ot=(()=>{var i;class r{constructor(n,e,a,s,c,m,f,_,g){this.ngZone=n,this.cdr=e,this.menuCtrl=a,this.location=s,this.http=c,this.sharedService=m,this.activeRoute=f,this.router=_,this.popoverController=g,this.latitude=null,this.longitude=null,this.address=null,this.errorMsg=null,this.todayDate=new Date,this.dateRange={fromdate:null,todate:null},this.optionsRange={pickMode:"range",from:new Date(1990,0,1),to:new Date},this.showSpinner=!1,this.filteredParams={fromdate:"",todate:"",execid:"",isExecCheckInOutDetails:"false",execname:"",selectedDay:"",isDateFilter:"",limit:0,limitrows:20},this.isOnCallDetailsPage=!1,this.isEmployee=!1,this.timerSubscriptions={},this.timersMap={},this.logout_timeSubscriptions={},this.logout_timersMap={},this.timer="00:00:00 Hrs",this.showFromDateError=!1}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.isEmployee="10006"===localStorage.getItem("Department"),this.isOnCallDetailsPage="true"==n.isOnCallDetailsPage,this.isAdmin="1"===localStorage.getItem("Role"),this.getqueryParam(),(this.filteredParams.fromdate==this.getTodayDate()&&this.filteredParams.todate==this.getTodayDate()||this.filteredParams.fromdate==this.getYesterdayDate()&&this.filteredParams.todate==this.getYesterdayDate())&&"1"!=this.filteredParams.execid&&(this.filteredParams.isExecCheckInOutDetails="true"),this.getcheckInAndOutStatus(),this.getExecutiveList()})}refreshPage(){this.dateRange={fromdate:null,todate:null},this.filteredParams={fromdate:(new Date).toLocaleDateString("en-CA"),todate:(new Date).toLocaleDateString("en-CA"),execid:this.filteredParams.execid,isExecCheckInOutDetails:"false",execname:"",selectedDay:"",isDateFilter:"today",limit:0,limitrows:20},this.addQueryParams()}getExecutiveList(){this.sharedService.getexecutiveslist().subscribe(n=>{var e,a;"True"==n.status&&(this.executives=n.Executiveslist,this.executives=[{ID:"1",Name:"All"},...(n.Executiveslist||[]).filter(s=>"Test RM"!==s.Name&&"Test CS"!==s.name)],this.selectedExecu=null===(e=this.executives)||void 0===e?void 0:e.filter((s,c)=>{if(s.ID==this.filteredParams.execid)return s}),this.selectedExecu=null===(a=this.selectedExecu)||void 0===a?void 0:a[0])})}getqueryParam(){const n=window.location.search,e={};new URLSearchParams(n).forEach((a,s)=>{e[s]=a}),Object.keys(this.filteredParams).forEach(a=>{e.hasOwnProperty(a)?this.filteredParams[a]=e[a]:"propid"==a&&"ranavPropId"in localStorage?this.filteredParams[a]="28773":"loginid"!==a&&"limit"!==a&&"limitrows"!==a&&(this.filteredParams[a]="")})}addQueryParams(){const n={};let e=!1;for(const a in this.filteredParams)if(this.filteredParams.hasOwnProperty(a)){const s=""!==this.filteredParams[a]?this.filteredParams[a]:null;this.activeRoute.snapshot.queryParams[a]!==s&&(e=!0),n[a]=s}this.router.navigate([],{queryParams:n,queryParamsHandling:"merge"})}getTodayDate(){return(new Date).toISOString().split("T")[0]}getYesterdayDate(){const n=new Date;return n.setDate(n.getDate()-1),n.toISOString().split("T")[0]}getsevenDaysAgo(){const n=new Date,e=new Date;return e.setDate(n.getDate()-7),e.toISOString().split("T")[0]}selectDateFilter(n){if(this.filteredParams.selectedDay="","custom"!=n&&"customfromDate"!=n&&(this.filteredParams.isDateFilter=n),("today"==n||"yesterday"==n||"lastsevenDay"==n)&&(this.dateRange={fromdate:null,todate:null}),"today"==n)this.filteredParams.fromdate=this.getTodayDate(),this.filteredParams.todate=this.getTodayDate();else if("yesterday"==n)this.filteredParams.fromdate=this.getYesterdayDate(),this.filteredParams.todate=this.getYesterdayDate();else if("lastsevenDay"==n)this.filteredParams.fromdate=this.getsevenDaysAgo(),this.filteredParams.todate=this.getTodayDate(),this.filteredParams.isExecCheckInOutDetails="false";else{if("custom"===n)return void this.dashboard_custDate_modal.present();var e,a;if("customfromDate"==n)return this.dateRange.fromdate>this.dateRange.todate?(this.filteredParams.todate="",this.dateRange.todate=null):(this.filteredParams.fromdate=(""+this.dateRange.fromdate).split("T")[0],this.filteredParams.todate=(""+this.dateRange.todate).split("T")[0]),this.showFromDateError=!1,void(null===(e=this.dashboard_fromDate_modal)||void 0===e||e.dismiss());if("customtoDate"==n)return this.filteredParams.todate=(""+this.dateRange.todate).split("T")[0],void(null===(a=this.dashboard_toDate_modal)||void 0===a||a.dismiss());if("custom"===n){const s=this.dateRange.fromdate,c=this.dateRange.todate;if(s&&c){const m=c.getMonth()-s.getMonth()+12*(c.getFullYear()-s.getFullYear());if(m>1||1===m&&c.getDate()>s.getDate())return void b().fire({title:"Please select a date range of 1 month or less.",icon:"warning",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.dateRange={fromdate:null,todate:null}})}if(s&&c&&s>c)return this.filteredParams.todate="",void(this.dateRange.todate=null);s&&c&&(this.filteredParams.fromdate=s.toLocaleDateString("en-CA"),this.filteredParams.todate=c.toLocaleDateString("en-CA"),this.filteredParams.isDateFilter=n),this.addQueryParams(),this.dateRange.fromdate&&this.dateRange.todate&&this.popoverController.dismiss()}else if("customfromDate"==n){const s=new Date(this.dateRange.fromdate),c=new Date(this.dateRange.todate),m=c.getMonth()-s.getMonth()+12*(c.getFullYear()-s.getFullYear());return m>1||1===m&&c.getDate()>s.getDate()?b().fire({title:"Please select a date range of 1 month or less.",icon:"warning",heightAuto:!1,confirmButtonText:"ok"}).then(()=>{this.dateRange={fromdate:null,todate:null},this.filteredParams.fromdate=this.filteredParams.fromdate,this.filteredParams.todate=this.filteredParams.todate}):this.dateRange.fromdate>this.dateRange.todate?(this.filteredParams.todate="",this.dateRange.todate=null):this.dateRange.fromdate&&this.dateRange.todate&&(this.filteredParams.fromdate=this.dateRange.fromdate.toLocaleDateString("en-CA"),this.filteredParams.todate=this.dateRange.todate.toLocaleDateString("en-CA")),void(this.dateRange.fromdate&&this.dateRange.todate&&(this.addQueryParams(),this.popoverController.dismiss()))}}this.scrollContent.scrollToTop(),this.addQueryParams()}onExecutiveFilter(n){this.filteredParams.execid=this.selectedExecu.ID,this.filteredParams.execname=this.selectedExecu.Name,this.addQueryParams()}getcheckInAndOutStatus(){const n={execid:this.filteredParams.execid,loginid:localStorage.getItem("UserId"),from:this.filteredParams.fromdate,to:this.filteredParams.todate,logintype:"28773"===localStorage.getItem("PropertyId")?localStorage.getItem("direct_inhouse"):"",propid:"28773"===localStorage.getItem("PropertyId")?localStorage.getItem("PropertyId"):"",limit:0,limitrows:30};this.sharedService.getCheck_inStatus(n).subscribe(e=>{var a;this.checkInOutDetails=e.data,null===(a=this.checkInOutDetails)||void 0===a||a.forEach(s=>{var c;this.offLineTimer(s),(null===(c=s.all_checks)||void 0===c?void 0:c.length)>0&&"1"==s.all_checks[s.all_checks.length-1].check_status&&"1"!=s.auto_checkOut?this.initializeTimers():"1"==s.auto_checkOut&&this.totalHrForAutocheckout(s)}),this.showSpinner=!1})}totalHrForAutocheckout(n){new Date(n.all_checks[0].created_at).toISOString().split("T");const c=new Date(n.all_checks[0].created_at),m=c.getTime(),f=new Date(c);f.setHours(24,0,0,0);const _=f.getTime()-m,g=Math.floor(_/36e5),k=Math.floor(_/6e4%60),x=Math.floor(_/1e3%60);n.total_hours=`${this.pad(g)}h:${this.pad(k)}m:${this.pad(x)}s`}initializeTimers(){this.checkInOutDetails.forEach(n=>{var e;if((null===(e=n.all_checks)||void 0===e?void 0:e.length)>0&&"1"===n.all_checks[0].check_status&&"1"!==n.auto_checkOut){const c=`${n.id}_${new Date(n.all_checks[0].created_at).toISOString().split("T")[0]}`,m=new Date(n.all_checks[0].created_at).getTime();if(this.timerSubscriptions[c])return;this.timerSubscriptions[c]=R(1e3).subscribe(()=>{const _=(new Date).getTime()-m,g=Math.floor(_/36e5),k=Math.floor(_/6e4%60),x=Math.floor(_/1e3%60);this.timersMap[c]=`${this.pad(g)+"h"}:${this.pad(k)+"m"}:${this.pad(x)+"s"}`})}})}offLineTimer(n){const s=`${n.id}_${new Date(n.logout_time).toISOString().split("T")[0]}`,c=new Date(n.logout_time).getTime();this.logout_timeSubscriptions[s]||(this.logout_timeSubscriptions[s]=R(1e3).subscribe(()=>{const f=(new Date).getTime()-c,_=Math.floor(f/36e5),g=Math.floor(f/6e4%60),k=Math.floor(f/1e3%60);this.logout_timersMap[s]=`${this.pad(_)+"h"}:${this.pad(g)+"m"}:${this.pad(k)+"s"}`}))}pad(n){return n<10?"0"+n:""+n}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}onBackbutton(){this.location.back()}getCurrentPosition(){return(0,D.A)(function*(){try{"denied"===(yield h.L.checkPermissions()).location&&(yield h.L.requestPermissions()),yield h.L.getCurrentPosition()}catch(n){console.error("Error getting location",n)}})()}getCurrentLocation(){var n=this;return(0,D.A)(function*(){try{"denied"===(yield h.L.checkPermissions()).location&&(yield h.L.requestPermissions());const a=yield h.L.getCurrentPosition({enableHighAccuracy:!0});n.latitude=a.coords.latitude,n.longitude=a.coords.longitude,n.getAddressFromCoords(n.latitude,n.longitude)}catch(e){n.errorMsg="Error getting location: "+e}})()}getAddressFromCoords(n,e){this.http.get(`https://api.opencagedata.com/geocode/v1/json?q=${n}+${e}&key=02c57990ba84464f92881b3694fb465c`).subscribe(c=>{this.address=c&&c.results&&c.results.length>0?c.results[0].formatted:"Address not found"},c=>{this.address="Geocoding failed"})}isNewDate(n){var e,a;return 0===n||new Date(null===(e=this.checkInOutDetails[0])||void 0===e||null===(e=e.all_checks)||void 0===e||null===(e=e[n])||void 0===e?void 0:e.created_at).toDateString()!==new Date(null===(a=this.checkInOutDetails[0])||void 0===a||null===(a=a.all_checks)||void 0===a||null===(a=a[n-1])||void 0===a?void 0:a.created_at).toDateString()}isNewDay(n){var e,a;return 0===n||new Date(null===(e=this.checkInOutDetails[n])||void 0===e?void 0:e.date).toDateString()!==new Date(null===(a=this.checkInOutDetails[n-1])||void 0===a?void 0:a.date).toDateString()}hasKeyInAllObjects(){var n;return null===(n=this.checkInOutDetails)||void 0===n?void 0:n.some(e=>e.hasOwnProperty("all_checks"))}onViewCheckInModal(n){this.checkInPreviewDetails=n,this.checkInPreviewModal.present()}startTimer(n){this.stopTimer(),this.intervalId=setInterval(()=>{const a=Math.floor(((new Date).getTime()-n.getTime())/1e3);this.timer=this.formatTime(a)},1e3)}formatTime(n){const e=Math.floor(n/3600),a=Math.floor(n%3600/60),s=n%60;return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")} Hrs`}stopTimer(){this.intervalId&&(this.timer="00:00:00 Hrs",clearInterval(this.intervalId))}onExecCheckInOutDetails(n){this.filteredParams.execname=n.name,this.filteredParams.execid=n.id,this.filteredParams.isExecCheckInOutDetails="true",this.addQueryParams()}dateModify(n){const e=new Date(n);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}onScroll(n){this.scrollContent.getScrollElement().then(a=>{const s=a.scrollTop,c=a.scrollHeight,m=a.offsetHeight;this.canScroll=c>m+10,this.sharedService.isBottom=!!this.canScroll&&s+m>=c-10})}removeDateFilter(){this.dateRange={fromdate:null,todate:null},this.filteredParams.isDateFilter="today",this.filteredParams.fromdate=(new Date).toLocaleDateString("en-CA"),this.filteredParams.todate=(new Date).toLocaleDateString("en-CA"),this.addQueryParams()}openFromDate(){var n=this;return(0,D.A)(function*(){var e;yield null===(e=n.dashboard_toDate_modal)||void 0===e?void 0:e.dismiss(),yield n.dashboard_fromDate_modal.present()})()}openToDate(){var n=this;return(0,D.A)(function*(){var e;yield null===(e=n.dashboard_fromDate_modal)||void 0===e?void 0:e.dismiss(),yield n.dashboard_toDate_modal.present()})()}onmodaldismiss(){var n,e;null===(n=this.dashboard_fromDate_modal)||void 0===n||n.dismiss(),null===(e=this.dashboard_toDate_modal)||void 0===e||e.dismiss()}handleToDateClick(){this.dateRange.fromdate?(this.showFromDateError=!1,this.openToDate()):this.showFromDateError=!0}onCustomDateModalDismiss(n){(!this.dateRange.fromdate||!this.dateRange.todate||this.dateRange.fromdate&&!this.dateRange.todate)&&(this.dateRange={fromdate:null,todate:null},this.filteredParams.isDateFilter="today",this.filteredParams.fromdate=(new Date).toLocaleDateString("en-CA"),this.filteredParams.todate=(new Date).toLocaleDateString("en-CA"),this.addQueryParams())}ngOnDestroy(){this.sharedService.dismissAllOverlays()}}return(i=r).\u0275fac=function(n){return new(n||i)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(d._t),t.rXU(p.aZ),t.rXU(E.Qq),t.rXU(G.d),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(d.IE))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-attendance"]],viewQuery:function(n,e){if(1&n&&(t.GBs(X,5),t.GBs(Y,5),t.GBs(B,5),t.GBs(N,5),t.GBs(V,5)),2&n){let a;t.mGM(a=t.lsd())&&(e.scrollContent=a.first),t.mGM(a=t.lsd())&&(e.checkInPreviewModal=a.first),t.mGM(a=t.lsd())&&(e.dashboard_custDate_modal=a.first),t.mGM(a=t.lsd())&&(e.dashboard_fromDate_modal=a.first),t.mGM(a=t.lsd())&&(e.dashboard_toDate_modal=a.first)}},decls:23,vars:26,consts:[["calendar",""],["checkInPreviewModal",""],["dashboard_custDate_modal",""],["dashboard_fromDate_modal",""],["dashboard_toDate_modal",""],["scrollContent",""],["elseBlock",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["style","padding: 5px 5px 0; background-color: #f9f9f9",4,"ngIf"],["trigger","attendanceCustomDate","side","bottom","alignment","center",1,"newAndselect_popover",3,"backdropDismiss"],["style","padding: 0 5px; background-color: #f9f9f9",4,"ngIf"],["inputId","attendance_date_range","selectionMode","range","appendTo","body",3,"ngModelChange","onSelect","ngStyle","hideOnDateTimeSelect","touchUI","ngModel","dateFormat"],["style","padding: 0 10px 10px; background-color: #f9f9f9",4,"ngIf"],["class","ion-padding full-bg","scrollEvents","true",3,"ionScroll",4,"ngIf"],[1,"checkInPreviewModal"],[3,"ionModalDidDismiss","breakpoints","initialBreakpoint","backdropDismiss"],["mode","ios",3,"ionBreakpointDidChange","breakpoints","initialBreakpoint","keepContentsMounted"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[2,"padding","5px 5px 0","background-color","#f9f9f9"],[1,"date-filter-container"],[1,"date-filter-row"],[1,"content_center","date-filter-item",3,"click","ngClass"],[1,"font-size12-familyPoppins"],["size","1",1,"content_center","icon-button-container",3,"click","ngClass"],[1,"d-flex","align-items-center","ion-justify-content-center"],["src","../assets/CRMimages/date-filter-icon.png",1,"datefiltericon"],["size","1",1,"content_center","icon-button-container",3,"click"],["name","refresh-outline",1,"icon-ion","font-colorBlue"],[1,"m-2","mb-0"],["for","fromDate",1,"from-date-calendar","d-flex","align-items-center","p-0","w-100"],[1,"w-100"],[1,"font-size14-familyPoppins"],[1,"d-flex","align-items-center","calendar-div"],[1,"d-flex"],["src","../assets/CRMimages/date-filter-icon.png"],[1,"ps-2",3,"ngClass"],["inputId","fromDate","appendTo","body","dateFormat","yy-mm-dd",1,"m-3",3,"ngModelChange","onSelect","ngModel"],[1,"m-2",3,"ngClass"],["for","toDate",1,"to-date-calendar","d-flex","align-items-center","p-0","w-100"],["inputId","toDate","appendTo","body","dateFormat","yy-mm-dd",1,"m-3",3,"ngModelChange","onSelect","ngModel","minDate"],[2,"padding","0 5px","background-color","#f9f9f9"],["size","6",1,"exec"],["optionLabel","Name","placeholder","Select a Executive",1,"exec_css",3,"onChange","ngModelChange","options","ngModel"],[2,"padding","0 10px 10px","background-color","#f9f9f9"],[1,"paddingZero"],["fill","clear",1,"filterButtons",2,"margin","0",3,"click"],["slot","end","name","close",2,"font-size","20px","color","#0b7ab2"],["scrollEvents","true",1,"ion-padding","full-bg",3,"ionScroll"],[4,"ngFor","ngForOf"],[3,"click"],["class","date-time-row",4,"ngIf"],["class","work-summary-card",4,"ngIf"],[1,"date-time-row"],[1,"content_center"],[1,"font-size16-familyPoppins"],[1,"font-size16-familyPoppins","font-colorBlue"],[1,"d-flex","ion-justify-content-end"],[1,"work-summary-card"],["class","summary-header",4,"ngIf"],["class","summary-body",4,"ngIf"],[1,"summary-header"],[1,"row-space-between"],[1,"summary-title"],[1,"status-dot",3,"ngClass"],["class","summary-title",4,"ngIf"],["class","absent font-size14-familyPoppins",4,"ngIf"],[1,"summary-subtitle"],[4,"ngIf","ngIfElse"],[1,"absent","font-size14-familyPoppins"],["class","absent font-size16-familyPoppins",4,"ngIf"],[2,"display","flex","flex-direction","column","line-height","1.2"],[1,"font-size14-familyPoppins","text_color_red"],[1,"absent","font-size16-familyPoppins"],[1,"summary-body"],[1,"row-space-between",2,"padding-top","0"],[1,"icon-text"],["src","../../assets/CRMimages/check_in_icon1.svg",1,"icon-img"],["class","summary-subtitle",4,"ngIf"],["src","../../assets/CRMimages/check_out-icon.svg",1,"icon-img"],[1,"checkin-card"],[1,"checkin-time-col"],["name","time-outline",1,"time-icon","font-colorBlue"],[1,"checkin-time-text"],["class","checkin-status-col",3,"click",4,"ngIf"],["class","d-flex ion-justify-content-end","style","align-items: center",4,"ngIf"],[1,"checkin-status-col",3,"click"],[1,"checkin-status-text","text_color_green"],[1,"photo-icon-wrapper",2,"background","#ffffff"],[1,"phoion-imgto-icon",3,"src"],[1,"d-flex","ion-justify-content-end",2,"align-items","center"],["class","font-size14-familyPoppins text_color_red",4,"ngIf"],[2,"padding","2px","margin-left","5px","background","rgba(255, 240, 242, 1)"],["src","../assets/CRMimages/check_out-icon.svg",2,"width","20px"],["size","1"],["name","location-outline",1,"location-icon","font-colorBlue"],[1,"location-text"],["name","desktop-outline",1,"location-icon","font-colorBlue",2,"font-size","17px"],[1,"nodata"],[1,"checkin-header"],[1,"checkin-title"],[1,"title-text"],["src","../../assets/CRMimages/check_in_icon1.svg",1,"checkin-icon"],["size","2",1,"content_center","close-icon",3,"click"],["name","close"],[1,"checkin-image-container",2,"background","#ffffff"],[1,"checkin-image",3,"src"],[1,"checkin-content"],[1,"center-vertically","date"],["name","time-outline",1,"iconColor_fontSize"],[1,"center-vertically","time","justify-end"],["name","calendar-outline",1,"iconColor_fontSize"],["size","1",1,"location-icon"],["name","location-outline",1,"iconColor_fontSize"],[1,"address"],[1,"modal-container"],[1,"date-range-wrapper"],[1,"title"],[1,"date-inputs"],[1,"date-box",3,"click"],["class","error-text",4,"ngIf"],["expand","block",1,"confirm-btn",3,"click","disabled"],[1,"error-text"],["presentation","date",3,"ngModelChange","ionChange","ngModel"],["presentation","date",3,"ngModelChange","ionChange","min","ngModel"]],template:function(n,e){if(1&n){const a=t.RV6();t.DNE(0,U,2,0,"div",7)(1,H,1,0,"app-header",8)(2,J,19,4,"ion-row",9),t.j41(3,"ion-popover",10),t.DNE(4,Q,22,8,"ng-template"),t.k0s(),t.DNE(5,K,3,2,"ion-row",11),t.j41(6,"p-calendar",12,0),t.mxI("ngModelChange",function(c){return t.eBV(a),t.DH7(e.dateRange,c)||(e.dateRange=c),t.Njj(c)}),t.bIt("onSelect",function(){return t.eBV(a),t.Njj(e.selectDateFilter("custom"))}),t.k0s(),t.DNE(8,W,6,1,"ion-row",13)(9,Pt,4,2,"ion-content",14),t.j41(10,"ion-modal",15,1),t.DNE(12,Rt,23,10,"ng-template"),t.k0s(),t.j41(13,"ion-modal",16,2),t.bIt("ionModalDidDismiss",function(c){return t.eBV(a),t.Njj(e.onCustomDateModalDismiss(c))}),t.DNE(15,yt,19,6,"ng-template"),t.k0s(),t.j41(16,"ion-modal",17,3),t.bIt("ionBreakpointDidChange",function(){return t.eBV(a),t.Njj(e.onmodaldismiss())}),t.DNE(18,Mt,1,1,"ng-template"),t.k0s(),t.j41(19,"ion-modal",17,4),t.bIt("ionBreakpointDidChange",function(){return t.eBV(a),t.Njj(e.onmodaldismiss())}),t.DNE(21,wt,1,2,"ng-template"),t.k0s(),t.DNE(22,jt,1,0,"app-common-footer",8)}2&n&&(t.Y8G("ngIf",e.showSpinner),t.R7$(),t.Y8G("ngIf",!e.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",!e.isOnCallDetailsPage),t.R7$(),t.Y8G("backdropDismiss",!(e.dateRange.fromdate&&!e.dateRange.todate)),t.R7$(2),t.Y8G("ngIf",e.isAdmin&&"true"!=e.filteredParams.isExecCheckInOutDetails&&!e.isOnCallDetailsPage),t.R7$(),t.Y8G("ngStyle",t.lJ4(22,z))("hideOnDateTimeSelect",!0)("touchUI",!0),t.R50("ngModel",e.dateRange),t.Y8G("dateFormat","yy-mm-dd"),t.R7$(2),t.Y8G("ngIf","custom"==e.filteredParams.isDateFilter),t.R7$(),t.Y8G("ngIf",!e.isOnCallDetailsPage),t.R7$(4),t.Y8G("breakpoints",t.lJ4(23,L))("initialBreakpoint",.3)("backdropDismiss",!(null!=e.dateRange&&e.dateRange.fromdate&&null!=e.dateRange&&e.dateRange.todate)),t.R7$(3),t.Y8G("breakpoints",t.lJ4(24,y))("initialBreakpoint",.5)("keepContentsMounted",!1),t.R7$(3),t.Y8G("breakpoints",t.lJ4(25,y))("initialBreakpoint",.5)("keepContentsMounted",!1),t.R7$(3),t.Y8G("ngIf",!e.isEmployee))},dependencies:[p.YU,p.Sq,p.bT,p.B3,d.Jm,d.hU,d.W9,d.A9,d.eU,d.iq,d.KW,d.ln,d.Sb,d.CF,d.Je,P.ms,T.a,$.l,I.Vv,v.BC,v.vS,p.vh],styles:[".full-bg[_ngcontent-%COMP%]{--background: #f9f9f9;--padding-start: 0;--padding-top: 0;--padding-end: 0;--padding-bottom: 0}.date-filter-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0}.date-filter-row[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:2px}.date-filter-item[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:2px}.icon-button-container[_ngcontent-%COMP%]{background-color:#fff;padding:0;margin:5px;border-radius:2px}.datefiltericon[_ngcontent-%COMP%]{width:23px}.icon-ion[_ngcontent-%COMP%]{font-size:20px}.date-time-row[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:0 10px}.checkin-card[_ngcontent-%COMP%]{background:#fff;margin:10px;border-left:4px solid #0b7ab2;border-radius:2px}.checkin-time-col[_ngcontent-%COMP%]{display:flex;align-items:center}.time-icon[_ngcontent-%COMP%]{padding-right:5px;font-size:20px}.checkin-time-text[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins,sans-serif;font-weight:500}.checkin-status-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.checkin-status-text[_ngcontent-%COMP%]{font-size:14px;font-family:Poppins,sans-serif}.location-icon[_ngcontent-%COMP%]{font-size:20px}.location-text[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins,sans-serif}.photo-icon-wrapper[_ngcontent-%COMP%]{width:10vw;height:10vw;border-radius:50%;overflow:hidden;margin-left:5px}.photo-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.filterButtons[_ngcontent-%COMP%]{border:1px solid #0b7ab2;color:#282828;font-family:Poppins;font-size:14px;text-transform:capitalize;border-radius:4px;margin:0;--padding-bottom: 0;--padding-end: 6px;--padding-start: 6px;--padding-top: 0;height:20px;min-height:32px}ion-modal.checkInPreviewModal[_ngcontent-%COMP%]{--height: auto;--border-radius: 4px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);padding:20px}.date[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .location-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:8px;font-size:20px;color:#0b7ab2}  p-dropdown.exec_css .p-inputwrapper span{padding:5px;font-family:Poppins}  p-dropdown.exec_css .p-inputwrapper span{padding:5px;font-size:12px;font-family:Poppins;color:#0b7ab2}  p-dropdown.exec_css .p-inputwrapper{width:100%!important;border:.5px #0b7ab2 solid;border-radius:4px}  p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px;color:#0b7ab2}  .exec_css .p-element .p-dropdown-item{padding:5px!important;font-size:12px}.checkin-header[_ngcontent-%COMP%]{background:#c4ffbd}.checkin-title[_ngcontent-%COMP%]{color:#0a6000;font-size:22px;display:flex;align-items:center;justify-content:flex-start}.title-text[_ngcontent-%COMP%]{padding-right:5px}.checkin-icon[_ngcontent-%COMP%]{width:25px}.close-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px}.checkin-image-container[_ngcontent-%COMP%]{height:55vw}.checkin-image[_ngcontent-%COMP%]{object-fit:fill;width:100%;height:100%}.checkin-content[_ngcontent-%COMP%]{padding:5px}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.work-summary-card[_ngcontent-%COMP%]{margin:10px;background:#fff;padding:4px;border-radius:4px}.summary-header[_ngcontent-%COMP%]{padding-bottom:5px;line-height:.4;border-bottom:.8px dotted rgb(199,199,199)}.summary-body[_ngcontent-%COMP%]{line-height:.4;padding-top:5px}.row-space-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.absent[_ngcontent-%COMP%]{color:#b63844;background:#ffc2c8;border-radius:2px;padding:0 4px}.summary-title[_ngcontent-%COMP%]{color:#000;font-size:14px;font-family:Poppins,sans-serif}.summary-subtitle[_ngcontent-%COMP%]{color:#727272;font-size:12px;font-family:Poppins,sans-serif}.icon-text[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-img[_ngcontent-%COMP%]{width:21px;padding-left:5px}.nodata[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh}.status-dot.online[_ngcontent-%COMP%]{background-color:#28a745}.status-dot.offline[_ngcontent-%COMP%]{background-color:#dc3545}.status-dot[_ngcontent-%COMP%]{width:9px;height:9px;border-radius:50%;display:inline-block;margin-left:2px}  p-calendar input{top:15px;left:10px;position:absolute!important;opacity:0!important;pointer-events:none!important;height:0!important;width:0!important;display:none!important}  .p-datepicker{position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}  .p-datepicker table td>span.p-highlight{color:#e6eaed!important;background:#0b7ab2!important}p-calendar[_ngcontent-%COMP%]{display:none!important}.to-date-calendar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%], .from-date-calendar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:20px}.to-date-calendar[_ngcontent-%COMP%]   .calendar-div[_ngcontent-%COMP%], .from-date-calendar[_ngcontent-%COMP%]   .calendar-div[_ngcontent-%COMP%]{border:1px solid rgba(73,73,77,.3);border-radius:4px;padding:6px;font-size:12px;font-family:Poppins}.isBeforeselectingDate[_ngcontent-%COMP%]{color:#b8b9ba;font-weight:100}.pointerEvent[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.date-range-wrapper[_ngcontent-%COMP%]{padding:20px 10px}.title[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;margin-bottom:16px}.date-inputs[_ngcontent-%COMP%]{display:flex;gap:12px}.date-box[_ngcontent-%COMP%]{flex:1;background:#f6f9fc;border-radius:8px;padding:10px}.date-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#8a8a8a;display:block;margin-bottom:4px}.date-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#000}.confirm-btn[_ngcontent-%COMP%]{--border-radius: 24px;--background: #0b7ab2;min-height:5px!important;width:100%;padding:0 10px;font-family:Poppins}  .confirm-btn::part(native){padding:12px}.error-text[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins;color:red}ion-datetime[_ngcontent-%COMP%]{width:100%;max-width:100%;--background: #ffffff}ion-datetime[_ngcontent-%COMP%]::part(calendar){width:100%!important;height:100%!important}ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: 1.4}"]}),r})(),Ft=(()=>{var i;class r{}return(i=r).\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.MD,u.iI.forChild([{path:"",component:Ot}]),d.bv,P.kr,j.iV,O.G,I.rO,w.aI,v.YN]}),r})()}}]);