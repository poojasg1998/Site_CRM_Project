"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9793],{9793:(j,P,u)=>{u.r(P),u.d(P,{loginModule:()=>K});var i=u(177),O=u(3477),_=u(5933),b=u(9417),v=u(467),k=u(8032),w=u.n(k),y=u(5788),L=u(8941),A=u(3952),C=u.n(A),I=u(1587),e=u(4438),D=u(2921),T=u(3317),d=u(9451),t=u(7157),o=u(2449);const r=()=>({length:4,allowNumbersOnly:!0});function g(c,f){1&c&&(e.j41(0,"div",5),e.nrm(1,"ion-img",6),e.k0s())}function F(c,f){if(1&c){const a=e.RV6();e.j41(0,"ion-col",11),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return n.isOtpSend=!1,e.Njj(n.loginData.number="")}),e.nrm(1,"ion-img",12),e.k0s()}}function N(c,f){if(1&c){const a=e.RV6();e.j41(0,"ion-row",22)(1,"ion-item",23)(2,"ion-input",24,1),e.bIt("input",function(n){e.eBV(a);const l=e.XpG(4);return e.Njj(l.setCustomValidity(n))}),e.mxI("ngModelChange",function(n){e.eBV(a);const l=e.XpG(4);return e.DH7(l.loginData.number,n)||(l.loginData.number=n),e.Njj(n)}),e.k0s()()()}if(2&c){const a=e.XpG(4);e.R7$(2),e.R50("ngModel",a.loginData.number)}}function E(c,f){if(1&c){const a=e.RV6();e.j41(0,"span")(1,"ion-row",22)(2,"ion-item",23)(3,"ion-input",25),e.mxI("ngModelChange",function(n){e.eBV(a);const l=e.XpG(4);return e.DH7(l.loginData.username,n)||(l.loginData.username=n),e.Njj(n)}),e.k0s()()(),e.j41(4,"ion-row",22)(5,"ion-item",23)(6,"ion-input",26),e.mxI("ngModelChange",function(n){e.eBV(a);const l=e.XpG(4);return e.DH7(l.loginData.password,n)||(l.loginData.password=n),e.Njj(n)}),e.k0s(),e.j41(7,"ion-icon",27),e.bIt("click",function(){e.eBV(a);const n=e.XpG(4);return e.Njj(n.togglePasswordVisibility())}),e.k0s()()()()}if(2&c){const a=e.XpG(4);e.R7$(3),e.R50("ngModel",a.loginData.username),e.R7$(3),e.R50("ngModel",a.loginData.password),e.Y8G("type",a.passwordType),e.R7$(),e.Y8G("name",a.isPasswordVisible?"eye-outline":"eye-off-outline")}}function R(c,f){if(1&c){const a=e.RV6();e.j41(0,"form",14,0),e.bIt("ngSubmit",function(){e.eBV(a);const n=e.XpG(3);return e.Njj(n.login())}),e.j41(2,"ion-row",15)(3,"span",16),e.DNE(4,N,4,1,"ion-row",17)(5,E,8,4,"span",4),e.j41(6,"ion-row",18)(7,"ion-col",19),e.bIt("click",function(){e.eBV(a);const n=e.XpG(3);return e.Njj(n.toggleUsernameVisibility())}),e.EFF(8),e.k0s()(),e.j41(9,"ion-row",20)(10,"ion-button",21),e.EFF(11,"Login"),e.k0s()()()()()}if(2&c){const a=e.XpG(3);e.R7$(4),e.Y8G("ngIf",!a.showUsernameInput),e.R7$(),e.Y8G("ngIf",a.showUsernameInput),e.R7$(3),e.SpI(" ",a.showUsernameInput?"Login with OTP":"Login with Username/Password","")}}function V(c,f){if(1&c&&(e.j41(0,"span"),e.DNE(1,R,12,3,"form",13),e.k0s()),2&c){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",!a.isOtpSend)}}function G(c,f){if(1&c){const a=e.RV6();e.j41(0,"ion-col")(1,"span",39),e.EFF(2," Didn\u2019t received code ? "),e.k0s(),e.j41(3,"span",40),e.bIt("click",function(){e.eBV(a);const n=e.XpG(4);return e.Njj(n.resendOtp())}),e.EFF(4," Resend"),e.k0s()()}}function B(c,f){if(1&c){const a=e.RV6();e.j41(0,"ion-row",29)(1,"span",30)(2,"ion-row")(3,"ion-col",31),e.EFF(4,"OTP Verification"),e.k0s()(),e.j41(5,"ion-row")(6,"ion-col",32),e.EFF(7,"Enter the verification code we just sent on your Mobile Number."),e.k0s()(),e.j41(8,"form",33,0),e.bIt("ngSubmit",function(){e.eBV(a);const n=e.XpG(3);return e.Njj(n.otpVerification())}),e.j41(10,"ion-row")(11,"ion-row",34)(12,"ion-col",35),e.EFF(13),e.k0s()(),e.j41(14,"ion-row",34)(15,"ng-otp-input",36),e.bIt("onInputChange",function(n){e.eBV(a);const l=e.XpG(3);return e.Njj(l.onOtpChange(n))}),e.k0s()()(),e.j41(16,"ion-row",20)(17,"ion-button",37),e.EFF(18,"Verify"),e.k0s()()()(),e.j41(19,"span",38)(20,"ion-row"),e.DNE(21,G,5,0,"ion-col",4),e.k0s()()()}if(2&c){const a=e.sdS(9),s=e.XpG(3);e.R7$(13),e.JRh(s.display),e.R7$(2),e.Y8G("config",e.lJ4(4,r)),e.R7$(2),e.Y8G("disabled",!a.valid),e.R7$(4),e.Y8G("ngIf",s.otpResend)}}function U(c,f){if(1&c&&(e.j41(0,"span"),e.DNE(1,B,22,5,"ion-row",28),e.k0s()),2&c){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.isOtpSend)}}function X(c,f){if(1&c&&(e.j41(0,"ion-app",7)(1,"ion-row"),e.DNE(2,F,2,0,"ion-col",8),e.j41(3,"ion-col",9),e.nrm(4,"ion-img",10),e.k0s()(),e.DNE(5,V,2,1,"span",4)(6,U,2,1,"span",4),e.k0s()),2&c){const a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.isOtpSend),e.R7$(),e.Y8G("size",a.isOtpSend?"6":"12"),e.R7$(2),e.Y8G("ngIf",!a.isFingerPrintEnabled&&!a.enableFingerPrintModal),e.R7$(),e.Y8G("ngIf",!a.isFingerPrintEnabled&&!a.enableFingerPrintModal)}}function z(c,f){if(1&c){const a=e.RV6();e.j41(0,"div")(1,"ion-row")(2,"ion-col",41),e.nrm(3,"ion-img",10),e.k0s()(),e.j41(4,"div",42)(5,"ion-row")(6,"ion-col",43),e.nrm(7,"ion-img",44),e.k0s()(),e.j41(8,"ion-row",45)(9,"ion-col",46)(10,"span"),e.EFF(11,"Enable Fingerprint"),e.k0s(),e.j41(12,"p"),e.EFF(13,"If you enable touch ID, you don\u2019t need to enter your password when you login"),e.k0s()()()(),e.j41(14,"ion-row",47)(15,"ion-col",46)(16,"h2",48),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.fingerPrintEnable())}),e.EFF(17,"Continue"),e.k0s(),e.j41(18,"p",48),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return n.enableFingerPrintModal=!1,e.Njj(n.authService.login())}),e.EFF(19,"Not Now"),e.k0s()()()()}if(2&c){const a=e.XpG();e.R7$(2),e.Y8G("size",a.isOtpSend?"6":"12")}}function Y(c,f){if(1&c){const a=e.RV6();e.j41(0,"div")(1,"ion-header",49)(2,"ion-row")(3,"ion-col",41),e.nrm(4,"ion-img",10),e.k0s()()(),e.j41(5,"div",50)(6,"div",51)(7,"ion-row",52)(8,"ion-col",53),e.nrm(9,"ion-img",54),e.j41(10,"span"),e.EFF(11),e.k0s(),e.j41(12,"ion-input",55),e.mxI("ngModelChange",function(n){e.eBV(a);const l=e.XpG();return e.DH7(l.loggedPassword,n)||(l.loggedPassword=n),e.Njj(n)}),e.k0s()()(),e.j41(13,"ion-row",56)(14,"ion-col")(15,"h2",48),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return n.isFingerPrintEnabled=!1,e.Njj(n.navigateToDashBoard(n.loggedMailId,n.loggedPassword))}),e.EFF(16," Login"),e.k0s()()()(),e.j41(17,"div",57),e.nrm(18,"div",58),e.j41(19,"span",59),e.EFF(20,"OR"),e.k0s(),e.nrm(21,"div",58),e.k0s(),e.j41(22,"div",60),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.loginwithFingerPrint())}),e.nrm(23,"ion-img",61),e.j41(24,"p",62),e.EFF(25,"Login with Touch ID"),e.k0s()()()()}if(2&c){const a=e.XpG();e.R7$(3),e.Y8G("size",a.isOtpSend?"6":"12"),e.R7$(5),e.Y8G("size",a.isOtpSend?"6":"12"),e.R7$(3),e.JRh(a.loggedMailId),e.R7$(),e.R50("ngModel",a.loggedPassword),e.Y8G("type",a.passwordType)}}let $=(()=>{var c;class f{constructor(s,n,l,m,h,p,x,S,M,W){this.authService=s,this.mandateService=n,this.activeroute=l,this.router=m,this.sharedService=h,this.cdRef=p,this.platform=x,this.alertCtrl=S,this.biometricService=M,this.modalCtrl=W,this.oneSignalAppId="b31dea3b-b87e-4436-9881-10265e024310",this.isOneSignalSetupAttempted=!1,this.passwordType="password",this.isPasswordVisible=!1,this.showUsernameInput=!1,this.isOtpSend=!1,this.loginData={username:"",password:"",number:"",otpmodel:""},this.otpResend=!1,this.loggedMailId=localStorage.getItem("Mail"),this.showSpinner=!1,this.enableFingerPrintModal=!1,this.isFingerPrintEnabled=!1,this.platform.ready().then(()=>{})}ngOnInit(){this.activeroute.queryParamMap.subscribe(s=>{this.isFingerPrintEnabled="true"==localStorage.getItem("useBiometric"),this.isOtpSend=!1,this.loginData.number="",this.showUsernameInput=!1,this.isPasswordVisible=!1,"true"==localStorage.getItem("isLoggedIn")?this.authService.login():this.showSpinner=!1})}togglePasswordVisibility(){this.passwordType="password"===this.passwordType?"text":"password",this.isPasswordVisible=!this.isPasswordVisible}toggleUsernameVisibility(){this.loginData.username="",this.loginData.password="",this.isPasswordVisible=!1,this.passwordType="password",this.showUsernameInput=!this.showUsernameInput}timer(s){let n=s,l="0",m=30;const h=s<10?"0":"";this.timerInterval=setInterval(()=>{n--,0!=m?m--:m=59,l=m<10?"0"+m:m,this.display=`${h}${Math.floor(n/60)}:${l}`,0==n&&(this.otpResend=!0,clearInterval(this.timerInterval))},1e3)}moveFocus(s,n,l,m){s.target.value.length<1&&l?l.setFocus():n&&s.target.value.length>0&&n.setFocus()}onOtpChange(s){this.otp=s,this.loginData.otpmodel=s}resendOtp(){this.otpResend=!1,this.showUsernameInput=!1,this.login()}login(){this.showSpinner=!0,localStorage.getItem("UserId"),localStorage.removeItem(""),this.showUsernameInput?(this.isOtpSend=!1,this.navigateToDashBoard(this.loginData.username,this.loginData.password)):(this.timer(30),this.sharedService.loginotpsend(this.loginData.number).subscribe(n=>{"True"==n.status?(this.showSpinner=!1,this.isOtpSend=!0):this.sharedService.loginotpsend1(this.loginData.number).subscribe(l=>{"True"==l.status?(this.isOtpSend=!0,this.showSpinner=!1):(w().fire({title:"Number Not Registered",text:"Please check your number",icon:"error",confirmButtonText:"ok",heightAuto:!1,customClass:{container:"my-swal-error"}}),this.loginData.number="",this.showSpinner=!1)})}))}setCustomValidity(s){const n=s.target;n.setCustomValidity(n.validity.patternMismatch?"Please enter a valid 10-digit number.":"")}otpVerification(){this.showSpinner=!0;const s=this.loginData.otpmodel;""==s?(w().fire({title:"Oops Something Error!",text:"Please enter the OTP code before submitting.",icon:"error",showConfirmButton:!1,heightAuto:!1,customClass:{container:"my-swal-error"}}),this.showSpinner=!1):this.sharedService.login_otp_validate(s,this.loginData.number).subscribe(n=>{if("True"==n.status){this.showSpinner=!1;var l=n.success[0];localStorage.setItem("isLoggedIn","true"),"10006"==n.success[0].department_IDFK?(this.getVersionCode(),localStorage.setItem("Department",n.success[0].department_IDFK),localStorage.setItem("Mail",n.success[0].email),localStorage.setItem("UserId",n.success[0].executives_FKID),localStorage.setItem("Name",n.success[0].name),this.sharedService.isMenuOpen=!1,this.sharedService.getVersionCode(n.details[0].executives_FKID,n.session_id).subscribe(m=>{"0"!=m.Executives[0].active_status?w().fire({title:"Blocked",text:"Your account has been blocked",confirmButtonText:"OK",heightAuto:!1,allowOutsideClick:!1}).then(h=>{Object.keys(localStorage).forEach(p=>{"Mail"!==p&&"Password"!==p&&"useBiometric"!==p&&localStorage.removeItem(p)}),this.authService.logout()}):this.isNewVersionAvailable(this.versionCode,m.versioncode[0].version_code)?w().fire({title:"Time to Catch Up",text:"Update to the latest version & enjoy a seamless experience",confirmButtonText:"Update Now",heightAuto:!1,allowOutsideClick:!1}).then(h=>{h.isConfirmed&&(window.location.href="https://play.google.com/store/apps/details?id=io.lead247")}):this.router.navigate(["employeeAttendance"],{queryParams:{fromdate:(new Date).toLocaleDateString("en-CA"),todate:(new Date).toLocaleDateString("en-CA"),execid:localStorage.getItem("UserId"),isDateFilter:"today"}})})):this.navigateToDashBoard(l.email,l.password)}else this.loginData.otpmodel="",this.showSpinner=!1,w().fire({title:"Oops Something Error!",text:"Its Not a valid OTP / OTP Expired!",icon:"error",showConfirmButton:!1,heightAuto:!1,customClass:{container:"my-swal-error"}}).then(function(){});this.otpInput.setValue("")},n=>{this.showSpinner=!1,console.log("Connection Failed")})}getRandomHexColor(){return"#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}getVersionCode(){var s=this;return(0,v.A)(function*(){const n=yield L.q.getInfo();s.versionCode=n.version})()}navigateToDashBoard(s,n){this.showSpinner=!0,this.getVersionCode(),this.sharedService.setloginState(""),this.sharedService.getlogin(s,n,"Mobile","Android").subscribe(h=>{"True"==h.status?(this.cdRef.detectChanges(),localStorage.setItem("Name",h.details[0].name),localStorage.setItem("UserId",h.details[0].executives_FKID),localStorage.setItem("Password",h.details[0].password),localStorage.setItem("Mail",h.details[0].email),localStorage.setItem("Role",h.details[0].role_IDFK),localStorage.setItem("Number",h.details[0].number),localStorage.setItem("prop_suggestion",h.details[0].prop_suggestion),localStorage.setItem("Department",h.details[0].department_IDFK),localStorage.setItem("PropertyId",h.details[0].mandate_propidfk),localStorage.setItem("RoleType",h.details[0].role_type),localStorage.setItem("session_id",h.session_id),localStorage.setItem("direct_inhouse",h.details[0].direct_inhouse),"28773"===h.details[0].mandate_propidfk&&localStorage.setItem("ranavPropId","28773"),this.sharedService.getVersionCode(h.details[0].executives_FKID,h.session_id).subscribe(p=>{"0"!=p.Executives[0].active_status?w().fire({title:"Blocked",text:"Your account has been blocked",confirmButtonText:"OK",heightAuto:!1,allowOutsideClick:!1}).then(x=>{Object.keys(localStorage).forEach(S=>{"Mail"!==S&&"Password"!==S&&"useBiometric"!==S&&localStorage.removeItem(S)}),this.authService.logout()}):this.isNewVersionAvailable(this.versionCode,p.versioncode[0].version_code)?w().fire({title:"Time to Catch Up",text:"Update to the latest version & enjoy a seamless experience",confirmButtonText:"Update Now",heightAuto:!1,allowOutsideClick:!1}).then(x=>{x.isConfirmed&&(window.location.href="https://play.google.com/store/apps/details?id=io.lead247")}):"10005"==h.details[0].department_IDFK?this.authService.login():setTimeout(()=>{localStorage.getItem("useBiometric")?"true"==localStorage.getItem("useBiometric")&&this.authService.login():(this.showSpinner=!1,this.enableFingerPrintModal=!0)},1e3)}),this.platform.ready().then(()=>{this.platform.is("hybrid")&&this.initializeOneSignal(h.details[0].executives_FKID.toString())})):(this.sharedService.setloginState("crm_cpclient_login"),setTimeout(()=>{this.sharedService.getlogin(s,n,"","").subscribe(p=>{"True"===p.status?(localStorage.setItem("Name",p.details[0].client_name),localStorage.setItem("UserId",p.details[0].executives_FKID),localStorage.setItem("Password","xxxxxxx"),localStorage.setItem("Mail",p.details[0].client_email),localStorage.setItem("Role",p.details[0].role_IDFK),localStorage.setItem("Department",p.details[0].department_IDFK),localStorage.setItem("PropertyId",p.details[0].mandate_propidfk),localStorage.setItem("RoleType",p.details[0].role_type),localStorage.setItem("contrllerName",p.details[0].client_controller),localStorage.setItem("RcontrllerName",p.details[0].client_controller),localStorage.setItem("cpId",p.details[0].cp_role),localStorage.setItem("cityId",p.details[0].client_cityid),localStorage.setItem("direct_inhouse",p.details[0].direct_inhouse),this.authService.setadminControllerState(localStorage.getItem("contrllerName")),this.showSpinner=!1,this.sharedService.getVersionCode(p.details[0].executives_FKID,"").subscribe(x=>{"0"!=x.Executives[0].active_status?w().fire({title:"Blocked",text:"Your account has been blocked",confirmButtonText:"OK",heightAuto:!1,allowOutsideClick:!1}).then(S=>{Object.keys(localStorage).forEach(M=>{"Mail"!==M&&"Password"!==M&&"useBiometric"!==M&&localStorage.removeItem(M)}),this.authService.logout()}):this.isNewVersionAvailable(this.versionCode,x.versioncode[0].version_code)?w().fire({title:"Time to Catch Up",text:"Update to the latest version & enjoy a seamless experience",confirmButtonText:"Update Now",heightAuto:!1,allowOutsideClick:!1}).then(S=>{S.isConfirmed&&(window.location.href="https://play.google.com/store/apps/details?id=io.lead247")}):setTimeout(()=>{localStorage.getItem("useBiometric")?"true"==localStorage.getItem("useBiometric")&&this.authService.login():(this.showSpinner=!1,this.enableFingerPrintModal=!0)},1e3)})):w().fire({title:"Authentication Failed!",text:"Please try again",icon:"error",confirmButtonText:"ok",heightAuto:!1,customClass:{container:"my-swal-error"}}).then(()=>{this.showSpinner=!1,this.isFingerPrintEnabled="true"==localStorage.getItem("useBiometric")})})},0))},h=>{console.log("Connection Failed")})}isNewVersionAvailable(s,n){const l=null==s?void 0:s.split(".").map(p=>parseInt(p)),m=null==n?void 0:n.split(".").map(p=>parseInt(p)),h=Math.max(null==l?void 0:l.length,m.length);for(let p=0;p<h;p++){const x=l[p]||0,S=m[p]||0;if(S>x)return!0;if(S<x)return!1}return!1}initializeOneSignal(s){var n=this;return(0,v.A)(function*(){C().initialize(n.oneSignalAppId);try{C().Notifications.requestPermission(!1).then(function(){var l=(0,v.A)(function*(m){if(!0===m){const h=yield C().User.pushSubscription.id;h&&n.sendPlayerIdToBackend(s,h)}else n.logout()});return function(m){return l.apply(this,arguments)}}())}catch{}try{C().login(s)}catch{}})()}sendPlayerIdToBackend(s,n){var l=this;return(0,v.A)(function*(){n&&s?l.sharedService.onesignalpush({userid:s,subscriberid:n}).subscribe(p=>{"True"===p.status&&w().fire({title:"Notification Permission Granted",text:"Onesignal Player ID Stored Success",icon:"success",heightAuto:!1})},p=>{console.log("Connection Failed")}):console.warn("OneSignal Player ID or User ID is missing, cannot send to backend.")})()}logout(){this.sharedService.logOut(localStorage.getItem("session_id"),localStorage.getItem("UserId")).subscribe(()=>{}),Object.keys(localStorage).forEach(s=>{"Mail"!==s&&"Password"!==s&&"useBiometric"!==s&&localStorage.removeItem(s)}),this.authService.logout(),this.router.navigate(["/"])}loginWithBiometrics(s){var n=this;return(0,v.A)(function*(){s&&(yield n.biometricService.isBiometricAvailable())&&n.alertpopup()})()}ionViewDidEnter(){this.isFingerPrintEnabled="true"==localStorage.getItem("useBiometric")}ionViewDidEnter1(){}loginWithCredentials(s,n){}alertpopup(){var s=this;return(0,v.A)(function*(){var l;(yield I.qG.isAvailable()).isAvailable&&s.alertCtrl.create({header:"Enable Fingerprint Login?",message:"Do you want to use fingerprint for future logins?",buttons:[{text:"No"},{text:"Yes",handler:(l=(0,v.A)(function*(){try{s.fingerPrintEnable()}catch(m){console.log("Biometric setup failed",m)}}),function(){return l.apply(this,arguments)})}]}).then(l=>l.present())})()}fingerPrintEnable(){var s=this;return(0,v.A)(function*(){(yield I.qG.isAvailable()).isAvailable?yield I.qG.verifyIdentity({reason:"Please authenticate to login",fallbackTitle:"Use device passcode"}).then((0,v.A)(function*(){s.showSpinner=!0,yield s.biometricService.saveCredentials(s.loginData.username,s.loginData.password),localStorage.setItem("useBiometric","true"),s.authService.login()})).catch(l=>{s.showSpinner=!1,s.enableFingerPrintModal="Cancel"!=(null==l?void 0:l.message)&&"Fingerprint operation cancelled"!=(null==l?void 0:l.message)}):alert("Biometric login is unavailable. Please set it up or wait if it\u2019s locked, or use your password instead.")})()}loginwithFingerPrint(){var s=this;return(0,v.A)(function*(){(yield I.qG.isAvailable()).isAvailable?yield I.qG.verifyIdentity({reason:"Please authenticate to login",fallbackTitle:"Use device passcode"}).then((0,v.A)(function*(){const l=yield s.biometricService.getCredentials();s.navigateToDashBoard(l.username,l.password)})).catch(l=>{s.showSpinner=!1,s.isFingerPrintEnabled="true"==localStorage.getItem("useBiometric")}):alert("Biometric login is unavailable. Please set it up or wait if it\u2019s locked, or use your password instead.")})()}}return(c=f).\u0275fac=function(s){return new(s||c)(e.rXU(D.P),e.rXU(T.a),e.rXU(O.nX),e.rXU(O.Ix),e.rXU(d.d),e.rXU(e.gRc),e.rXU(t.OD),e.rXU(_.hG),e.rXU(o.c),e.rXU(_.W3))},c.\u0275cmp=e.VBU({type:c,selectors:[["app-login"]],viewQuery:function(s,n){if(1&s&&e.GBs(y.gj,5),2&s){let l;e.mGM(l=e.lsd())&&(n.otpInput=l.first)}},decls:5,vars:4,consts:[["otpForm","ngForm"],["numberInput","ngModel"],["class","content_center loader",4,"ngIf"],["class","mainSection",4,"ngIf"],[4,"ngIf"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[1,"mainSection"],["class","backImage","size","2",3,"click",4,"ngIf"],[1,"content_center","homes247logo",3,"size"],["src","../../assets/CRMimages/siteCRMlogo.png"],["size","2",1,"backImage",3,"click"],["src","../../assets/CRMimages/back.svg"],["ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["ngNativeValidate","",3,"ngSubmit"],[1,"page-background"],[1,"loginSection"],["class","center-content",4,"ngIf"],[1,"center-content","font-colorGray","font-weight500","font-size12-familyPoppins"],[1,"ion-text-right","paddingZero",3,"click"],[1,"marginTop48"],["fill","clear","type","submit",1,"custom-login-button"],[1,"center-content"],["no-lines","",1,"password-input"],["inputmode","numeric","name","number","no-lines","","placeholder","Enter Register Number","pattern","^[0-9]{10}$","required","",1,"borderNone",3,"input","ngModelChange","ngModel"],["name","userName","no-lines","","placeholder","Username","required","",1,"borderNone",3,"ngModelChange","ngModel"],["name","password","no-lines","","placeholder","Password","required","",1,"borderNone",3,"ngModelChange","ngModel","type"],["slot","end",3,"click","name"],["class","otpSection",4,"ngIf"],[1,"otpSection"],[1,"span1"],[1,"ion-tex-left","otpValidation"],[1,"custom-col"],["ngNativeValidat","",3,"ngSubmit"],[2,"width","100%"],[1,"ion-text-center",2,"display","flex","justify-content","center !important","align-items","center !important"],[2,"width","100%","display","flex","align-items","center","justify-content","center",3,"onInputChange","config"],["fill","clear","type","submit",1,"custom-login-button",3,"disabled"],[1,"span2"],[1,"otpreceivedText"],[1,"otpResendText",3,"click"],[1,"content_center","homes247logo","mb-0","mt-2",3,"size"],[2,"display","flex","flex-direction","column","justify-content","center","height","100vw"],[1,"content_center"],["src","../../assets/CRMimages/fingerPrint-icon.svg",2,"width","35%"],[1,"enable-text"],[1,"d-flex","align-items-center","justify-content-center","flex-column"],[1,"continue-notNow-row"],[3,"click"],[2,"box-shadow","none"],[1,"login-container"],[1,"login-form-wrapper"],[1,"m-4","mb-1"],[1,"d-flex","align-items-center","justify-content-center","flex-column",3,"size"],["src","../../assets/CRMimages/login-profile-icon.svg"],["name","password","no-lines","","placeholder","Password","required","",1,"passwordInput","mt-4","ml-2","mr-2",3,"ngModelChange","ngModel","type"],[1,"login-btn-row","mx-5"],[1,"or-divider","d-flex","align-items-center","my-3","mx-4"],[1,"flex-grow-1","border-top"],[1,"px-2","text-muted","small"],[1,"fingerprint-wrapper","d-flex","align-items-center","justify-content-center","flex-column",3,"click"],["src","../../assets/CRMimages/finger-print-ligin-icon.svg",2,"width","20%"],[1,"loginwith-fingerPrint"]],template:function(s,n){1&s&&(e.DNE(0,g,2,0,"div",2),e.j41(1,"span"),e.DNE(2,X,7,4,"ion-app",3)(3,z,20,1,"div",4)(4,Y,26,5,"div",4),e.k0s()),2&s&&(e.Y8G("ngIf",n.showSpinner),e.R7$(2),e.Y8G("ngIf",!n.isFingerPrintEnabled&&!n.enableFingerPrintModal),e.R7$(),e.Y8G("ngIf",n.enableFingerPrintModal),e.R7$(),e.Y8G("ngIf",n.isFingerPrintEnabled))},dependencies:[i.bT,y.gj,_.U1,_.Jm,_.hU,_.eU,_.iq,_.KW,_.$w,_.uz,_.ln,_.Gw,b.qT,b.BC,b.cb,b.YS,b.R_,b.vS,b.cV],styles:[".page-background[_ngcontent-%COMP%]{background-image:url(backgroundimage.d3912ab4488f1f20.png);background-repeat:no-repeat;background-size:cover;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.center-content[_ngcontent-%COMP%]{width:100%;margin-top:12px}ion-input[_ngcontent-%COMP%]{--ion-font-family: Poppins;font-size:12px;font-weight:300;color:#000;min-height:56px!important;border-radius:8px;border:1px #ececec solid;--highlight-color-focused: none}  ng-otp-input .otp-input{--ion-font-family: Poppins;font-size:12px;font-weight:300;width:60px!important;color:#000;min-height:56px!important;border-radius:8px;border:1px #ececec solid;--highlight-color-focused: none}.page-background[_ngcontent-%COMP%] > ion-row[_ngcontent-%COMP%]{margin:23px}.custom-login-button[_ngcontent-%COMP%]{background:#0b7ab2;border-radius:8px;width:100%;height:56px;color:#fff;font-size:15px;font-family:Poppins;font-weight:600;text-transform:none;position:relative}.password-input[_ngcontent-%COMP%]{border-radius:8px;border:1px #ececec solid;width:100%}.password-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{cursor:pointer}.otpValidation[_ngcontent-%COMP%]{color:#080808;font-size:20px;font-family:Poppins;font-weight:500;line-height:26px;word-wrap:break-word}.custom-col[_ngcontent-%COMP%]{color:#aeaeae;font-size:12px;font-family:Poppins;font-weight:400;line-height:18px;word-wrap:break-word}.otpreceivedText[_ngcontent-%COMP%]{color:#1e232c;font-size:14px;font-family:Poppins;font-weight:500;line-height:19.6px;letter-spacing:.14px;word-wrap:break-word}.otpResendText[_ngcontent-%COMP%]{color:#aeaeae;font-size:14px;font-family:Poppins;font-weight:400;line-height:19.6px}.otpSection[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 20px}.backImage[_ngcontent-%COMP%]{margin:40px 0 0 40px}.backImage[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:24px;height:24px}.homes247logo[_ngcontent-%COMP%]{margin:40px 0 30px}.homes247logo[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:118px;height:22px}.mainSection[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.loginSection[_ngcontent-%COMP%]{padding:75px 25px 0;width:100%}.marginTop48[_ngcontent-%COMP%]{margin-top:48px}.span1[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;flex-grow:1}ion-icon[_ngcontent-%COMP%]{width:20px!important;height:20px!important}.borderNone[_ngcontent-%COMP%]{border:none}  .my-swal-error div:where(.swal2-container) h2:where(.swal2-title){padding:0!important}  .my-swal-error .swal2-popup .swal2-styled.swal2-confirm{border:0;border-radius:.25em;color:#fff;font-size:1.0625em;background-color:#3085d6!important;width:90px}.enable-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins;font-weight:600;font-size:24px}.enable-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:14px;text-align:center;line-height:1.1;color:#7d7d7d}.continue-notNow-row[_ngcontent-%COMP%]{position:fixed;width:100%;bottom:8px}.continue-notNow-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .login-btn-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(180deg,#00a9ff,#0b7ab2);padding:3vw;border-radius:30px;width:100%;text-align:center;font-size:18px;font-family:Poppins;font-weight:400;color:#fff}.continue-notNow-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .login-btn-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;text-align:center;color:#0887c6;font-size:18px}.passwordInput[_ngcontent-%COMP%]{border:.6px solid #dadada;opacity:1;border-radius:4px;font-family:Poppins;font-weight:300;font-size:14px;padding:2px;min-height:42px!important}  .passwordInput label{padding:8px!important}.loginwith-fingerPrint[_ngcontent-%COMP%]{font-family:Poppins;font-weight:300;font-style:Light;font-size:14px;color:#696969}.login-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center}.or-divider[_ngcontent-%COMP%]{flex-shrink:0}.fingerprint-wrapper[_ngcontent-%COMP%]{flex-shrink:0;padding-bottom:20px}"]}),f})(),K=(()=>{var c;class f{}return(c=f).\u0275fac=function(s){return new(s||c)},c.\u0275mod=e.$C({type:c}),c.\u0275inj=e.G2t({imports:[i.MD,y.Ph,O.iI.forChild([{path:"",component:$}]),_.bv,b.X1,b.YN]}),f})()},3952:(j,P)=>{function u(d,t){const o=d.indexOf(t);-1!==o&&d.splice(o,1)}Object.defineProperties(P,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=()=>{};var d,O=((d=O||{})[d.None=0]="None",d[d.Fatal=1]="Fatal",d[d.Error=2]="Error",d[d.Warn=3]="Warn",d[d.Info=4]="Info",d[d.Debug=5]="Debug",d[d.Verbose=6]="Verbose",d);class _{setLogLevel(t){window.cordova.exec(i,i,"OneSignalPush","setLogLevel",[t])}setAlertLevel(t){window.cordova.exec(i,i,"OneSignalPush","setAlertLevel",[t])}}class b{constructor(){this._inAppMessageClickListeners=[],this._willDisplayInAppMessageListeners=[],this._didDisplayInAppMessageListeners=[],this._willDismissInAppMessageListeners=[],this._didDismissInAppMessageListeners=[]}_processFunctionList(t,o){for(let r=0;r<t.length;r++)t[r](o)}addEventListener(t,o){"click"===t?(this._inAppMessageClickListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._inAppMessageClickListeners,g)},i,"OneSignalPush","setInAppMessageClickHandler",[])):"willDisplay"===t?(this._willDisplayInAppMessageListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._willDisplayInAppMessageListeners,g)},i,"OneSignalPush","setOnWillDisplayInAppMessageHandler",[])):"didDisplay"===t?(this._didDisplayInAppMessageListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._didDisplayInAppMessageListeners,g)},i,"OneSignalPush","setOnDidDisplayInAppMessageHandler",[])):"willDismiss"===t?(this._willDismissInAppMessageListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._willDismissInAppMessageListeners,g)},i,"OneSignalPush","setOnWillDismissInAppMessageHandler",[])):"didDismiss"===t&&(this._didDismissInAppMessageListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._didDismissInAppMessageListeners,g)},i,"OneSignalPush","setOnDidDismissInAppMessageHandler",[]))}removeEventListener(t,o){"click"===t?u(this._inAppMessageClickListeners,o):"willDisplay"===t?u(this._willDisplayInAppMessageListeners,o):"didDisplay"===t?u(this._didDisplayInAppMessageListeners,o):"willDismiss"===t?u(this._willDismissInAppMessageListeners,o):"didDismiss"===t&&u(this._didDismissInAppMessageListeners,o)}addTrigger(t,o){this.addTriggers({[t]:o})}addTriggers(t){Object.keys(t).forEach(function(o){"string"!=typeof t[o]&&(t[o]=JSON.stringify(t[o]))}),window.cordova.exec(i,i,"OneSignalPush","addTriggers",[t])}removeTrigger(t){this.removeTriggers([t])}removeTriggers(t){Array.isArray(t)||console.error("OneSignal: removeTriggers: argument must be of type Array"),window.cordova.exec(i,i,"OneSignalPush","removeTriggers",[t])}clearTriggers(){window.cordova.exec(i,i,"OneSignalPush","clearTriggers")}setPaused(t){window.cordova.exec(i,i,"OneSignalPush","setPaused",[t])}getPaused(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","isPaused",[])})}}class v{enter(t,o,r,g){null==r&&(r=i),null==g&&(g=i),window.cordova.exec(r,g,"OneSignalPush","enterLiveActivity",[t,o])}exit(t,o,r){null==o&&(o=i),null==r&&(r=i),window.cordova.exec(o,r,"OneSignalPush","exitLiveActivity",[t])}setPushToStartToken(t,o){window.cordova.exec(i,i,"OneSignalPush","setPushToStartToken",[t,o])}removePushToStartToken(t){window.cordova.exec(i,i,"OneSignalPush","removePushToStartToken",[t])}setupDefault(t){window.cordova.exec(i,i,"OneSignalPush","setupDefaultLiveActivity",[t])}startDefault(t,o,r){window.cordova.exec(i,i,"OneSignalPush","startDefaultLiveActivity",[t,o,r])}}class k{requestPermission(){window.cordova.exec(i,i,"OneSignalPush","requestLocationPermission",[])}setShared(t){window.cordova.exec(i,i,"OneSignalPush","setLocationShared",[t])}isShared(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","isLocationShared",[])})}}class w{constructor(t){this.notificationId=t.notificationId,this.body=t.body,this.title=t.title,this.additionalData=t.additionalData,this.rawPayload="string"==typeof t.rawPayload?JSON.parse(t.rawPayload):t.rawPayload,this.launchURL=t.launchURL,this.sound=t.sound,t.actionButtons&&(this.actionButtons=t.actionButtons),t.groupKey&&(this.groupKey=t.groupKey),t.ledColor&&(this.ledColor=t.ledColor),typeof t.priority<"u"&&(this.priority=t.priority),t.smallIcon&&(this.smallIcon=t.smallIcon),t.largeIcon&&(this.largeIcon=t.largeIcon),t.bigPicture&&(this.bigPicture=t.bigPicture),t.collapseId&&(this.collapseId=t.collapseId),t.groupMessage&&(this.groupMessage=t.groupMessage),t.fromProjectNumber&&(this.fromProjectNumber=t.fromProjectNumber),t.smallIconAccentColor&&(this.smallIconAccentColor=t.smallIconAccentColor),t.lockScreenVisibility&&(this.lockScreenVisibility=t.lockScreenVisibility),t.androidNotificationId&&(this.androidNotificationId=t.androidNotificationId),t.groupedNotifications&&t.groupedNotifications.length&&(this.groupedNotifications=t.groupedNotifications),t.badge&&(this.badge=t.badge),t.category&&(this.category=t.category),t.threadId&&(this.threadId=t.threadId),t.subtitle&&(this.subtitle=t.subtitle),t.templateId&&(this.templateId=t.templateId),t.attachments&&(this.attachments=t.attachments),t.templateName&&(this.templateName=t.templateName),t.mutableContent&&(this.mutableContent=t.mutableContent),t.badgeIncrement&&(this.badgeIncrement=t.badgeIncrement),t.contentAvailable&&(this.contentAvailable=t.contentAvailable),t.relevanceScore&&(this.relevanceScore=t.relevanceScore),t.interruptionLevel&&(this.interruptionLevel=t.interruptionLevel)}display(){window.cordova.exec(i,i,"OneSignalPush","displayNotification",[this.notificationId])}}class y{constructor(t){this.notification=new w(t)}preventDefault(t=!1){window.cordova.exec(i,i,"OneSignalPush","preventDefault",[this.notification.notificationId,t])}getNotification(){return this.notification}}var L=(d=>(d[d.NotDetermined=0]="NotDetermined",d[d.Denied=1]="Denied",d[d.Authorized=2]="Authorized",d[d.Provisional=3]="Provisional",d[d.Ephemeral=4]="Ephemeral",d))(L||{});class A{constructor(){this._permissionObserverList=[],this._notificationClickedListeners=[],this._notificationWillDisplayListeners=[]}_processFunctionList(t,o){for(let r=0;r<t.length;r++)t[r](o)}_setPropertyAndObserver(){window.cordova.exec(o=>{this._permission=o},i,"OneSignalPush","getPermissionInternal"),this.addEventListener("permissionChange",o=>{this._permission=o})}hasPermission(){return this._permission||!1}getPermissionAsync(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getPermissionInternal")})}permissionNative(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","permissionNative",[])})}requestPermission(t){let o=null!=t&&t;return new Promise((r,g)=>{window.cordova.exec(r,g,"OneSignalPush","requestPermission",[o])})}canRequestPermission(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","canRequestPermission",[])})}registerForProvisionalAuthorization(t=i){window.cordova.exec(t,i,"OneSignalPush","registerForProvisionalAuthorization",[])}addEventListener(t,o){if("click"===t)this._notificationClickedListeners.push(o),window.cordova.exec(g=>{this._processFunctionList(this._notificationClickedListeners,g)},i,"OneSignalPush","addNotificationClickListener",[]);else if("foregroundWillDisplay"===t){this._notificationWillDisplayListeners.push(o);const r=g=>{this._notificationWillDisplayListeners.forEach(F=>{F(new y(g))}),window.cordova.exec(i,i,"OneSignalPush","proceedWithWillDisplay",[g.notificationId])};window.cordova.exec(r,i,"OneSignalPush","addForegroundLifecycleListener",[])}else"permissionChange"===t&&(this._permissionObserverList.push(o),window.cordova.exec(g=>{this._processFunctionList(this._permissionObserverList,g)},i,"OneSignalPush","addPermissionObserver",[]))}removeEventListener(t,o){"click"===t?u(this._notificationClickedListeners,o):"foregroundWillDisplay"===t?u(this._notificationWillDisplayListeners,o):"permissionChange"===t&&u(this._permissionObserverList,o)}clearAll(){window.cordova.exec(i,i,"OneSignalPush","clearAllNotifications",[])}removeNotification(t){window.cordova.exec(i,i,"OneSignalPush","removeNotification",[t])}removeGroupedNotifications(t){window.cordova.exec(i,i,"OneSignalPush","removeGroupedNotifications",[t])}}class C{addOutcome(t){window.cordova.exec(i,i,"OneSignalPush","addOutcome",[t])}addUniqueOutcome(t){window.cordova.exec(i,i,"OneSignalPush","addUniqueOutcome",[t])}addOutcomeWithValue(t,o){window.cordova.exec(i,i,"OneSignalPush","addOutcomeWithValue",[t,o])}}class I{constructor(){this._subscriptionObserverList=[]}_processFunctionList(t,o){for(let r=0;r<t.length;r++)t[r](o)}_setPropertiesAndObserver(){window.cordova.exec(g=>{this._id=g},i,"OneSignalPush","getPushSubscriptionId"),window.cordova.exec(g=>{this._token=g},i,"OneSignalPush","getPushSubscriptionToken"),window.cordova.exec(g=>{this._optedIn=g},i,"OneSignalPush","getPushSubscriptionOptedIn"),this.addEventListener("change",g=>{this._id=g.current.id,this._token=g.current.token,this._optedIn=g.current.optedIn})}get id(){return console.warn("OneSignal: This method has been deprecated. Use getIdAsync instead for getting push subscription id."),this._id}get token(){return console.warn("OneSignal: This method has been deprecated. Use getTokenAsync instead for getting push subscription token."),this._token}get optedIn(){return console.warn("OneSignal: This method has been deprecated. Use getOptedInAsync instead for getting push subscription opted in status."),this._optedIn||!1}getIdAsync(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getPushSubscriptionId")})}getTokenAsync(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getPushSubscriptionToken")})}getOptedInAsync(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getPushSubscriptionOptedIn")})}addEventListener(t,o){this._subscriptionObserverList.push(o),window.cordova.exec(g=>{this._processFunctionList(this._subscriptionObserverList,g)},i,"OneSignalPush","addPushSubscriptionObserver",[])}removeEventListener(t,o){u(this._subscriptionObserverList,o)}optIn(){window.cordova.exec(i,i,"OneSignalPush","optInPushSubscription")}optOut(){window.cordova.exec(i,i,"OneSignalPush","optOutPushSubscription")}}class e{constructor(){this.pushSubscription=new I,this._userStateObserverList=[]}_processFunctionList(t,o){for(let r=0;r<t.length;r++)t[r](o)}setLanguage(t){window.cordova.exec(i,i,"OneSignalPush","setLanguage",[t])}addAlias(t,o){window.cordova.exec(i,i,"OneSignalPush","addAliases",[{[t]:o}])}addAliases(t){window.cordova.exec(i,i,"OneSignalPush","addAliases",[t])}removeAlias(t){window.cordova.exec(i,i,"OneSignalPush","removeAliases",[t])}removeAliases(t){window.cordova.exec(i,i,"OneSignalPush","removeAliases",t)}addEmail(t){window.cordova.exec(i,i,"OneSignalPush","addEmail",[t])}removeEmail(t){window.cordova.exec(i,i,"OneSignalPush","removeEmail",[t])}addSms(t){window.cordova.exec(i,i,"OneSignalPush","addSms",[t])}removeSms(t){window.cordova.exec(i,i,"OneSignalPush","removeSms",[t])}addTag(t,o){window.cordova.exec(i,i,"OneSignalPush","addTags",[{[t]:o}])}addTags(t){const o=t;Object.keys(t).forEach(function(r){"string"!=typeof o[r]&&(o[r]=JSON.stringify(o[r]))}),window.cordova.exec(i,i,"OneSignalPush","addTags",[o])}removeTag(t){window.cordova.exec(i,i,"OneSignalPush","removeTags",[t])}removeTags(t){window.cordova.exec(i,i,"OneSignalPush","removeTags",t)}getTags(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getTags",[])})}addEventListener(t,o){this._userStateObserverList.push(o),window.cordova.exec(g=>{this._processFunctionList(this._userStateObserverList,g)},i,"OneSignalPush","addUserStateObserver",[])}removeEventListener(t,o){u(this._userStateObserverList,o)}getOnesignalId(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getOnesignalId",[])})}getExternalId(){return new Promise((t,o)=>{window.cordova.exec(t,o,"OneSignalPush","getExternalId",[])})}}class D{constructor(){this.User=new e,this.Debug=new _,this.Session=new C,this.Location=new k,this.InAppMessages=new b,this.Notifications=new A,this.LiveActivities=new v,this._appID=""}initialize(t){this._appID=t,window.cordova.exec(()=>{this.User.pushSubscription._setPropertiesAndObserver(),this.Notifications._setPropertyAndObserver()},i,"OneSignalPush","init",[this._appID])}login(t){window.cordova.exec(i,i,"OneSignalPush","login",[t])}logout(){window.cordova.exec(i,i,"OneSignalPush","logout")}setConsentRequired(t){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentRequired",[t])}setConsentGiven(t){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentGiven",[t])}}const T=new D;window.plugins||(window.plugins={}),window.plugins.OneSignal||(window.plugins.OneSignal=T),P.LogLevel=O,P.NotificationWillDisplayEvent=y,P.OSNotification=w,P.OSNotificationPermission=L,P.OneSignalPlugin=D,P.default=T}}]);