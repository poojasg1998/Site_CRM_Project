"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6759],{6759:(st,h,c)=>{c.r(h),c.d(h,{AllCallsListingModule:()=>ot});var f=c(177),g=c(3477),d=c(5933),u=c(9417),v=c(4127),C=c(8833),b=c(8676),D=c(7482),P=c(1667),t=c(4438),x=c(9451),w=c(9394),M=c(2408),I=c(2152);const F=["content"],y=["filterModal"],j=["calendar"],R=["sliding"],G=["callConfirmationModal"],S=["onCallDetailsPage"],k=()=>({display:"none"});function T(i,o){1&i&&(t.j41(0,"div",13),t.nrm(1,"ion-img",14),t.k0s())}function A(i,o){1&i&&t.nrm(0,"app-header")}function O(i,o){if(1&i){const n=t.RV6();t.j41(0,"div",15)(1,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("overall"))}),t.EFF(2),t.k0s(),t.j41(3,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("connected"))}),t.EFF(4),t.k0s(),t.j41(5,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("active"))}),t.EFF(6),t.k0s(),t.j41(7,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("inactive"))}),t.EFF(8),t.k0s(),t.j41(9,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("missed"))}),t.EFF(10),t.k0s(),t.j41(11,"div",16),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.oncallStage("visitsfixed"))}),t.EFF(12),t.k0s()()}if(2&i){const n=t.XpG();t.Y8G("appCenterActiveButton",n.filteredParams.callstage),t.R7$(),t.Y8G("id","id-overall"),t.R7$(),t.SpI(" Total Calls-",null==n.allCallsCount?null:n.allCallsCount.overall," "),t.R7$(),t.Y8G("id","id-connected"),t.R7$(),t.SpI(" Connected Calls-",null==n.allCallsCount?null:n.allCallsCount.connected," "),t.R7$(),t.Y8G("id","id-active"),t.R7$(),t.SpI(" Active Calls- ",null==n.allCallsCount?null:n.allCallsCount.active," "),t.R7$(),t.Y8G("id","id-inactive"),t.R7$(),t.SpI(" Inactive Calls-",null==n.allCallsCount?null:n.allCallsCount.inactive," "),t.R7$(),t.Y8G("id","id-missed"),t.R7$(),t.SpI(" Missed Calls- ",null==n.allCallsCount?null:n.allCallsCount.missed," "),t.R7$(),t.Y8G("id","id-visitsfixed"),t.R7$(),t.SpI(" Visits Fixed- ",null==n.allCallsCount?null:n.allCallsCount.visitsfixed," ")}}function E(i,o){if(1&i){const n=t.RV6();t.j41(0,"div",17)(1,"ion-row")(2,"ion-col",18),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.onMissedFilter("missed"))}),t.j41(3,"div",19),t.EFF(4," All "),t.k0s()(),t.j41(5,"ion-col",20),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.onMissedFilter("missedF"))}),t.j41(6,"div",21),t.EFF(7,"Missed"),t.k0s()(),t.j41(8,"ion-col",20),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.onMissedFilter("reconnected"))}),t.j41(9,"div",21)(10,"label",22),t.EFF(11,"Re-Connected"),t.k0s()()()()()}if(2&i){const n=t.XpG();t.R7$(3),t.Y8G("ngClass","missed"===(null==n.filteredParams?null:n.filteredParams.callstage)?"bg_textColor":"text_borderColor"),t.R7$(3),t.Y8G("ngClass","missedF"==n.filteredParams.callstage?"bg_textColor":"text_borderColor"),t.R7$(3),t.Y8G("ngClass","reconnected"==(null==n.filteredParams?null:n.filteredParams.callstage)?"bg_textColor":"text_borderColor")}}function L(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-col",26)(1,"p-dropdown",27),t.bIt("onChange",function(l){t.eBV(n);const a=t.XpG(2);return t.Njj(a.onExecutive(l))}),t.mxI("ngModelChange",function(l){t.eBV(n);const a=t.XpG(2);return t.DH7(a.selectedExecu,l)||(a.selectedExecu=l),t.Njj(l)}),t.k0s()()}if(2&i){const n=t.XpG(2);t.R7$(),t.Y8G("options",n.executiveNames),t.R50("ngModel",n.selectedExecu)}}function $(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-row",23),t.DNE(1,L,2,2,"ion-col",24),t.j41(2,"p-calendar",25,1),t.mxI("ngModelChange",function(l){t.eBV(n);const a=t.XpG();return t.DH7(a.dateRange,l)||(a.dateRange=l),t.Njj(l)}),t.bIt("onSelect",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.selectDateFilter("custom"))}),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.isAdmin),t.R7$(),t.Y8G("ngStyle",t.lJ4(7,k))("hideOnDateTimeSelect",!0)("touchUI",!0),t.R50("ngModel",n.dateRange),t.Y8G("dateFormat","yy-mm-dd")("maxDate",n.today)}}function N(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-button",31),t.bIt("click",function(){t.eBV(n);const l=t.XpG(2);return l.filteredParams.fromDate="",l.filteredParams.toDate="",t.Njj(l.addQueryParams())}),t.EFF(1),t.nrm(2,"ion-icon",32),t.k0s()}if(2&i){const n=t.XpG(2);t.R7$(),t.SpI(" ",n.filteredParams.fromDate+" To "+n.filteredParams.toDate," ")}}function Y(i,o){if(1&i&&(t.j41(0,"ion-row",28)(1,"div",29),t.DNE(2,N,3,1,"ion-button",30),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.filteredParams.fromDate)}}function X(i,o){if(1&i&&(t.j41(0,"span")(1,"ion-row")(2,"ion-col",49)(3,"span"),t.EFF(4,"Start Time"),t.k0s()(),t.j41(5,"ion-col",50)(6,"span"),t.EFF(7,"End Time"),t.k0s()()(),t.j41(8,"ion-row")(9,"ion-col",38)(10,"span"),t.EFF(11),t.k0s()(),t.j41(12,"ion-col",39)(13,"span"),t.EFF(14),t.k0s()()()()),2&i){const n=t.XpG().$implicit;t.R7$(11),t.JRh(n.starttime),t.R7$(3),t.JRh(n.endtime)}}function B(i,o){1&i&&(t.j41(0,"ion-col",49)(1,"span"),t.EFF(2,"Call Duration"),t.k0s()())}function V(i,o){1&i&&(t.j41(0,"ion-col",49),t.EFF(1,"Missed On"),t.k0s())}function z(i,o){1&i&&(t.j41(0,"ion-col",50)(1,"span"),t.EFF(2,"Call Status"),t.k0s()())}function U(i,o){if(1&i&&(t.j41(0,"ion-col",38)(1,"span"),t.EFF(2),t.k0s()()),2&i){const n=t.XpG().$implicit;t.R7$(2),t.JRh(n.answeredtime)}}function Q(i,o){if(1&i&&(t.j41(0,"ion-col",38),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(),t.JRh(n.starttime)}}function H(i,o){1&i&&(t.j41(0,"span",53),t.EFF(1,"Reconnected"),t.k0s())}function J(i,o){1&i&&(t.j41(0,"span",54),t.EFF(1,"Missed"),t.k0s())}function K(i,o){if(1&i&&(t.j41(0,"ion-col",39),t.DNE(1,H,2,0,"span",51)(2,J,2,0,"span",52),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","2"==n.missedid),t.R7$(),t.Y8G("ngIf","1"==n.missedid)}}function W(i,o){if(1&i&&(t.j41(0,"ion-row",55)(1,"ion-col")(2,"audio",56),t.nrm(3,"source",57),t.k0s()()()),2&i){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("src",n.filename,t.B4B)}}function Z(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-row",58)(1,"ion-col",59),t.bIt("click",function(){t.eBV(n);const l=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.outboundCall(l))}),t.nrm(2,"ion-img",60),t.k0s()()}}function q(i,o){if(1&i&&(t.j41(0,"ion-card",36)(1,"div",37)(2,"ion-row")(3,"ion-col",38)(4,"span"),t.EFF(5),t.k0s()(),t.j41(6,"ion-col",39)(7,"span"),t.EFF(8),t.k0s()()(),t.j41(9,"ion-row",40)(10,"ion-col",41)(11,"span"),t.EFF(12),t.k0s()(),t.j41(13,"ion-col",42)(14,"span"),t.EFF(15,"RM Executive"),t.k0s()()(),t.DNE(16,X,15,2,"span",5),t.j41(17,"ion-row"),t.DNE(18,B,3,0,"ion-col",43)(19,V,2,0,"ion-col",43)(20,z,3,0,"ion-col",44),t.k0s(),t.j41(21,"ion-row"),t.DNE(22,U,3,1,"ion-col",45)(23,Q,2,1,"ion-col",45)(24,K,3,2,"ion-col",46),t.k0s()(),t.DNE(25,W,4,1,"ion-row",47)(26,Z,3,0,"ion-row",48),t.k0s()),2&i){const n=o.$implicit,e=t.XpG(2);t.R7$(5),t.JRh(n.leadname),t.R7$(3),t.JRh(n.name),t.R7$(4),t.JRh(n.callto),t.R7$(4),t.Y8G("ngIf","missedF"!=e.filteredParams.callstage&&"missed"!=(null==e.filteredParams?null:e.filteredParams.callstage)&&"reconnected"!=(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(2),t.Y8G("ngIf","missedF"!=e.filteredParams.callstage&&"missed"!=(null==e.filteredParams?null:e.filteredParams.callstage)&&"reconnected"!=(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"==e.filteredParams.callstage||"missed"===(null==e.filteredParams?null:e.filteredParams.callstage)||"reconnected"==(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"==e.filteredParams.callstage||"missed"===(null==e.filteredParams?null:e.filteredParams.callstage)||"reconnected"==(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(2),t.Y8G("ngIf","missedF"!=e.filteredParams.callstage&&"missed"!=(null==e.filteredParams?null:e.filteredParams.callstage)&&"reconnected"!=(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"==e.filteredParams.callstage||"missed"===(null==e.filteredParams?null:e.filteredParams.callstage)||"reconnected"==(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"==e.filteredParams.callstage||"missed"===(null==e.filteredParams?null:e.filteredParams.callstage)||"reconnected"==(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"!=e.filteredParams.callstage&&"missed"!=(null==e.filteredParams?null:e.filteredParams.callstage)&&"reconnected"!=(null==e.filteredParams?null:e.filteredParams.callstage)),t.R7$(),t.Y8G("ngIf","missedF"==e.filteredParams.callstage||"missed"===(null==e.filteredParams?null:e.filteredParams.callstage)||"reconnected"==(null==e.filteredParams?null:e.filteredParams.callstage))}}function tt(i,o){1&i&&(t.j41(0,"ion-row")(1,"ion-col",61)(2,"span"),t.EFF(3,"No Data Found..."),t.k0s()()())}function et(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-infinite-scroll",62,3),t.bIt("ionInfinite",function(l){t.eBV(n);const a=t.XpG(2);return t.Njj(a.loadData(l))}),t.nrm(2,"ion-infinite-scroll-content",63),t.k0s()}2&i&&t.Y8G("disabled",!1)}function lt(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-content",33,2),t.bIt("ionScroll",function(l){t.eBV(n);const a=t.XpG();return t.Njj(a.onScroll(l))}),t.DNE(2,q,27,12,"ion-card",34)(3,tt,4,0,"ion-row",5)(4,et,3,1,"ion-infinite-scroll",35),t.k0s()}if(2&i){const n=t.XpG();t.R7$(2),t.Y8G("ngForOf",n.allCallsData),t.R7$(),t.Y8G("ngIf",0==(null==n.allCallsData?null:n.allCallsData.length)),t.R7$(),t.Y8G("ngIf",n.showInfiniteScroll)}}function nt(i,o){if(1&i){const n=t.RV6();t.j41(0,"ion-header")(1,"ion-row",64),t.nrm(2,"ion-col",65),t.j41(3,"ion-col",66)(4,"h3"),t.EFF(5,"Initiate Outbound Call"),t.k0s()(),t.j41(6,"ion-col",67),t.bIt("click",function(){t.eBV(n),t.XpG();const l=t.sdS(8);return t.Njj(l.dismiss())}),t.nrm(7,"ion-icon",68),t.k0s()()(),t.j41(8,"ion-content")(9,"ion-row")(10,"ion-col",69)(11,"p",70),t.EFF(12),t.k0s()()()(),t.j41(13,"ion-footer")(14,"ion-row")(15,"ion-col",71),t.bIt("click",function(){t.eBV(n),t.XpG();const l=t.sdS(8);return t.Njj(l.dismiss())}),t.j41(16,"ion-button",72),t.EFF(17," Cancel"),t.k0s()(),t.j41(18,"ion-col",71),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.outboundCall(!0))}),t.j41(19,"ion-button",73),t.EFF(20," Call "),t.k0s()()()()}if(2&i){const n=t.XpG();t.R7$(12),t.Lme("Do you want to place a call to ",n.lead.leadname," ","("+n.lead.callto+")"," ")}}function it(i,o){1&i&&(t.j41(0,"label",74),t.nrm(1,"ion-icon",75),t.k0s())}let at=(()=>{var i;class o{constructor(e,l,a,s,r,m){this.location=e,this.sharedService=l,this.menuCtrl=a,this.router=s,this.activeRoute=r,this._sharedservice=m,this.showSpinner=!1,this.today=new Date,this.filteredParams={fromDate:"",toDate:"",callstage:"",loginid:localStorage.getItem("UserId"),execid:"",isDateFilter:"",htype:""},this.isAtBottom=!1,this.showInfiniteScroll=!0,this.isOnCallDetailsPage=!1}ngOnInit(){this.activeRoute.queryParams.subscribe(e=>{this.isOnCallDetailsPage="true"==e.isOnCallDetailsPage,this.isAdmin="1"==localStorage.getItem("Role"),this.getqueryParam(),this.getExecutivesList(),this.getAllCallsCount()})}getExecutivesList(){this._sharedservice.getexecutiveslist().subscribe(e=>{var l,a,s;this.executiveNames=e.Executiveslist,this.selectedExecu=null===(l=this.executiveNames)||void 0===l?void 0:l.filter((r,m)=>{if(r.ID==this.filteredParams.execid)return r}),null===(a=this.executiveNames)||void 0===a||a.unshift({ID:"",Name:"All"}),this.selectedExecu=null===(s=this.selectedExecu)||void 0===s?void 0:s[0]})}getAllCallsCount(){this.showSpinner=!0;const l={...this.filteredParams,fromcalldatetime:this.filteredParams.fromDate,tocalldatetime:this.filteredParams.toDate};this.sharedService.getCallCounts(l).subscribe(a=>{this.allCallsCount=a.success[0],this.getallCallsData(!1)})}onBackbutton(){this.location.back()}openEndMenu(){this.sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}addQueryParams(){const e={};let l=!1;for(const a in this.filteredParams)if(this.filteredParams.hasOwnProperty(a)){const s=""!==this.filteredParams[a]?this.filteredParams[a]:null;this.activeRoute.snapshot.queryParams[a]!==s&&(l=!0),e[a]=s}this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}getqueryParam(){const e=window.location.search,l={};new URLSearchParams(e).forEach((a,s)=>{l[s]=a}),Object.keys(this.filteredParams).forEach(a=>{l.hasOwnProperty(a)?this.filteredParams[a]=l[a]:"propid"==a&&"ranavPropId"in localStorage?this.filteredParams[a]="28773":"loginid"!==a&&"limit"!==a&&"limitrows"!==a&&(this.filteredParams[a]="")}),this.tempFilteredValues=this.filteredParams}onScroll(e){this.content.getScrollElement().then(a=>{const s=a.scrollTop,r=a.scrollHeight,m=a.offsetHeight;this.canScroll=r>m+10,this.isAtBottom=!!this.canScroll&&s+m>=r-100})}closeFilterModal(){this.filterModal.dismiss()}navigateToFilter(){this.tempFilteredValues={...this.filteredParams},this.filterModal.present()}getallCallsData(e){const l={loginid:localStorage.getItem("UserId"),fromcalldatetime:this.filteredParams.fromDate,tocalldatetime:this.filteredParams.toDate,execid:this.isAdmin?this.filteredParams.execid:"",callstage:this.filteredParams.callstage,limit:0,limitrows:5};return this.count=e?this.count+=5:0,l.limit=this.count,new Promise((a,s)=>{this._sharedservice.fetchAllCallLogs(l).subscribe({next:r=>{this.showSpinner=!1,"success"==r.status?(this.allCallsData=e?this.allCallsData.concat(r.success):r.success,a(!0)):(this.showSpinner=!1,this.allCallsData=[],a(!1))},error:r=>{this.allCallsData=[],this.showSpinner=!1,a(!1)}})})}oncallStage(e){this.resetInfiniteScroll(),this.content.scrollToTop(500),this.filteredParams.callstage=e,this.addQueryParams()}loadData(e){"overall"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.overall)||"missed"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.missed)||"connected"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.connected)||"active"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.active)||"inactive"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.inactive)||"visitsfixed"==this.filteredParams.callstage&&this.allCallsData.length<Number(this.allCallsCount.visitsfixed)?this.getallCallsData(!0).then(()=>{e.target.complete()}):e.target.disabled=!0}resetInfiniteScroll(){this.showInfiniteScroll=!1,setTimeout(()=>{this.showInfiniteScroll=!0},10)}onExecutive(e){this.filteredParams.execid=this.selectedExecu.ID,this.addQueryParams()}selectDateFilter(e){if("today"==e)this.filteredParams.isDateFilter="today",this.dateRange=[],this.filteredParams.fromDate=this.getTodayDate(),this.filteredParams.toDate=this.getTodayDate();else if("lastsevenDay"==e)this.filteredParams.isDateFilter="lastsevendays",this.dateRange=[],this.filteredParams.fromDate=this.getsevenDaysAgo(),this.filteredParams.toDate=this.getTodayDate();else if("custom"==e)if(this.dateRange&&this.dateRange[0]&&this.dateRange[1]){var l;const a=new Date(this.dateRange[0]);if(new Date(this.dateRange[1]).getTime(),a.getTime(),2===(null===(l=this.dateRange)||void 0===l?void 0:l.length)&&null!=this.dateRange[1]){this.filteredParams.isDateFilter="custom";const _=(0,f.Yq)(this.dateRange[0],"yyyy-MM-dd","en-US"),p=(0,f.Yq)(this.dateRange[1],"yyyy-MM-dd","en-US");this.filteredParams.fromDate=_,this.filteredParams.toDate="1970-01-01"!=p?p:"",this.addQueryParams()}else""!=this.filteredParams.fromDate&&""!=this.filteredParams.toDate?(this.filteredParams.fromDate=this.filteredParams.fromDate,this.filteredParams.toDate=this.filteredParams.toDate,this.addQueryParams()):(this.filteredParams.fromDate=this.getTodayDate(),this.filteredParams.toDate=this.getTodayDate(),this.filteredParams.isDateFilter="today",this.addQueryParams())}else""!=this.filteredParams.fromDate&&""!=this.filteredParams.toDate?(this.filteredParams.fromDate=this.filteredParams.fromDate,this.filteredParams.toDate=this.filteredParams.toDate,this.addQueryParams()):(this.filteredParams.fromDate=this.getTodayDate(),this.filteredParams.toDate=this.getTodayDate(),this.filteredParams.isDateFilter="today",this.addQueryParams());this.addQueryParams()}getsevenDaysAgo(){const e=new Date;return e.setDate(e.getDate()-6),e.toISOString().split("T")[0]}getTodayDate(){return(new Date).toISOString().split("T")[0]}reset(){this.filteredParams={fromDate:this.getTodayDate(),toDate:this.getTodayDate(),callstage:this.filteredParams.callstage,loginid:localStorage.getItem("UserId"),execid:"",isDateFilter:"today",htype:this.filteredParams.htype},this.addQueryParams()}onMissedFilter(e){this.filteredParams.callstage=e,this.addQueryParams()}outboundCall(e){if(this.showSpinner=!0,1==e){var l,a,s,r;this.isOnCallDetailsPage=!0,this.callConfirmationModal.dismiss();const m=null!==(l=this.lead)&&void 0!==l&&l.callto.startsWith("91")&&(null===(a=this.lead)||void 0===a?void 0:a.callto.length)>10?null===(s=this.lead)||void 0===s?void 0:s.callto.slice(2):null===(r=this.lead)||void 0===r?void 0:r.callto,_={execid:localStorage.getItem("UserId"),callto:m,leadid:this.lead.leadid,starttime:this.getCurrentDateTime(),modeofcall:"mobile-"+this.filteredParams.htype,leadtype:this.filteredParams.htype,assignee:this.lead.Exec_IDFK};this.callConfirmationModal.dismiss(),this._sharedservice.outboundCall(_).subscribe(p=>{this.showSpinner=!1}),this.router.navigate([],{queryParams:{isOnCallDetailsPage:this.isOnCallDetailsPage,leadId:this.lead.leadid,execid:this.lead.Exec_IDFK,leadTabData:"status",callStatus:"Call Connected",direction:"outboundCall",headerType:this.filteredParams.htype},queryParamsHandling:"merge"})}else this.lead=e,this.showSpinner=!1,this.callConfirmationModal.present()}getCurrentDateTime(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`}ngOnDestroy(){this.sharedService.dismissAllOverlays()}}return(i=o).\u0275fac=function(e){return new(e||i)(t.rXU(f.aZ),t.rXU(x.d),t.rXU(d._t),t.rXU(g.Ix),t.rXU(g.nX),t.rXU(x.d))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-all-calls-listing"]],viewQuery:function(e,l){if(1&e&&(t.GBs(F,5),t.GBs(y,5),t.GBs(j,5),t.GBs(R,5),t.GBs(G,5),t.GBs(S,5)),2&e){let a;t.mGM(a=t.lsd())&&(l.content=a.first),t.mGM(a=t.lsd())&&(l.filterModal=a.first),t.mGM(a=t.lsd())&&(l.calendar=a.first),t.mGM(a=t.lsd())&&(l.sliding=a.first),t.mGM(a=t.lsd())&&(l.callConfirmationModal=a.first),t.mGM(a=t.lsd())&&(l.onCallDetailsPage=a.first)}},decls:12,vars:8,consts:[["callConfirmationModal",""],["calendar",""],["content",""],["infiniteScroll",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["style","display: flex; overflow-x: scroll; padding:5px;box-shadow: 1px 2px 10px 0 rgba(99, 99, 99, 0.2);align-items: center;",3,"appCenterActiveButton",4,"ngIf"],["class","datefilter",4,"ngIf"],["class","mx-1 datefilter",4,"ngIf"],["class","filteredChips",4,"ngIf"],["scrollEvents","true",3,"ionScroll",4,"ngIf"],[1,"callConfirmationModal"],["for","calllisting_date_range","class","calender_icon",4,"ngIf"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],[2,"display","flex","overflow-x","scroll","padding","5px","box-shadow","1px 2px 10px 0 rgba(99, 99, 99, 0.2)","align-items","center",3,"appCenterActiveButton"],[1,"custom-col","center-text","font-weight500",3,"click","id"],[1,"datefilter"],["size","3",3,"click"],[1,"font-size12-familyPoppins","content_center",3,"ngClass"],[3,"click"],[1,"font-size12-familyPoppins","content_center","text_borderColor",3,"ngClass"],["for","callDashboard_date_range"],[1,"mx-1","datefilter"],["size","7",4,"ngIf"],["inputId","calllisting_date_range","selectionMode","range","appendTo","body",3,"ngModelChange","onSelect","ngStyle","hideOnDateTimeSelect","touchUI","ngModel","dateFormat","maxDate"],["size","7"],["optionLabel","Name","placeholder","Select a Executive",1,"exec_css",3,"onChange","ngModelChange","options","ngModel"],[1,"filteredChips"],[2,"display","flex","overflow-x","scroll","padding","0 5px"],["fill","clear",3,"click",4,"ngIf"],["fill","clear",3,"click"],["slot","end","name","close"],["scrollEvents","true",3,"ionScroll"],["class","m-2",4,"ngFor","ngForOf"],["threshold","100px",3,"disabled","ionInfinite",4,"ngIf"],[1,"m-2"],[1,"px-2"],[1,"text-value"],[1,"text-value","text-right"],[1,"border_bottom"],[1,"text-value","number"],[1,"text-label","text-right","pt-0","pb-1"],["class","text-label",4,"ngIf"],["class","text-label text-right",4,"ngIf"],["class","text-value",4,"ngIf"],["class","text-value text-right",4,"ngIf"],["class","audio",4,"ngIf"],["class"," ion-justify-content-end",4,"ngIf"],[1,"text-label"],[1,"text-label","text-right"],["class","answeredCall-span",4,"ngIf"],["class","missedCall-span",4,"ngIf"],[1,"answeredCall-span"],[1,"missedCall-span"],[1,"audio"],["controls","",2,"width","100% !important","height","32px !important"],["type","audio/wav",3,"src"],[1,"ion-justify-content-end"],["size","1.5",1,"content_center",3,"click"],["src","../../assets/CRMimages/call-icon.svg",1,"call-icon",2,"width","20px"],[1,"content_center"],["threshold","100px",3,"ionInfinite","disabled"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"activeSaveButton"],["size","1"],["size","9",1,"ion-text-center","d-flex","ion-justify-content-center"],["size","2",1,"ion-text-center","d-flex","ion-justify-content-center","paddingZero",3,"click"],["name","close",1,"paddingZero"],[1,"ion-text-center"],[2,"font-size","20px","color","rgba(65, 65, 65, 1)"],[1,"ion-text-center",3,"click"],["fill","clear",1,"active_text_borederColor"],["fill","clear",1,"activeSaveButton"],["for","calllisting_date_range",1,"calender_icon"],["name","calendar"]],template:function(e,l){1&e&&(t.DNE(0,T,2,0,"div",4)(1,A,1,0,"app-header",5)(2,O,13,13,"div",6)(3,E,12,3,"div",7)(4,$,4,8,"ion-row",8)(5,Y,3,1,"ion-row",9)(6,lt,5,3,"ion-content",10),t.j41(7,"ion-modal",11,0),t.DNE(9,nt,21,2,"ng-template"),t.k0s(),t.DNE(10,it,2,0,"label",12),t.nrm(11,"app-common-footer")),2&e&&(t.Y8G("ngIf",l.showSpinner),t.R7$(),t.Y8G("ngIf",!l.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",!l.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",("missedF"==l.filteredParams.callstage||"missed"===(null==l.filteredParams?null:l.filteredParams.callstage)||"reconnected"==(null==l.filteredParams?null:l.filteredParams.callstage))&&!l.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",!l.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",("custom"==(null==l.filteredParams?null:l.filteredParams.isDateFilter)&&!l.isAdmin||l.isAdmin)&&!l.isOnCallDetailsPage),t.R7$(),t.Y8G("ngIf",!l.isOnCallDetailsPage),t.R7$(4),t.Y8G("ngIf",!l.isOnCallDetailsPage&&!l.isAtBottom))},dependencies:[f.YU,f.Sq,f.bT,f.B3,w.J,M.a,I.l,d.Jm,d.b_,d.hU,d.W9,d.M0,d.eU,d.iq,d.KW,d.Ax,d.Hp,d.ln,d.Sb,u.BC,u.vS,C.ms,P.Vv],styles:[".custom-col[_ngcontent-%COMP%]{padding:4px 7px;font-size:12px;font-family:Poppins;border-radius:30px;flex-shrink:0;cursor:pointer}div.bg_textColor[_ngcontent-%COMP%]{padding:4px 1px;border-radius:4px;width:100%;box-shadow:0 8px 24px #959da533!important}.btn-inactive[_ngcontent-%COMP%]{background:#d2d2d2;color:#383838;font-family:Poppins}.filteredChips[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#0b7ab2;font-size:12px;font-family:Poppins;font-weight:400;word-wrap:break-word;border:.5px #0b7ab2 solid;border-radius:4px;text-transform:capitalize;height:26px;min-height:26px}ion-img.ion-filter-icon[_ngcontent-%COMP%]{float:right;height:36px;position:absolute;right:0;bottom:0;width:36px}.text-value[_ngcontent-%COMP%]{color:#202224;font-weight:500;font-size:12px;padding-top:0;line-height:1.1}.audio[_ngcontent-%COMP%]{background:#b7d8e9!important}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background:#b7d8e9}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#727272}.border_bottom[_ngcontent-%COMP%]{border-bottom:.4px solid #9a9a9a}.text-label[_ngcontent-%COMP%]{color:#727272;font-weight:300;font-size:12px;padding-bottom:0;text-transform:capitalize}ion-card[_ngcontent-%COMP%]{box-shadow:0 8px 24px #959da533;border:1px solid #efefef;padding-top:5px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:12px}.split-layout[_ngcontent-%COMP%]{display:flex;align-items:stretch;height:100%}.left-column[_ngcontent-%COMP%]{flex:2.5;max-width:41%}.right-column[_ngcontent-%COMP%]{flex:3}.divider[_ngcontent-%COMP%]{width:1px;background-color:#ccc}  p-dropdown.exec_css .p-inputwrapper span{padding:5px;font-family:Poppins}  p-dropdown.exec_css .p-inputwrapper span{padding:5px;font-size:12px;font-family:Poppins;color:#0b7ab2}  p-dropdown.exec_css .p-inputwrapper{width:100%!important;border:.5px #0b7ab2 solid}  p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-dropdown.exec_css .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px;color:#0b7ab2}  .exec_css .p-element .p-dropdown-item{padding:5px!important;font-size:12px}.datefilter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:4px 1px;border-radius:4px}ion-modal.callConfirmationModal[_ngcontent-%COMP%]{padding:10px;--height: 38%;--border-radius: 5px;--backdrop-opacity: .8;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{font-family:Poppins;box-shadow:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:4px}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff!important}.callConfirmationModal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.callConfirmationModal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;border-radius:4px;font-family:Poppins;font-size:18px;text-transform:none}.callConfirmationModal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{box-shadow:none}.calender_icon[_ngcontent-%COMP%]{position:fixed;bottom:70px;right:4px}.calender_icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;background:#c2c2cf;border-radius:22px;display:flex;align-items:center;justify-content:center;background:#004a6f;padding:7px;color:#fff}"]}),o})(),ot=(()=>{var i;class o{}return(i=o).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[f.MD,g.iI.forChild([{path:"",component:at}]),v.G,d.bv,u.YN,C.kr,b.iV,P.rO,D.O]}),o})()}}]);