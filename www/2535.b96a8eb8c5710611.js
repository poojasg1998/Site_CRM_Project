"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2535],{2535:(Ue,x,d)=>{d.r(x),d.d(x,{LeadsModule:()=>ze});var _=d(177),g=d(3477),c=d(5933),m=d(9417),P=d(478),L=d(8833),k=d(8676),b=d(467),j=d(8032),p=d.n(j),e=d(4438),v=d(7157),F=d(3317),I=d(148),S=d(9451),w=d(1667),R=d(2408);const y=["filterModal"],M=["mainScrollContent"],T=["propScrollContent"],D=["sourceScrollContent"],G=["assignLeadsModal"],E=["viewAssignLeadDetail"],N=["freshleadsCheckboxes"],V=()=>["../assigned-leads-detail"],$=o=>({leadId:o}),h=o=>({bg_textColor:o}),u=o=>({backgroundLightColor:o}),B=()=>({cssClass:"custom-popover-height"}),O=(o,a)=>({"single-lead":o,"multiple-leads":a});function X(o,a){1&o&&(e.j41(0,"div",24),e.nrm(1,"ion-img",25),e.k0s())}function Y(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBackButton())}),e.j41(2,"ion-icon",27),e.EFF(3,"back"),e.k0s()(),e.j41(4,"ion-col",28)(5,"span",29),e.EFF(6),e.nrm(7,"br"),e.EFF(8),e.k0s()(),e.j41(9,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openEndMenu())}),e.nrm(10,"ion-icon",30),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(6),e.SpI(" Total Leads - "," "+t.leadcounts,""),e.R7$(2),e.SpI(" ","(Unique- "+t.uniqueCounts+")"," ")}}function A(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",31)(1,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isChecked=!1)}),e.nrm(2,"ion-icon",32),e.k0s(),e.j41(3,"ion-col",33),e.EFF(4),e.k0s(),e.j41(5,"ion-col",34)(6,"span",29),e.EFF(7,"Leads Selected"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.JRh(t.temporaryLeadIds.length)}}function z(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",35)(1,"ion-col",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onUniqueDuplcate(""))}),e.j41(2,"p",37),e.EFF(3),e.k0s()(),e.j41(4,"ion-col",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onUniqueDuplcate("1"))}),e.j41(5,"p",37),e.EFF(6),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngClass",""===t.filteredParams.duplicateValue?"bg_textColor":""),e.R7$(),e.SpI("Unique Leads- ",t.uniqueCounts,""),e.R7$(2),e.Y8G("ngClass","1"===t.filteredParams.duplicateValue?"bg_textColor":""),e.R7$(),e.SpI("Duplicate Leads- ",t.duplicateCounts,"")}}function q(o,a){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.propertyname," ")}}function H(o,a){if(1&o&&(e.j41(0,"span"),e.DNE(1,q,2,1,"span",11),e.k0s()),2&o){const t=a.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.propertyname==i.filteredParams.propname)}}function U(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.filteredParams.propname="",e.Njj(n.addQueryParams())}),e.DNE(1,H,2,1,"span",40),e.nrm(2,"ion-icon",41),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.propertyList)}}function J(o,a){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.source," ")}}function K(o,a){if(1&o&&(e.j41(0,"span"),e.DNE(1,J,2,1,"span",11),e.k0s()),2&o){const t=a.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.filteredParams.source===t.source)}}function Q(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.filteredParams.source="",e.Njj(n.addQueryParams())}),e.DNE(1,K,2,1,"span",40),e.nrm(2,"ion-icon",41),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.sourceList)}}function W(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilterDateremove())}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"ion-icon",41),e.k0s()}if(2&o){const t=e.XpG();e.R7$(2),e.SpI(" ",t.filteredParams.FromDate+" To "+t.filteredParams.ToDate," ")}}function Z(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.filteredParams.assignid="",e.Njj(n.addQueryParams())}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"ion-icon",41),e.k0s()}if(2&o){const t=e.XpG();e.R7$(2),e.SpI(" ","1"==t.filteredParams.assignid?"Assigned":"Not Assigned"," ")}}function ee(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-checkbox",55,4),e.bIt("ionChange",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.checkedLeads(n))}),e.k0s()}if(2&o){const t=e.XpG(2),i=t.$implicit,n=t.index,s=e.XpG();e.Y8G("disabled",!s.isManual&&n<s.temporaryLeadIds.length)("checked",s.temporaryLeadIds&&s.temporaryLeadIds.includes(i.customer_IDPK))}}function te(o,a){if(1&o&&(e.j41(0,"ion-col",53),e.DNE(1,ee,2,2,"ion-checkbox",54),e.k0s()),2&o){const t=e.XpG().index,i=e.XpG();e.Y8G("size",i.isManual||t<i.temporaryLeadIds.length?1:""),e.R7$(),e.Y8G("ngIf",i.isManual||t<i.temporaryLeadIds.length)}}function ne(o,a){1&o&&e.nrm(0,"ion-img",59)}function oe(o,a){1&o&&e.nrm(0,"ion-img",60)}function ie(o,a){if(1&o&&(e.j41(0,"div",56),e.EFF(1),e.DNE(2,ne,1,0,"ion-img",57)(3,oe,1,0,"ion-img",58),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.number," "),e.R7$(),e.Y8G("ngIf","2"==(null==t?null:t.qualified_leads)),e.R7$(),e.Y8G("ngIf","3"==(null==t?null:t.qualified_leads))}}function se(o,a){1&o&&(e.j41(0,"span",47),e.EFF(1,"xxxxxxxxxx"),e.k0s())}function ae(o,a){if(1&o&&(e.j41(0,"ion-col",46)(1,"div"),e.EFF(2,"Source"),e.k0s(),e.j41(3,"div")(4,"span",47),e.EFF(5),e.k0s()()()),2&o){const t=e.XpG().$implicit;e.R7$(5),e.JRh(t.customer_source)}}function re(o,a){1&o&&(e.j41(0,"span",61),e.EFF(1,"Assigned"),e.k0s())}function le(o,a){1&o&&(e.j41(0,"span",62),e.EFF(1," Not Assigned "),e.k0s())}function ce(o,a){if(1&o&&(e.j41(0,"div",47),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,t.datetime,"dd-MMM-yyyy hh:mm a"),"")}}function de(o,a){if(1&o&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.time)}}function pe(o,a){if(1&o&&(e.j41(0,"div",42)(1,"ion-row"),e.DNE(2,te,2,2,"ion-col",43),e.j41(3,"ion-col",44)(4,"ion-row",45)(5,"ion-col",46)(6,"div"),e.EFF(7,"Lead Name"),e.k0s(),e.j41(8,"div")(9,"span",47),e.EFF(10),e.k0s()()(),e.j41(11,"ion-col",46)(12,"div"),e.EFF(13,"Mobile No"),e.k0s(),e.j41(14,"div"),e.DNE(15,ie,4,3,"div",48)(16,se,2,0,"span",49),e.k0s()(),e.DNE(17,ae,6,1,"ion-col",50),e.j41(18,"ion-col",46)(19,"div"),e.EFF(20,"Property"),e.k0s(),e.j41(21,"div")(22,"span",47),e.EFF(23),e.k0s()()(),e.j41(24,"ion-col",46)(25,"div"),e.EFF(26,"Status"),e.k0s(),e.j41(27,"div"),e.DNE(28,re,2,0,"span",51)(29,le,2,0,"span",52),e.k0s()(),e.j41(30,"ion-col")(31,"div"),e.EFF(32,"Date"),e.k0s(),e.DNE(33,ce,3,4,"div",49),e.j41(34,"div",47),e.EFF(35),e.DNE(36,de,2,1,"span",49),e.k0s()()()()()()),2&o){const t=a.$implicit,i=a.index,n=e.XpG();e.R7$(2),e.Y8G("ngIf",n.isChecked),e.R7$(),e.Y8G("size",n.isManual||i<n.temporaryLeadIds.length?11:12)("routerLink",e.lJ4(14,V))("queryParams",e.eq3(15,$,t.customer_IDPK)),e.R7$(7),e.JRh(t.name),e.R7$(5),e.Y8G("ngIf","demo"!=n.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"==n.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf",!n.isCP),e.R7$(6),e.JRh(t.propertyname?t.propertyname:"--"),e.R7$(5),e.Y8G("ngIf","1"==n.filteredParams.assignid),e.R7$(),e.Y8G("ngIf","2"==n.filteredParams.assignid),e.R7$(4),e.Y8G("ngIf",t.datetime),e.R7$(2),e.SpI("",t.date?t.date+", ":""," "),e.R7$(),e.Y8G("ngIf",null!=t.time)}}function _e(o,a){1&o&&(e.j41(0,"ion-row",63)(1,"ion-col",64)(2,"span"),e.EFF(3,"No Leads Found..."),e.k0s()()())}function me(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-infinite-scroll",65,5),e.bIt("ionInfinite",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.loadData(n))}),e.nrm(2,"ion-infinite-scroll-content",66),e.k0s()}2&o&&e.Y8G("disabled",!1)}function ge(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterValues("property"))}),e.j41(1,"ion-col")(2,"span"),e.EFF(3,"Property"),e.k0s()()()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,h,t.isPropertySection))}}function ue(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterValues("source"))}),e.j41(1,"ion-col")(2,"span"),e.EFF(3,"Source"),e.k0s()()()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,h,t.isSourceSection))}}function fe(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterValues("status"))}),e.j41(1,"ion-col")(2,"span"),e.EFF(3,"Status"),e.k0s()()()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,h,t.isStatusSection))}}function he(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",85,7),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onFilterSelection("property",n.propertyname))}),e.j41(2,"span"),e.EFF(3),e.k0s()()}if(2&o){const t=a.$implicit,i=e.XpG(3);e.Y8G("id",t.propertyname)("ngClass",e.eq3(3,u,i.tempFilteredValues.propname===t.propertyname)),e.R7$(3),e.JRh(t.propertyname)}}function Ce(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",81)(1,"ion-searchbar",82),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.propertySearchedName,n)||(s.propertySearchedName=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.setFilteredProperty())}),e.k0s(),e.j41(2,"ion-content",83,6),e.DNE(4,he,4,5,"ion-row",84),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.propertySearchedName),e.R7$(3),e.Y8G("ngForOf",t.propertyList1)}}function xe(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",85),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onFilterSelection("source",n.source))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&o){const t=a.$implicit,i=e.XpG(3);e.Y8G("id",t.source)("ngClass",e.eq3(3,u,i.tempFilteredValues.source===t.source)),e.R7$(2),e.JRh(t.source)}}function Le(o,a){if(1&o){const t=e.RV6();e.j41(0,"span")(1,"ion-searchbar",82),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.sourceSearchTerm,n)||(s.sourceSearchTerm=n),e.Njj(n)}),e.bIt("ionInput",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.setFilteredSource())}),e.k0s(),e.j41(2,"ion-content",83,8)(4,"ion-row",86),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterSelection("source","all"))}),e.j41(5,"span"),e.EFF(6,"All"),e.k0s()(),e.DNE(7,xe,3,5,"ion-row",84),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.sourceSearchTerm),e.R7$(3),e.Y8G("ngClass",e.eq3(3,u,""===t.tempFilteredValues.source)),e.R7$(3),e.Y8G("ngForOf",t.sourceList1)}}function ke(o,a){if(1&o){const t=e.RV6();e.j41(0,"span")(1,"ion-row",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterSelection("status","1"))}),e.j41(2,"span",88),e.EFF(3),e.k0s()(),e.j41(4,"ion-row",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onFilterSelection("status","2"))}),e.j41(5,"span",88),e.EFF(6),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(4,u,"1"===t.tempFilteredValues.assignid)),e.R7$(2),e.JRh("Assigned"),e.R7$(),e.Y8G("ngClass",e.eq3(6,u,"2"===t.tempFilteredValues.assignid)),e.R7$(2),e.JRh("Not Assigned")}}function be(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-row")(2,"ion-col",89),e.EFF(3," Select Date Range "),e.k0s()(),e.j41(4,"ion-row",90)(5,"ion-col",91)(6,"label",92)(7,"div",93)(8,"div")(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"div"),e.nrm(12,"ion-img",94),e.k0s()()()()(),e.j41(13,"p-calendar",95,9),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.dateRange,n)||(s.dateRange=n),e.Njj(n)}),e.bIt("onSelect",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onFilterSelection("date",n))}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(10),e.JRh(t.daterange()),e.R7$(3),e.Y8G("touchUI",!0),e.R50("ngModel",t.dateRange),e.Y8G("dateFormat","yy-mm-dd")}}function we(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-header",67)(1,"ion-row",68)(2,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.sdS(18).dismiss(),e.Njj(n.dateRange="")}),e.nrm(3,"ion-icon",69),e.k0s(),e.j41(4,"ion-col",28),e.EFF(5,"Filters"),e.k0s(),e.j41(6,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.reset_filter())}),e.nrm(7,"ion-icon",70),e.k0s()()(),e.j41(8,"div",71)(9,"ion-row",72)(10,"div",73),e.DNE(11,ge,4,3,"ion-row",74)(12,ue,4,3,"ion-row",74),e.j41(13,"ion-row",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilterValues("date"))}),e.j41(14,"ion-col")(15,"span"),e.EFF(16,"Date"),e.k0s()()(),e.DNE(17,fe,4,3,"ion-row",74),e.k0s(),e.nrm(18,"div",76),e.j41(19,"div",77),e.DNE(20,Ce,5,2,"div",78)(21,Le,8,5,"span",11)(22,ke,7,8,"span",11)(23,be,15,4,"ion-row",11),e.k0s()()(),e.j41(24,"ion-footer",67)(25,"ion-row")(26,"ion-col",79)(27,"ion-button",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmSelection())}),e.EFF(28,"Show Results"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(11),e.Y8G("ngIf",!t.isCP&&!t.localStorage.getItem("ranavPropId")),e.R7$(),e.Y8G("ngIf",!t.isCP),e.R7$(),e.Y8G("ngClass",e.eq3(8,h,t.isdateSection)),e.R7$(4),e.Y8G("ngIf",!t.isCP),e.R7$(3),e.Y8G("ngIf",t.isPropertySection),e.R7$(),e.Y8G("ngIf",t.isSourceSection),e.R7$(),e.Y8G("ngIf",t.isStatusSection),e.R7$(),e.Y8G("ngIf",t.isdateSection)}}function Pe(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-img",96),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToFilter())}),e.k0s()}}function je(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",97)(1,"ion-img",98),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAssignLead())}),e.k0s()()}}function ve(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-footer")(1,"ion-toolbar")(2,"div",99)(3,"ion-row",100)(4,"ion-col",101),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSelectLeadCount("manual"))}),e.j41(5,"span"),e.EFF(6,"Manual"),e.k0s()(),e.j41(7,"ion-col",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSelectLeadCount(10))}),e.EFF(8,"10 Leads"),e.k0s(),e.j41(9,"ion-col",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSelectLeadCount(25))}),e.EFF(10,"25 Leads"),e.k0s(),e.j41(11,"ion-col",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSelectLeadCount(50))}),e.EFF(12,"50 Leads"),e.k0s(),e.j41(13,"ion-col",37)(14,"ion-select",103),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.selectedCount,n)||(s.selectedCount=n),e.Njj(n)}),e.bIt("ionChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onSelectLeadCount(n.detail.value))}),e.j41(15,"ion-select-option",104),e.EFF(16,"75 Leads "),e.k0s(),e.j41(17,"ion-select-option",105),e.EFF(18,"100 Leads "),e.k0s(),e.j41(19,"ion-select-option",106),e.EFF(20,"150 Leads "),e.k0s()()()(),e.j41(21,"ion-row",31)(22,"ion-col",107),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAssignLeadsModal())}),e.j41(23,"span",108),e.EFF(24,"Assign Selected Leads "),e.nrm(25,"ion-icon",109),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("ngClass",t.isManual?"active_text_borederColor":""),e.R7$(3),e.Y8G("ngClass",10===t.temporaryLeadIds.length?"active_text_borederColor":""),e.R7$(2),e.Y8G("ngClass",25===t.temporaryLeadIds.length?"active_text_borederColor":""),e.R7$(2),e.Y8G("ngClass",50===t.temporaryLeadIds.length?"active_text_borederColor":""),e.R7$(2),e.Y8G("ngClass",t.isManual||10==t.temporaryLeadIds.length||25==t.temporaryLeadIds.length||50==t.temporaryLeadIds.length?"":"active_text_borederColor"),e.R7$(),e.Y8G("interfaceOptions",e.lJ4(7,B)),e.R50("ngModel",t.selectedCount)}}function Fe(o,a){1&o&&e.nrm(0,"app-common-footer")}function Ie(o,a){1&o&&(e.j41(0,"div",24),e.nrm(1,"ion-spinner",122),e.k0s())}function Se(o,a){1&o&&(e.j41(0,"ion-row",123),e.nrm(1,"ion-img",124),e.k0s())}function Re(o,a){if(1&o&&(e.j41(0,"ion-col"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.number)}}function ye(o,a){1&o&&(e.j41(0,"ion-col"),e.EFF(1,"+91 xxxxxxxxxx"),e.k0s())}function Me(o,a){if(1&o&&(e.j41(0,"div")(1,"ion-row",90)(2,"ion-col"),e.EFF(3,"Lead Name"),e.k0s(),e.j41(4,"ion-col"),e.EFF(5,"Project"),e.k0s(),e.j41(6,"ion-col"),e.EFF(7,"Mobile Number"),e.k0s(),e.j41(8,"ion-col"),e.EFF(9,"Visit Source"),e.k0s()(),e.j41(10,"ion-row",90)(11,"ion-col"),e.EFF(12),e.k0s(),e.j41(13,"ion-col"),e.EFF(14),e.k0s(),e.DNE(15,Re,2,1,"ion-col",11)(16,ye,2,0,"ion-col",11),e.j41(17,"ion-col"),e.EFF(18),e.k0s()()()),2&o){const t=a.$implicit,i=e.XpG(2);e.R7$(12),e.JRh(t.name),e.R7$(2),e.JRh(t.propertyname),e.R7$(),e.Y8G("ngIf","demo"!=i.localStorage.getItem("Name")),e.R7$(),e.Y8G("ngIf","demo"==i.localStorage.getItem("Name")),e.R7$(2),e.JRh(t.source?t.source:"--")}}function Te(o,a){if(1&o){const t=e.RV6();e.j41(0,"span")(1,"ion-row")(2,"ion-col",117)(3,"span",118),e.EFF(4,"Select Team"),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",125)(7,"p-dropdown",126),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.selectedTeam,n)||(s.selectedTeam=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onAssignTeamSelect(n))}),e.k0s()()()()}if(2&o){const t=e.XpG(2);e.R7$(7),e.Y8G("options",t.team),e.R50("ngModel",t.selectedTeam)}}function De(o,a){if(1&o){const t=e.RV6();e.j41(0,"span")(1,"ion-row")(2,"ion-col",117)(3,"span",118),e.EFF(4,"Select Executive Team"),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",125)(7,"p-dropdown",127),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.selectedExecTeam,n)||(s.selectedExecTeam=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onExecTeamSelect(n))}),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(7),e.R50("ngModel",t.selectedExecTeam),e.Y8G("options",t.execTeam)}}function Ge(o,a){if(1&o){const t=e.RV6();e.j41(0,"span")(1,"ion-row")(2,"ion-col",117)(3,"span",118),e.EFF(4," Select Mandate Project "),e.k0s()()(),e.j41(5,"ion-row")(6,"ion-col",125)(7,"p-dropdown",128),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.selectedProperty,n)||(s.selectedProperty=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onPropertySelect(n))}),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(7),e.Y8G("options",t.projectNames),e.R50("ngModel",t.selectedProperty)}}function Ee(o,a){if(1&o&&(e.j41(0,"span"),e.DNE(1,De,8,2,"span",11)(2,Ge,8,2,"span",11),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.isRetail),e.R7$(),e.Y8G("ngIf",!t.isRetail)}}function Ne(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-col",129)(1,"p-multiSelect",130),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.selectedExecutiveName,n)||(s.selectedExecutiveName=n),e.Njj(n)}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("options",t.executives)("filter",!0),e.R50("ngModel",t.selectedExecutiveName),e.Y8G("showHeader",!1)("showHeader",!1)}}function Ve(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-col",129)(1,"p-multiSelect",131),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.selectedExecutiveName,n)||(s.selectedExecutiveName=n),e.Njj(n)}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("options",t.executives)("filter",!0),e.R50("ngModel",t.selectedExecutiveName),e.Y8G("showHeader",!1)("showHeader",!1)}}function $e(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",132)(1,"ion-col",111)(2,"span"),e.EFF(3," Random Leads Assigns "),e.k0s()(),e.j41(4,"ion-col",133)(5,"ion-toggle",134),e.bIt("ionChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggle_random_assign(n))}),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("disabled",1===t.temporaryLeadIds.length)}}function Be(o,a){if(1&o){const t=e.RV6();e.DNE(0,Ie,2,0,"div",10),e.j41(1,"ion-row",110)(2,"ion-col",111),e.EFF(3,"Assign the task"),e.k0s(),e.j41(4,"ion-col",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.sdS(26).dismiss(),n.showSpinner=!1,e.Njj(n.reset())}),e.nrm(5,"ion-icon",69),e.k0s()(),e.DNE(6,Se,2,0,"ion-row",112),e.j41(7,"div",113)(8,"div",114)(9,"ion-row")(10,"ion-col",115),e.EFF(11),e.k0s()(),e.j41(12,"ion-content",116),e.DNE(13,Me,19,5,"div",40),e.k0s(),e.j41(14,"form"),e.DNE(15,Te,8,2,"span",11)(16,Ee,3,2,"span",11),e.j41(17,"ion-row")(18,"ion-col",117)(19,"span",118),e.EFF(20," Select Executives "),e.k0s()()(),e.j41(21,"ion-row"),e.DNE(22,Ne,2,5,"ion-col",119)(23,Ve,2,5,"ion-col",119),e.k0s(),e.DNE(24,$e,6,1,"ion-row",120),e.j41(25,"ion-row")(26,"ion-col")(27,"ion-button",121),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.assignLead())}),e.EFF(28,"Assign"),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.Y8G("ngIf",t.showSpinner),e.R7$(6),e.Y8G("ngIf",1===t.checkedLeadsDetail.length),e.R7$(5),e.SpI(" ",1===t.checkedLeadsDetail.length?"Leads Detail":"Total Leads"+t.checkedLeadsDetail.length,""),e.R7$(),e.Y8G("ngClass",e.l_i(10,O,1===t.checkedLeadsDetail.length,t.checkedLeadsDetail.length>1)),e.R7$(),e.Y8G("ngForOf",t.checkedLeadsDetail),e.R7$(2),e.Y8G("ngIf",!t.isCP),e.R7$(),e.Y8G("ngIf",t.selectedTeam),e.R7$(6),e.Y8G("ngIf",t.isRetail),e.R7$(),e.Y8G("ngIf",!t.isRetail),e.R7$(),e.Y8G("ngIf",1!==t.temporaryLeadIds.length)}}function Oe(o,a){if(1&o&&(e.j41(0,"ion-row")(1,"ion-col",141),e.EFF(2),e.k0s(),e.j41(3,"ion-col",140),e.EFF(4),e.k0s(),e.j41(5,"ion-col",140),e.EFF(6),e.k0s()()),2&o){const t=a.$implicit;e.R7$(2),e.JRh(t.execname),e.R7$(2),e.JRh(t.exsiting),e.R7$(2),e.JRh(t.fresh)}}function Xe(o,a){if(1&o){const t=e.RV6();e.j41(0,"ion-row",135)(1,"ion-col",111),e.EFF(2,"Re-Assign Leads Details"),e.k0s(),e.j41(3,"ion-col",136),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onViewAssignLeadDetailClose())}),e.nrm(4,"ion-icon",69),e.k0s()(),e.j41(5,"div",137)(6,"ion-grid",138)(7,"ion-row",139)(8,"ion-col",140),e.EFF(9,"Name"),e.k0s(),e.j41(10,"ion-col",140),e.EFF(11,"Already Exist"),e.k0s(),e.j41(12,"ion-col",140),e.EFF(13,"Fresh Assigned"),e.k0s()(),e.DNE(14,Oe,7,3,"ion-row",40),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(14),e.Y8G("ngForOf",t.reassignedResponseInfo)}}let Ye=(()=>{var o;class a{constructor(i,n,s,r,l,f,C,qe,He){this.ngZone=i,this.menuCtrl=n,this.mandateService=s,this.retailService=r,this.router=l,this._sharedService=f,this.platform=C,this._location=qe,this.activeRoute=He,this.currentdateforcompare=new Date,this.showInfiniteScroll=!0,this.isManual=!1,this.isChecked=!1,this.localStorage=localStorage,this.filteredParams={source:"",FromDate:"",propname:"",ToDate:"",duplicateValue:"",cityid:"",assignid:"",limitparam:0,limitrows:50},this.isSourceSection=!1,this.isPropertySection=!0,this.isdateSection=!1,this.isStatusSection=!1,this.count=0,this.isenabled=!0,this.selectedLeadCount=0,this.assignedLeadIds=[],this.temporaryLeadIds=[],this.checkedLeadsDetail=[],this.isRetail=!1,this.team=[{name:"Retail Team",code:"Retail"},{name:"Mandate Team",code:"Mandate"}],this.execTeam=[{name:"All",code:""},{name:"Relationship Executives",code:"50010"},{name:"Customersupport Executives",code:"50004"}],this.randomId="",this.fromExecids=[],this.isAtBottom=!1,this.platform.backButton.subscribeWithPriority(10,()=>{this.viewAssignLeadDetail.dismiss(),this.assignLeadsModal.dismiss(),p().close(),this._location.back()})}ngOnInit(){this.activeRoute.queryParams.subscribe(()=>{var i;p().close(),this.isCP="1"===this.localStorage.getItem("cpId"),this.isRetail=!0===this.isCP,this.router.events.subscribe(n=>{n instanceof g.wF&&(this.viewAssignLeadDetail.dismiss(),this.assignLeadsModal.dismiss(),p().close())}),null===(i=this.content)||void 0===i||i.scrollToTop(0),this.getRetailExecutive(),this.getMandatePropertyList(),this.getPreviousPresentmonthDate(),this.getQueryParam(),this.getsourcelist(),this.getPropertyList(),this.getleadsCount()})}getMandatePropertyList(){this.mandateService.getmandateprojects().subscribe(i=>{this.projectNames=i.Properties},i=>{console.error("Error fetching property list",i)})}getPreviousPresentmonthDate(){var n=(this.currentdateforcompare.getMonth()+1).toString().padStart(2,"0"),r=this.currentdateforcompare.getDate().toString().padStart(2,"0");this.todaysdateforcompare=this.currentdateforcompare.getFullYear()+"-"+n+"-"+r;var l=new Date(this.currentdateforcompare);l.setMonth(l.getMonth()-1);var f=(l.getMonth()+1).toString().padStart(2,"0"),C=l.getDate().toString().padStart(2,"0");this.previousMonthDateForCompare=l.getFullYear()+"-"+f+"-"+C}getleadsCount(){this.showSpinner=!0,this.filteredParams.FromDate=""!=this.filteredParams.FromDate?this.filteredParams.FromDate:this.previousMonthDateForCompare,this.filteredParams.ToDate=""!=this.filteredParams.ToDate?this.filteredParams.ToDate:this.todaysdateforcompare,this.filteredParams.cityid="Homes247"==this.filteredParams.source||"Homes247-Campaign"==this.filteredParams.source?"1":"",this._sharedService.getleadcounts(this.filteredParams).subscribe(i=>{this.leadcounts=i.Leads[0].leadcounts,this.uniqueCounts=i.Leads[0].uniqueecounts,this.duplicateCounts=i.Leads[0].duplicatecounts}),this.getLeads(!1,0)}getLeads(i,n){return this.filteredParams.cityid="Homes247"==this.filteredParams.source||"Homes247-Campaign"==this.filteredParams.source?"1":"",0==n||i?(this.count=i?this.count+50:0,this.filteredParams.limitparam=this.count):(this.filteredParams.limitparam=0,this.filteredParams.limitrows=n),this.filteredParams.FromDate=""!=this.filteredParams.FromDate?this.filteredParams.FromDate:this.previousMonthDateForCompare,this.filteredParams.ToDate=""!=this.filteredParams.ToDate?this.filteredParams.ToDate:this.todaysdateforcompare,new Promise((s,r)=>{this._sharedService.getleads(this.filteredParams).subscribe(l=>{this.ngZone.run(()=>{"True"===l.status?(this.showSpinner=!1,this.enquiries=i?this.enquiries.concat(l.Leads):l.Leads,s(!0)):(this.enquiries=[],this.showSpinner=!1,s(!1))})},l=>{this.showSpinner=!1,s(!1)})})}getPropertyList(){this.filteredParams.FromDate=""!=this.filteredParams.FromDate?this.filteredParams.FromDate:this.previousMonthDateForCompare,this.filteredParams.ToDate=""!=this.filteredParams.ToDate?this.filteredParams.ToDate:this.todaysdateforcompare;const i={...this.filteredParams,source:""};this._sharedService.propertylistForCompleteLeads(i).subscribe(n=>{this.propertyList=n.Leads,this.propertyList1=n.Leads})}addQueryParams(){const i={};let n=!1;for(const s in this.filteredParams)if(this.filteredParams.hasOwnProperty(s)){const r=""!==this.filteredParams[s]?this.filteredParams[s]:null;this.activeRoute.snapshot.queryParams[s]!==r&&(n=!0),i[s]=r}n?this.router.navigate([],{queryParams:i,queryParamsHandling:"merge"}).then(()=>{this.getleadsCount()}):this.getleadsCount()}getQueryParam(){this.activeRoute.queryParamMap.subscribe(()=>{const i=window.location.search,n=new URLSearchParams(i);Object.keys(this.filteredParams).forEach(s=>{n.has(s)?this.filteredParams[s]=n.get(s):"propname"==s&&"ranavPropId"in localStorage?this.filteredParams[s]="Ranav Tranquil Haven":"loginid"!==s&&"limit"!==s&&"limitrows"!==s&&(this.filteredParams[s]="")})})}reset_filter(){this.tempFilteredValues={source:"",FromDate:this.previousMonthDateForCompare,propname:"",ToDate:this.todaysdateforcompare,duplicateValue:"",cityid:"",assignid:"",limitparam:0,limitrows:100},this.addQueryParams()}onBackButton(){this.resetInfiniteScroll(),this._location.back(),this.ngOnInit()}onUniqueDuplcate(i){this.resetInfiniteScroll(),this.filteredParams.duplicateValue=i,this.selectedLeadCount=0,this.assignedLeadIds=[],this.assignedLeadDetails=[],this.addQueryParams()}navigateToFilter(){if(this.isCP?(this.isdateSection=!0,this.isPropertySection=!1,this.isSourceSection=!1,this.isStatusSection=!1):"ranavPropId"in localStorage?(this.isdateSection=!1,this.isPropertySection=!1,this.isSourceSection=!0,this.isStatusSection=!1):(this.isdateSection=!1,this.isPropertySection=!0,this.isSourceSection=!1,this.isStatusSection=!1),this.tempFilteredValues={...this.filteredParams},this.filteredParams.FromDate&&this.filteredParams.ToDate){const i=new Date(this.filteredParams.FromDate),n=new Date(this.filteredParams.ToDate);this.dateRange=[i,n]}this.scrollToSelectedProperty(),this.filterModal.present()}scrollToSelectedProperty(){var i=this;return(0,b.A)(function*(){const n=i.filteredParams.propname;if(!n)return;const s=`${n}`;setTimeout(()=>{const r=document.getElementById(s);r?i.propScrollContent.scrollToPoint(0,r.offsetTop,500):console.log("Element not found:",s)},1e3)})()}scrollToSelectedSource(){var i=this;return(0,b.A)(function*(){const n=i.filteredParams.source;if(!n)return;const s=`${n}`;setTimeout(()=>{const r=document.getElementById(s);r?i.sourceScrollContent.scrollToPoint(0,r.offsetTop,500):console.log("Element not found:",s)},1e3)})()}getsourcelist(){this._sharedService.sourcelist().subscribe(i=>{this.sourceList=i.Sources,this.sourceList1=this.sourceList})}setFilteredSource(){this.sourceList1=this.sourceList.filter(i=>i.source.toLowerCase().includes(this.sourceSearchTerm.toLowerCase()))}onFilterSelection(i,n){var s;switch(i){case"property":this.tempFilteredValues.propname=n;break;case"source":this.tempFilteredValues.source=n;break;case"status":this.tempFilteredValues.assignid=n;break;case"date":if(2===(null===(s=this.dateRange)||void 0===s?void 0:s.length)&&null!=this.dateRange[1]){const r=(0,_.Yq)(this.dateRange[0],"yyyy-MM-dd","en-US"),l=(0,_.Yq)(this.dateRange[1],"yyyy-MM-dd","en-US");this.tempFilteredValues.FromDate=r,this.tempFilteredValues.ToDate="1970-01-01"!=l?l:this.tempFilteredValues.ToDate}this.isenabled=""!=this.tempFilteredValues.ToDate&&"1970-01-01"!=this.tempFilteredValues.ToDate}}onFilterValues(i){this.isPropertySection="property"==i,this.isSourceSection="source"==i,this.isdateSection="date"==i,this.isStatusSection="status"==i,this.isPropertySection?this.scrollToSelectedProperty():this.isSourceSection&&this.scrollToSelectedSource()}setFilteredProperty(){this.propertyList1=this.propertyList.filter(i=>{var n,s;return null==i||null===(n=i.propertyname)||void 0===n?void 0:n.toLowerCase().includes(null===(s=this.propertySearchedName)||void 0===s?void 0:s.toLowerCase())})}onFilterDateremove(){p().fire({title:"Please Select the date range between 3 Months!",icon:"info",showConfirmButton:!1,heightAuto:!1,timer:2e3}).then(()=>{this.isdateSection=!0,this.isPropertySection=!1,this.isSourceSection=!1,this.isStatusSection=!1,this.filterModal.present()})}checkedLeads(i){this.checkedLeadsDetail=[],this.checkboxes.forEach((n,s)=>{n.checked&&this.checkedLeadsDetail.push(this.enquiries[s])}),this.temporaryLeadIds=this.checkedLeadsDetail.map(n=>n.customer_IDPK)}getSelectedLeadDetails(){const i=new Set((this.assignedLeadDetails||[]).map(s=>s.customer_IDPK)),n=this.enquiries.filter(s=>!(!this.assignedLeadIds.includes(s.customer_IDPK)||i.has(s.customer_IDPK)||(i.add(s.customer_IDPK),0)));this.assignedLeadDetails=[...this.assignedLeadDetails||[],...n],this.assignedLeadDetails.forEach(s=>{this.fromExecids.push(s.RMID)})}onSelectLeadCount(i){"manual"!=i&&parseInt(i)>this.enquiries.length?(this.selectedLeadCount=parseInt(i),this.showSpinner=!0,this.isManual=!1,this.getLeads(!1,parseInt(i)).then(()=>{this.checkedLeadsDetail=this.enquiries.slice(0,parseInt(i)),this.temporaryLeadIds=this.checkedLeadsDetail.map(n=>n.customer_IDPK)})):"manual"==i?(this.isManual=!0,this.selectedCount=null,this.selectedLeadCount=0,this.checkedLeadsDetail=[],this.temporaryLeadIds=[]):(this.selectedLeadCount=parseInt(i),this.selectedCount=null,setTimeout(()=>{this.selectedCount=i}),this.isManual=!1,this.temporaryLeadIds.length==parseInt(i)?(this.checkedLeadsDetail=[],this.temporaryLeadIds=[]):(this.checkedLeadsDetail=this.enquiries.slice(0,parseInt(i)),this.temporaryLeadIds=this.checkedLeadsDetail.map(n=>n.customer_IDPK)))}onAssignLead(){this.isChecked=!0,this.checkedLeadsDetail=[],this.temporaryLeadIds=[],this.isManual=!1,this.selectedCount=null,this.selectedLeadCount=0}toggle_random_assign(i){this.randomId=i.detail.checked?"1":""}reset(){this.selectedExecutiveName=[],this.executives=[],this.selectedExecTeam="",this.selectedTeam=null,this.selectedProperty=""}onAssignTeamSelect(i){this.isRetail="Retail"===i.value.code,this.executives=[],this.selectedExecutiveName=[]}getRetailExecutive(){this.retailService.fetchRetail_executivesName("","").subscribe(i=>{this.executives=i.DashboardCounts})}onExecTeamSelect(i){this.showSpinner=!0,this.selectedExecutiveName=[],this.retailService.fetchRetail_executivesName(i.value.code,"").subscribe(n=>{this.showSpinner=!1,this.executives=n.DashboardCounts})}onPropertySelect(i){this.showSpinner=!0,this.selectedExecutiveName=[],this.mandateService.setHoverState("28773"===i.value.property_idfk?"ranav_group":""),this.mandateService.fetchmandateexecutives(i.value.property_idfk,"").subscribe(n=>{this.executives=n.mandateexecutives,this.showSpinner=!1})}openAssignLeadsModal(){this.temporaryLeadIds.length?this.assignLeadsModal.present():p().fire({title:"Please select a lead to proceed",icon:"error",heightAuto:!1,confirmButtonText:"OK"})}assignLead(){var i;if(this.selectedTeam||this.isCP)if(this.isRetail||this.selectedProperty)if(!this.isRetail||this.selectedExecTeam||this.isCP)if(0===(null===(i=this.selectedExecutiveName)||void 0===i?void 0:i.length)||void 0===this.selectedExecutiveName)p().fire({title:"Please select an executive before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"});else{const n=[];this.selectedExecutiveName.forEach(r=>{n.push(this.isRetail?r.ExecId:r.id)});const s={rmID:n,LeadID:this.temporaryLeadIds,propID:this.isRetail?"":this.selectedProperty.property_idfk,random:this.randomId,fromExecids:this.fromExecids,loginId:localStorage.getItem("UserId")};"demo"===localStorage.getItem("Name")?p().fire({title:"Lead assignment is not allowed for demo account",icon:"error",heightAuto:!1,allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{location.reload()}):this.isRetail?this.retailService.leadreassign(s).subscribe(r=>{"True"==r.status&&(this.reassignedResponseInfo=r.assignedleads,p().fire({title:"Assigned Successfully",icon:"success",heightAuto:!1,confirmButtonText:"Show Details"}).then(l=>{this.showSpinner=!0,(l.isConfirmed||l.dismiss===p().DismissReason.backdrop)&&(this.assignLeadsModal.dismiss(),this.viewAssignLeadDetail.present())}))}):this.mandateService.leadreassign(s).subscribe(r=>{"True"==r.status&&(this.reassignedResponseInfo=r.assignedleads,p().fire({title:"Assigned Successfully",icon:"success",heightAuto:!1,allowOutsideClick:!0,confirmButtonText:"Show Details"}).then(l=>{this.showSpinner=!0,(l.isConfirmed||l.dismiss===p().DismissReason.backdrop)&&(this.assignLeadsModal.dismiss(),this.viewAssignLeadDetail.present())}))})}else p().fire({title:"Please select an Executive Team before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"});else p().fire({title:"Please select an property before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"});else p().fire({title:"Please select an team before proceeding.",icon:"warning",heightAuto:!1,confirmButtonText:"OK"})}onViewAssignLeadDetailClose(){this.viewAssignLeadDetail.dismiss(),window.location.reload()}onWillDismiss(i){location.reload()}loadData(i){"1"===this.filteredParams.duplicateValue&&this.enquiries.length<this.duplicateCounts||""===this.filteredParams.duplicateValue&&this.enquiries.length<this.uniqueCounts?this.getLeads(!0,0).then(()=>{i.target.complete()}):i.target.disabled=!0}resetInfiniteScroll(){this.showInfiniteScroll=!1,setTimeout(()=>{this.showInfiniteScroll=!0},10)}ngOnDestroy(){p().close()}openEndMenu(){this._sharedService.isMenuOpen=!0,this.menuCtrl.open("end")}onScroll(i){const n=i.detail.scrollTop;this.content.getScrollElement().then(s=>{this.isAtBottom=n+s.offsetHeight>=s.scrollHeight-100})}daterange(){const i=this.tempFilteredValues.FromDate,n="1970-01-01"!=this.tempFilteredValues.ToDate?this.tempFilteredValues.ToDate:"";return i&&n?`${i} to ${n}`:i?"Select end date":"Select date range"}confirmSelection(){this.filteredParams={...this.tempFilteredValues},this.filterModal.dismiss(),this.addQueryParams()}}return(o=a).\u0275fac=function(i){return new(i||o)(e.rXU(e.SKi),e.rXU(c._t),e.rXU(F.a),e.rXU(I.k),e.rXU(g.Ix),e.rXU(S.d),e.rXU(v.OD),e.rXU(_.aZ),e.rXU(g.nX))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-leads"]],viewQuery:function(i,n){if(1&i&&(e.GBs(y,5),e.GBs(M,5),e.GBs(T,5),e.GBs(D,5),e.GBs(G,5),e.GBs(E,5),e.GBs(N,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.filterModal=s.first),e.mGM(s=e.lsd())&&(n.content=s.first),e.mGM(s=e.lsd())&&(n.propScrollContent=s.first),e.mGM(s=e.lsd())&&(n.sourceScrollContent=s.first),e.mGM(s=e.lsd())&&(n.assignLeadsModal=s.first),e.mGM(s=e.lsd())&&(n.viewAssignLeadDetail=s.first),e.mGM(s=e.lsd())&&(n.checkboxes=s)}},decls:31,vars:17,consts:[["mainScrollContent",""],["filterModal",""],["assignLeadsModal",""],["viewAssignLeadDetail",""],["freshleadsCheckboxes",""],["infiniteScroll",""],["propScrollContent",""],["propertyRef",""],["sourceScrollContent",""],["calendar",""],["class","content_center loader",4,"ngIf"],[4,"ngIf"],["style","margin-top: 5px;",4,"ngIf"],["class","uniqueDuplcateCss",4,"ngIf"],[1,"filteredChips"],["fill","clear",3,"click",4,"ngIf"],["scrollEvents","true",3,"ionScroll"],["class","lead-info",4,"ngFor","ngForOf"],["class","textStyle ion-justify-content-center ion-align-items-center",4,"ngIf"],["threshold","100px",3,"disabled","ionInfinite",4,"ngIf"],["class","ion-filter-icon","src","../../assets/CRMimages/filter.svg",3,"click",4,"ngIf"],["class","addleadicon",4,"ngIf"],["id","assignLeads-modal","trigger","open-custom-dialog",3,"backdropDismiss"],["id","viewAssignLeadDetail",3,"willDismiss","backdropDismiss"],[1,"content_center","loader"],["src","../assets/CRMimages/animation/loader.gif",2,"width","300px","height","70px"],["size","2",1,"content_center",3,"click"],["name","arrow-back"],["size","8",1,"content_center"],[1,"font-size16-familyPoppins"],["name","menu",1,"menu_icon"],[2,"margin-top","5px"],["name","arrow-back-outline"],["size","2",1,"ion-text-left"],["size","8","size","8",1,"ion-text-left"],[1,"uniqueDuplcateCss"],[1,"ion-text-center","font-familyPoppins","font-weight400",2,"padding","5px 0",3,"click"],[3,"ngClass"],[1,"ion-text-center","font-familyPoppins","font-weight400",3,"click"],["fill","clear",3,"click"],[4,"ngFor","ngForOf"],["slot","end","name","close"],[1,"lead-info"],["class","content_center",3,"size",4,"ngIf"],[3,"size","routerLink","queryParams"],[1,"info-row-heading"],["size","6"],[1,"info-row-value"],["style","width: 100%;display: flex;",4,"ngIf"],["class","info-row-value",4,"ngIf"],["size","6",4,"ngIf"],["class","info-row-value","style","color:green",4,"ngIf"],["class","info-row-value font-colorBlue",4,"ngIf"],[1,"content_center",3,"size"],["name","programming","class","form-check-input",3,"disabled","checked","ionChange",4,"ngIf"],["name","programming",1,"form-check-input",3,"ionChange","disabled","checked"],[2,"width","100%","display","flex"],["style","width: 14px;padding-left: 2px;","src","../../assets/CRMimages/qualified.svg",4,"ngIf"],["style","width: 14px;padding-left: 2px;","src","../../assets/CRMimages/not_qualified.svg",4,"ngIf"],["src","../../assets/CRMimages/qualified.svg",2,"width","14px","padding-left","2px"],["src","../../assets/CRMimages/not_qualified.svg",2,"width","14px","padding-left","2px"],[1,"info-row-value",2,"color","green"],[1,"info-row-value","font-colorBlue"],[1,"textStyle","ion-justify-content-center","ion-align-items-center"],[1,"ion-text-center"],["threshold","100px",3,"ionInfinite","disabled"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"header_footerHeight"],[2,"height","45px"],["name","close"],["name","refresh"],[2,"height","100%"],[1,"split-layout"],[1,"left-column"],["class","content_center borderBottom_background",3,"ngClass","click",4,"ngIf"],[1,"content_center","borderBottom_background",3,"click","ngClass"],[1,"divider"],[1,"right-column"],["class","property",4,"ngIf"],[1,"content_center","font-size14-familyPoppins"],["fill","clear",1,"showresultButton",3,"click"],[1,"property"],[3,"ngModelChange","ionInput","ngModel"],[2,"height","70vh"],["class","filterButtons",3,"id","ngClass","click",4,"ngFor","ngForOf"],[1,"filterButtons",3,"click","id","ngClass"],[1,"filterButtons",3,"click","ngClass"],[3,"click","ngClass"],[1,"filterButtons"],[1,"font-size12-familyPoppins",2,"padding-bottom","0"],[2,"width","100%"],[1,"filterIcon","height35px"],["for","complete_leads_dateRange",2,"width","100%"],[1,"date_range"],["src","../assets/CRMimages/calendar-edit-outline.png"],["inputId","complete_leads_dateRange","selectionMode","range","appendTo","body",3,"ngModelChange","onSelect","touchUI","ngModel","dateFormat"],["src","../../assets/CRMimages/filter.svg",1,"ion-filter-icon",3,"click"],[1,"addleadicon"],["src","../../assets/CRMimages/assign-icon.svg",3,"click"],[1,"assigningLead"],[1,"assigncountleads"],[1,"content_center","font-size12-familyPoppins","paddingZero",3,"click","ngClass"],[1,"font-size12-familyPoppins","content_center","font-weight400","paddingZero",3,"click","ngClass"],["toggleIcon","caret-down-sharp","interface","popover","placeholder","More",1,"always-flip","font-size12-familyPoppins",2,"min-height","20px",3,"ngModelChange","ionChange","interfaceOptions","ngModel"],["value","75",1,"font-size12-familyPoppins"],["value","100",1,"font-size12-familyPoppins"],["value","150",1,"font-size12-familyPoppins"],[1,"ion-text-right",3,"click"],[1,"assignLeadbutton"],["name","checkmark-outline"],[1,"assignTaskHeading"],["size","10"],["style","background-color: #FFF3F7","class","ion-justify-content-center",4,"ngIf"],[2,"width","100%","display","flex","align-items","center","justify-content","center"],[2,"width","95%"],[2,"padding","0"],[1,"data-row",3,"ngClass"],[1,"paddingBottomLeft"],[1,"font-size14-familyPoppins"],["id","executiveDropdown",4,"ngIf"],["class","randomleadAssign",4,"ngIf"],["fill","clear",1,"font-size14-familyPoppins","bg_textColor",2,"width","100%",3,"click"],["name","circular",2,"color","white"],[1,"ion-justify-content-center",2,"background-color","#FFF3F7"],["src","../../assets/CRMimages/assignLead.png",2,"width","135px","height","135px"],["id","teamSelectDropdown"],["optionLabel","name","appendTo","body","placeholder","Select a Team","name","teamSelect",1,"teamSelectDropdown",3,"ngModelChange","onChange","options","ngModel"],["optionLabel","name","appendTo","body","placeholder","Select a Team","name","selectedExecTeam",1,"teamSelectDropdown",3,"ngModelChange","onChange","ngModel","options"],["optionLabel","property_info_name","name","selectedProperty","placeholder","Select a Team","appendTo","body",1,"teamSelectDropdown",3,"ngModelChange","onChange","options","ngModel"],["id","executiveDropdown"],["id","mandateExec_dropdown","optionLabel","ExecName","name","selectedExecutiveName","defaultLabel","Select Executives","appendTo","body",3,"ngModelChange","options","filter","ngModel","showHeader"],["id","mandateExec_dropdown","optionLabel","name","name","selectedExecutiveName","defaultLabel","Select Executives","appendTo","body",3,"ngModelChange","options","filter","ngModel","showHeader"],[1,"randomleadAssign"],["size","2"],[3,"ionChange","disabled"],[1,"assignTaskHeading1"],["size","2",1,"content_center",2,"align-items","end","flex-direction","column-reverse",3,"click"],[2,"overflow","scroll"],[2,"overflow","auto"],[1,"table-header"],[1,"table-cell"],[1,"table-cell",2,"border-left","1px solid #4398c3"]],template:function(i,n){if(1&i){const s=e.RV6();e.DNE(0,X,2,0,"div",10),e.j41(1,"ion-header"),e.DNE(2,Y,11,2,"ion-row",11)(3,A,8,1,"ion-row",12),e.k0s(),e.DNE(4,z,7,4,"ion-row",13),e.j41(5,"ion-row",14)(6,"ion-col")(7,"div"),e.DNE(8,U,3,1,"ion-button",15)(9,Q,3,1,"ion-button",15)(10,W,4,1,"ion-button",15)(11,Z,4,1,"ion-button",15),e.k0s()()(),e.j41(12,"ion-content",16,0),e.bIt("ionScroll",function(l){return e.eBV(s),e.Njj(n.onScroll(l))}),e.DNE(14,pe,37,17,"div",17)(15,_e,4,0,"ion-row",18)(16,me,3,1,"ion-infinite-scroll",19),e.k0s(),e.j41(17,"ion-modal",null,1),e.DNE(19,we,29,10,"ng-template"),e.k0s(),e.j41(20,"div"),e.DNE(21,Pe,1,0,"ion-img",20),e.k0s(),e.DNE(22,je,2,0,"div",21)(23,ve,26,8,"ion-footer",11)(24,Fe,1,0,"app-common-footer",11),e.j41(25,"ion-modal",22,2),e.DNE(27,Be,29,13,"ng-template"),e.k0s(),e.j41(28,"ion-modal",23,3),e.bIt("willDismiss",function(l){return e.eBV(s),e.Njj(n.onWillDismiss(l))}),e.DNE(30,Xe,15,1,"ng-template"),e.k0s()}2&i&&(e.Y8G("ngIf",n.showSpinner),e.R7$(2),e.Y8G("ngIf",!n.isChecked),e.R7$(),e.Y8G("ngIf",n.isChecked),e.R7$(),e.Y8G("ngIf",!n.isChecked),e.R7$(4),e.Y8G("ngIf",n.filteredParams.propname&&"28773"!=n.localStorage.getItem("PropertyId")),e.R7$(),e.Y8G("ngIf",n.filteredParams.source),e.R7$(),e.Y8G("ngIf",n.filteredParams.FromDate),e.R7$(),e.Y8G("ngIf",n.filteredParams.assignid),e.R7$(3),e.Y8G("ngForOf",n.enquiries),e.R7$(),e.Y8G("ngIf",n.enquiries&&0===n.enquiries.length),e.R7$(),e.Y8G("ngIf",n.showInfiniteScroll),e.R7$(5),e.Y8G("ngIf",!n.isChecked&&!n.isAtBottom),e.R7$(),e.Y8G("ngIf",!n.isChecked&&"1"!=n.localStorage.getItem("cpId")&&!n.isAtBottom),e.R7$(),e.Y8G("ngIf",n.isChecked),e.R7$(),e.Y8G("ngIf",!n.isChecked),e.R7$(),e.Y8G("backdropDismiss",!1),e.R7$(3),e.Y8G("backdropDismiss",!1))},dependencies:[_.YU,_.Sq,_.bT,g.Wk,c.Jm,c.eY,c.hU,c.W9,c.M0,c.lO,c.eU,c.iq,c.KW,c.Ax,c.Hp,c.ln,c.S1,c.Nm,c.Ip,c.w2,c.BY,c.ai,c.Sb,c.hB,c.Je,c.Gw,c.N7,w.Vv,L.ms,k.KF,m.qT,m.BC,m.cb,m.vS,m.cV,R.a,_.vh],styles:[".textBorderColor[_ngcontent-%COMP%]{color:#0b7ab2;border:1px solid #0B7AB2;border-radius:30px}.custom-col[_ngcontent-%COMP%]{padding:5px;font-size:12px;font-family:Poppins;border-radius:30px;flex-shrink:0;cursor:pointer}.center-text[_ngcontent-%COMP%]{text-align:center}.custom-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px}.info-row-heading[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:10px;color:#0009}.info-row-heading[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-bottom:0;padding-right:0}.info-row-value[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500;font-size:10px;color:#000c}.info-row-value[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:0}.lead-info[_ngcontent-%COMP%]{box-shadow:1px 2px 10px #63636333;border:1px solid #E9E9E9;border-radius:4px;margin:10px}.footer-toolbar[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;--min-height:0;height:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 -8px 10px #0003}.footer-icons[_ngcontent-%COMP%]{position:relative;background-color:#fff}.showresultButton[_ngcontent-%COMP%]{background:#0b7ab2;color:#fff;width:70%;border-radius:10px;text-transform:none;font-size:16px;font-family:Poppins}.split-layout[_ngcontent-%COMP%]{display:flex;align-items:stretch;height:100%}.left-column[_ngcontent-%COMP%]{flex:2.5;max-width:41%}.right-column[_ngcontent-%COMP%]{flex:3}.divider[_ngcontent-%COMP%]{width:1px;background-color:#ccc}.borderBottom_background[_ngcontent-%COMP%]{border-bottom:.5px solid #ECECEC}.borderBottom_background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-family:Poppins}.filterButtons[_ngcontent-%COMP%]{font-family:Poppins;font-weight:400;font-size:12px;color:#000;text-transform:none;height:35px;padding-left:10px;display:flex;align-items:center}.backgroundLightColor[_ngcontent-%COMP%]{background-color:#0b7ab21a}.filteredChips[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#0b7ab2;font-size:12px;font-family:Poppins;font-weight:400;word-wrap:break-word;border:.5px #0B7AB2 solid;border-radius:4px;height:26px;min-height:26px}.filteredChips[_ngcontent-%COMP%]{padding:0 5px}.filteredChips[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;overflow-x:scroll}.selectOption[_ngcontent-%COMP%]{border-bottom:.75px #ECECEC solid}.uniqueDuplcateCss[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#727272;border:1px solid rgb(114,114,114);padding:5px;border-radius:34px}.uniqueDuplcateCss[_ngcontent-%COMP%]{padding:5px 5px 0}.addleadicon[_ngcontent-%COMP%]{font-size:45px;color:#fff;font-size:25px;position:absolute;right:8px;bottom:115px;background-color:#2196f3;border-radius:35px;padding:5px;--ionicon-stroke-width: 60px}.assigningLead[_ngcontent-%COMP%]{bottom:0;background:#fff;width:100%;border-radius:10px;border-top:1px solid #c2c5cf}.assigncountleads[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border:1px solid #232323;border-radius:23px;margin:5px 0 5px 5px;font-size:10px}.assignLeadbutton[_ngcontent-%COMP%]{background:#0b7ab2;color:#fff;padding:5px 12px;border-radius:2px;font-size:14px;font-family:Poppins;font-weight:400}#assignLeads-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute!important;right:10px!important}#assignLeads-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{padding-left:5px!important}ion-modal#assignLeads-modal[_ngcontent-%COMP%]{padding:10px;--height: auto;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}  ion-modal#assignLeads-modal .ion-page{display:block!important}ion-modal#assignLeads-modal[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-modal#assignLeads-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.assignTaskHeading[_ngcontent-%COMP%]{height:42px;align-items:center;font-size:16px;font-family:Poppins;font-weight:500px;color:#0b7ab2;border-bottom:1px solid rgba(72,72,72,.78)}.data-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.data-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px}.data-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}.data-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;font-weight:400px;font-family:Poppins;font-size:8px}.single-lead[_ngcontent-%COMP%]{height:50px}.multiple-leads[_ngcontent-%COMP%]{height:145px}.paddingBottomLeft[_ngcontent-%COMP%]{padding-left:0;padding-bottom:0}  p-dropdown.teamSelectDropdown .p-inputwrapper{width:100%!important}  p-multiselect .p-inputwrapper{width:100%!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger{width:30px!important}  p-multiselect .p-inputwrapper .p-multiselect-trigger{width:30px!important}  p-dropdown.teamSelectDropdown .p-inputwrapper .p-dropdown-trigger chevrondownicon{width:12px!important}  p-multiselect .p-inputwrapper .p-multiselect-trigger chevrondownicon{width:12px!important}  .p-element .p-dropdown-item{padding:5px!important}  .p-element .p-multiselect-item{padding:5px!important}  p-multiselect .p-inputwrapper .p-multiselect-label-container .p-multiselect-label{padding:5px;font-family:Poppins;font-size:12px}#teamSelectDropdown[_ngcontent-%COMP%], #executiveDropdown[_ngcontent-%COMP%]{border:1px solid #D8D8D8;border-radius:4px;padding:0}  p-dropdown .p-inputwrapper .p-dropdown-label{font-family:Poppins;font-size:12px;padding:5px}ion-modal#viewAssignLeadDetail[_ngcontent-%COMP%]{padding:10px;--height: auto;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}.assignTaskHeading1[_ngcontent-%COMP%]{height:42px;align-items:center;font-size:16px;font-family:Poppins;font-weight:500px;color:#0b7ab2}.table-cell[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #4398c3;border-right:1px solid #4398c3;text-align:center;font-size:12px;font-family:Poppins}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#f1f1f1;color:#4398c3;border-top:1px solid #4398c3;border-left:1px solid #4398c3;font-size:12px;font-family:Poppins}  .custom-popover-height .select-interface-option{line-height:20px;--min-height: 0 !important}  .custom-popover-height .popover-viewport{max-height:200px!important}.menu_icon[_ngcontent-%COMP%]{font-size:30px;color:#0b7ab2}ion-img.ion-filter-icon[_ngcontent-%COMP%]{float:right;height:40px;position:absolute;right:0;bottom:65px}  p-calendar input{top:15px;left:10px;position:absolute!important;opacity:0!important;pointer-events:none!important;height:0!important;width:0!important;display:none!important}.date_range[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:100%;width:100%;padding:8px 4px;border-radius:5px;border:1px solid #ECECEC}.date_range[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#8a8a8a;font-size:3.4vw;font-family:Poppins}  .p-datepicker table td>span.p-highlight{color:#e6eaed!important;background:#0b7ab2!important}"]}),a})();var Ae=d(4127);let ze=(()=>{var o;class a{}return(o=a).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[_.MD,g.iI.forChild([{path:"",component:Ye}]),c.bv,w.rO,L.kr,k.iV,P.aI,m.YN,Ae.G]}),a})()}}]);